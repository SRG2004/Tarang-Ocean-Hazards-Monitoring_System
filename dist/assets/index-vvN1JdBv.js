var _A=Object.defineProperty;var vA=(n,e,t)=>e in n?_A(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var il=(n,e,t)=>vA(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();function Sw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var qp={exports:{}},Mu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ix;function xA(){if(ix)return Mu;ix=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var y in o)y!=="key"&&(c[y]=o[y])}else c=o;return o=c.ref,{$$typeof:n,type:s,key:f,ref:o!==void 0?o:null,props:c}}return Mu.Fragment=e,Mu.jsx=t,Mu.jsxs=t,Mu}var sx;function bA(){return sx||(sx=1,qp.exports=xA()),qp.exports}var d=bA(),Gp={exports:{}},Xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rx;function wA(){if(rx)return Xe;rx=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),A=Symbol.iterator;function R(k){return k===null||typeof k!="object"?null:(k=A&&k[A]||k["@@iterator"],typeof k=="function"?k:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,H={};function V(k,ue,we){this.props=k,this.context=ue,this.refs=H,this.updater=we||P}V.prototype.isReactComponent={},V.prototype.setState=function(k,ue){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,ue,"setState")},V.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function ce(){}ce.prototype=V.prototype;function G(k,ue,we){this.props=k,this.context=ue,this.refs=H,this.updater=we||P}var W=G.prototype=new ce;W.constructor=G,M(W,V.prototype),W.isPureReactComponent=!0;var ve=Array.isArray,le={H:null,A:null,T:null,S:null,V:null},xe=Object.prototype.hasOwnProperty;function q(k,ue,we,be,Ae,Ie){return we=Ie.ref,{$$typeof:n,type:k,key:ue,ref:we!==void 0?we:null,props:Ie}}function O(k,ue){return q(k.type,ue,void 0,void 0,void 0,k.props)}function D(k){return typeof k=="object"&&k!==null&&k.$$typeof===n}function Z(k){var ue={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(we){return ue[we]})}var $=/\/+/g;function Y(k,ue){return typeof k=="object"&&k!==null&&k.key!=null?Z(""+k.key):ue.toString(36)}function z(){}function _e(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(z,z):(k.status="pending",k.then(function(ue){k.status==="pending"&&(k.status="fulfilled",k.value=ue)},function(ue){k.status==="pending"&&(k.status="rejected",k.reason=ue)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function qe(k,ue,we,be,Ae){var Ie=typeof k;(Ie==="undefined"||Ie==="boolean")&&(k=null);var Ee=!1;if(k===null)Ee=!0;else switch(Ie){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(k.$$typeof){case n:case e:Ee=!0;break;case w:return Ee=k._init,qe(Ee(k._payload),ue,we,be,Ae)}}if(Ee)return Ae=Ae(k),Ee=be===""?"."+Y(k,0):be,ve(Ae)?(we="",Ee!=null&&(we=Ee.replace($,"$&/")+"/"),qe(Ae,ue,we,"",function(si){return si})):Ae!=null&&(D(Ae)&&(Ae=O(Ae,we+(Ae.key==null||k&&k.key===Ae.key?"":(""+Ae.key).replace($,"$&/")+"/")+Ee)),ue.push(Ae)),1;Ee=0;var At=be===""?".":be+":";if(ve(k))for(var it=0;it<k.length;it++)be=k[it],Ie=At+Y(be,it),Ee+=qe(be,ue,we,Ie,Ae);else if(it=R(k),typeof it=="function")for(k=it.call(k),it=0;!(be=k.next()).done;)be=be.value,Ie=At+Y(be,it++),Ee+=qe(be,ue,we,Ie,Ae);else if(Ie==="object"){if(typeof k.then=="function")return qe(_e(k),ue,we,be,Ae);throw ue=String(k),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function se(k,ue,we){if(k==null)return k;var be=[],Ae=0;return qe(k,be,"","",function(Ie){return ue.call(we,Ie,Ae++)}),be}function Se(k){if(k._status===-1){var ue=k._result;ue=ue(),ue.then(function(we){(k._status===0||k._status===-1)&&(k._status=1,k._result=we)},function(we){(k._status===0||k._status===-1)&&(k._status=2,k._result=we)}),k._status===-1&&(k._status=0,k._result=ue)}if(k._status===1)return k._result.default;throw k._result}var ye=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ue=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(ue))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function et(){}return Xe.Children={map:se,forEach:function(k,ue,we){se(k,function(){ue.apply(this,arguments)},we)},count:function(k){var ue=0;return se(k,function(){ue++}),ue},toArray:function(k){return se(k,function(ue){return ue})||[]},only:function(k){if(!D(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Xe.Component=V,Xe.Fragment=t,Xe.Profiler=o,Xe.PureComponent=G,Xe.StrictMode=s,Xe.Suspense=v,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,Xe.__COMPILER_RUNTIME={__proto__:null,c:function(k){return le.H.useMemoCache(k)}},Xe.cache=function(k){return function(){return k.apply(null,arguments)}},Xe.cloneElement=function(k,ue,we){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var be=M({},k.props),Ae=k.key,Ie=void 0;if(ue!=null)for(Ee in ue.ref!==void 0&&(Ie=void 0),ue.key!==void 0&&(Ae=""+ue.key),ue)!xe.call(ue,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&ue.ref===void 0||(be[Ee]=ue[Ee]);var Ee=arguments.length-2;if(Ee===1)be.children=we;else if(1<Ee){for(var At=Array(Ee),it=0;it<Ee;it++)At[it]=arguments[it+2];be.children=At}return q(k.type,Ae,void 0,void 0,Ie,be)},Xe.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:c,_context:k},k},Xe.createElement=function(k,ue,we){var be,Ae={},Ie=null;if(ue!=null)for(be in ue.key!==void 0&&(Ie=""+ue.key),ue)xe.call(ue,be)&&be!=="key"&&be!=="__self"&&be!=="__source"&&(Ae[be]=ue[be]);var Ee=arguments.length-2;if(Ee===1)Ae.children=we;else if(1<Ee){for(var At=Array(Ee),it=0;it<Ee;it++)At[it]=arguments[it+2];Ae.children=At}if(k&&k.defaultProps)for(be in Ee=k.defaultProps,Ee)Ae[be]===void 0&&(Ae[be]=Ee[be]);return q(k,Ie,void 0,void 0,null,Ae)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(k){return{$$typeof:y,render:k}},Xe.isValidElement=D,Xe.lazy=function(k){return{$$typeof:w,_payload:{_status:-1,_result:k},_init:Se}},Xe.memo=function(k,ue){return{$$typeof:x,type:k,compare:ue===void 0?null:ue}},Xe.startTransition=function(k){var ue=le.T,we={};le.T=we;try{var be=k(),Ae=le.S;Ae!==null&&Ae(we,be),typeof be=="object"&&be!==null&&typeof be.then=="function"&&be.then(et,ye)}catch(Ie){ye(Ie)}finally{le.T=ue}},Xe.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},Xe.use=function(k){return le.H.use(k)},Xe.useActionState=function(k,ue,we){return le.H.useActionState(k,ue,we)},Xe.useCallback=function(k,ue){return le.H.useCallback(k,ue)},Xe.useContext=function(k){return le.H.useContext(k)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(k,ue){return le.H.useDeferredValue(k,ue)},Xe.useEffect=function(k,ue,we){var be=le.H;if(typeof we=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return be.useEffect(k,ue)},Xe.useId=function(){return le.H.useId()},Xe.useImperativeHandle=function(k,ue,we){return le.H.useImperativeHandle(k,ue,we)},Xe.useInsertionEffect=function(k,ue){return le.H.useInsertionEffect(k,ue)},Xe.useLayoutEffect=function(k,ue){return le.H.useLayoutEffect(k,ue)},Xe.useMemo=function(k,ue){return le.H.useMemo(k,ue)},Xe.useOptimistic=function(k,ue){return le.H.useOptimistic(k,ue)},Xe.useReducer=function(k,ue,we){return le.H.useReducer(k,ue,we)},Xe.useRef=function(k){return le.H.useRef(k)},Xe.useState=function(k){return le.H.useState(k)},Xe.useSyncExternalStore=function(k,ue,we){return le.H.useSyncExternalStore(k,ue,we)},Xe.useTransition=function(){return le.H.useTransition()},Xe.version="19.1.1",Xe}var ax;function iy(){return ax||(ax=1,Gp.exports=wA()),Gp.exports}var U=iy();const ta=Sw(U);var $p={exports:{}},Pu={},Zp={exports:{}},Kp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ox;function TA(){return ox||(ox=1,(function(n){function e(se,Se){var ye=se.length;se.push(Se);e:for(;0<ye;){var et=ye-1>>>1,k=se[et];if(0<o(k,Se))se[et]=Se,se[ye]=k,ye=et;else break e}}function t(se){return se.length===0?null:se[0]}function s(se){if(se.length===0)return null;var Se=se[0],ye=se.pop();if(ye!==Se){se[0]=ye;e:for(var et=0,k=se.length,ue=k>>>1;et<ue;){var we=2*(et+1)-1,be=se[we],Ae=we+1,Ie=se[Ae];if(0>o(be,ye))Ae<k&&0>o(Ie,be)?(se[et]=Ie,se[Ae]=ye,et=Ae):(se[et]=be,se[we]=ye,et=we);else if(Ae<k&&0>o(Ie,ye))se[et]=Ie,se[Ae]=ye,et=Ae;else break e}}return Se}function o(se,Se){var ye=se.sortIndex-Se.sortIndex;return ye!==0?ye:se.id-Se.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var f=Date,y=f.now();n.unstable_now=function(){return f.now()-y}}var v=[],x=[],w=1,A=null,R=3,P=!1,M=!1,H=!1,V=!1,ce=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function ve(se){for(var Se=t(x);Se!==null;){if(Se.callback===null)s(x);else if(Se.startTime<=se)s(x),Se.sortIndex=Se.expirationTime,e(v,Se);else break;Se=t(x)}}function le(se){if(H=!1,ve(se),!M)if(t(v)!==null)M=!0,xe||(xe=!0,Y());else{var Se=t(x);Se!==null&&qe(le,Se.startTime-se)}}var xe=!1,q=-1,O=5,D=-1;function Z(){return V?!0:!(n.unstable_now()-D<O)}function $(){if(V=!1,xe){var se=n.unstable_now();D=se;var Se=!0;try{e:{M=!1,H&&(H=!1,G(q),q=-1),P=!0;var ye=R;try{t:{for(ve(se),A=t(v);A!==null&&!(A.expirationTime>se&&Z());){var et=A.callback;if(typeof et=="function"){A.callback=null,R=A.priorityLevel;var k=et(A.expirationTime<=se);if(se=n.unstable_now(),typeof k=="function"){A.callback=k,ve(se),Se=!0;break t}A===t(v)&&s(v),ve(se)}else s(v);A=t(v)}if(A!==null)Se=!0;else{var ue=t(x);ue!==null&&qe(le,ue.startTime-se),Se=!1}}break e}finally{A=null,R=ye,P=!1}Se=void 0}}finally{Se?Y():xe=!1}}}var Y;if(typeof W=="function")Y=function(){W($)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,_e=z.port2;z.port1.onmessage=$,Y=function(){_e.postMessage(null)}}else Y=function(){ce($,0)};function qe(se,Se){q=ce(function(){se(n.unstable_now())},Se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return R},n.unstable_next=function(se){switch(R){case 1:case 2:case 3:var Se=3;break;default:Se=R}var ye=R;R=Se;try{return se()}finally{R=ye}},n.unstable_requestPaint=function(){V=!0},n.unstable_runWithPriority=function(se,Se){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var ye=R;R=se;try{return Se()}finally{R=ye}},n.unstable_scheduleCallback=function(se,Se,ye){var et=n.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?et+ye:et):ye=et,se){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=ye+k,se={id:w++,callback:Se,priorityLevel:se,startTime:ye,expirationTime:k,sortIndex:-1},ye>et?(se.sortIndex=ye,e(x,se),t(v)===null&&se===t(x)&&(H?(G(q),q=-1):H=!0,qe(le,ye-et))):(se.sortIndex=k,e(v,se),M||P||(M=!0,xe||(xe=!0,Y()))),se},n.unstable_shouldYield=Z,n.unstable_wrapCallback=function(se){var Se=R;return function(){var ye=R;R=Se;try{return se.apply(this,arguments)}finally{R=ye}}}})(Kp)),Kp}var lx;function EA(){return lx||(lx=1,Zp.exports=TA()),Zp.exports}var Yp={exports:{}},Ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cx;function SA(){if(cx)return Ln;cx=1;var n=iy();function e(v){var x="https://react.dev/errors/"+v;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)x+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+v+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(v,x,w){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:v,containerInfo:x,implementation:w}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,x){if(v==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return Ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ln.createPortal=function(v,x){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(e(299));return c(v,x,null,w)},Ln.flushSync=function(v){var x=f.T,w=s.p;try{if(f.T=null,s.p=2,v)return v()}finally{f.T=x,s.p=w,s.d.f()}},Ln.preconnect=function(v,x){typeof v=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,s.d.C(v,x))},Ln.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Ln.preinit=function(v,x){if(typeof v=="string"&&x&&typeof x.as=="string"){var w=x.as,A=y(w,x.crossOrigin),R=typeof x.integrity=="string"?x.integrity:void 0,P=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;w==="style"?s.d.S(v,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:A,integrity:R,fetchPriority:P}):w==="script"&&s.d.X(v,{crossOrigin:A,integrity:R,fetchPriority:P,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},Ln.preinitModule=function(v,x){if(typeof v=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var w=y(x.as,x.crossOrigin);s.d.M(v,{crossOrigin:w,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&s.d.M(v)},Ln.preload=function(v,x){if(typeof v=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var w=x.as,A=y(w,x.crossOrigin);s.d.L(v,w,{crossOrigin:A,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},Ln.preloadModule=function(v,x){if(typeof v=="string")if(x){var w=y(x.as,x.crossOrigin);s.d.m(v,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:w,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else s.d.m(v)},Ln.requestFormReset=function(v){s.d.r(v)},Ln.unstable_batchedUpdates=function(v,x){return v(x)},Ln.useFormState=function(v,x,w){return f.H.useFormState(v,x,w)},Ln.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ln.version="19.1.1",Ln}var ux;function Aw(){if(ux)return Yp.exports;ux=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Yp.exports=SA(),Yp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hx;function AA(){if(hx)return Pu;hx=1;var n=EA(),e=iy(),t=Aw();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function c(i){var r=i,l=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(l=r.return),i=r.return;while(i)}return r.tag===3?l:null}function f(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function y(i){if(c(i)!==i)throw Error(s(188))}function v(i){var r=i.alternate;if(!r){if(r=c(i),r===null)throw Error(s(188));return r!==i?null:i}for(var l=i,h=r;;){var g=l.return;if(g===null)break;var _=g.alternate;if(_===null){if(h=g.return,h!==null){l=h;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===l)return y(g),i;if(_===h)return y(g),r;_=_.sibling}throw Error(s(188))}if(l.return!==h.return)l=g,h=_;else{for(var N=!1,I=g.child;I;){if(I===l){N=!0,l=g,h=_;break}if(I===h){N=!0,h=g,l=_;break}I=I.sibling}if(!N){for(I=_.child;I;){if(I===l){N=!0,l=_,h=g;break}if(I===h){N=!0,h=_,l=g;break}I=I.sibling}if(!N)throw Error(s(189))}}if(l.alternate!==h)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?i:r}function x(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=x(i),r!==null)return r;i=i.sibling}return null}var w=Object.assign,A=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),ce=Symbol.for("react.provider"),G=Symbol.for("react.consumer"),W=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function Y(i){return i===null||typeof i!="object"?null:(i=$&&i[$]||i["@@iterator"],typeof i=="function"?i:null)}var z=Symbol.for("react.client.reference");function _e(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===z?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case M:return"Fragment";case V:return"Profiler";case H:return"StrictMode";case le:return"Suspense";case xe:return"SuspenseList";case D:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case P:return"Portal";case W:return(i.displayName||"Context")+".Provider";case G:return(i._context.displayName||"Context")+".Consumer";case ve:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case q:return r=i.displayName||null,r!==null?r:_e(i.type)||"Memo";case O:r=i._payload,i=i._init;try{return _e(i(r))}catch{}}return null}var qe=Array.isArray,se=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Se=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},et=[],k=-1;function ue(i){return{current:i}}function we(i){0>k||(i.current=et[k],et[k]=null,k--)}function be(i,r){k++,et[k]=i.current,i.current=r}var Ae=ue(null),Ie=ue(null),Ee=ue(null),At=ue(null);function it(i,r){switch(be(Ee,r),be(Ie,i),be(Ae,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?j0(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=j0(r),i=M0(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}we(Ae),be(Ae,i)}function si(){we(Ae),we(Ie),we(Ee)}function _r(i){i.memoizedState!==null&&be(At,i);var r=Ae.current,l=M0(r,i.type);r!==l&&(be(Ie,i),be(Ae,l))}function Ds(i){Ie.current===i&&(we(Ae),we(Ie)),At.current===i&&(we(At),Nu._currentValue=ye)}var Hi=Object.prototype.hasOwnProperty,cs=n.unstable_scheduleCallback,da=n.unstable_cancelCallback,Nl=n.unstable_shouldYield,fa=n.unstable_requestPaint,fn=n.unstable_now,vr=n.unstable_getCurrentPriorityLevel,Zt=n.unstable_ImmediatePriority,Kt=n.unstable_UserBlockingPriority,wi=n.unstable_NormalPriority,Rl=n.unstable_LowPriority,ma=n.unstable_IdlePriority,qc=n.log,xr=n.unstable_setDisableYieldValue,Fi=null,rn=null;function Fn(i){if(typeof qc=="function"&&xr(i),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(Fi,i)}catch{}}var An=Math.clz32?Math.clz32:Il,Cl=Math.log,No=Math.LN2;function Il(i){return i>>>=0,i===0?32:31-(Cl(i)/No|0)|0}var Ti=256,qi=4194304;function ri(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ai(i,r,l){var h=i.pendingLanes;if(h===0)return 0;var g=0,_=i.suspendedLanes,N=i.pingedLanes;i=i.warmLanes;var I=h&134217727;return I!==0?(h=I&~_,h!==0?g=ri(h):(N&=I,N!==0?g=ri(N):l||(l=I&~i,l!==0&&(g=ri(l))))):(I=h&~_,I!==0?g=ri(I):N!==0?g=ri(N):l||(l=h&~i,l!==0&&(g=ri(l)))),g===0?0:r!==0&&r!==g&&(r&_)===0&&(_=g&-g,l=r&-r,_>=l||_===32&&(l&4194048)!==0)?r:g}function oi(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function pa(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ro(){var i=Ti;return Ti<<=1,(Ti&4194048)===0&&(Ti=256),i}function us(){var i=qi;return qi<<=1,(qi&62914560)===0&&(qi=4194304),i}function br(i){for(var r=[],l=0;31>l;l++)r.push(i);return r}function Ot(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function jl(i,r,l,h,g,_){var N=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var I=i.entanglements,F=i.expirationTimes,te=i.hiddenUpdates;for(l=N&~l;0<l;){var he=31-An(l),me=1<<he;I[he]=0,F[he]=-1;var ne=te[he];if(ne!==null)for(te[he]=null,he=0;he<ne.length;he++){var re=ne[he];re!==null&&(re.lane&=-536870913)}l&=~me}h!==0&&Ls(i,h,0),_!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=_&~(N&~r))}function Ls(i,r,l){i.pendingLanes|=r,i.suspendedLanes&=~r;var h=31-An(r);i.entangledLanes|=r,i.entanglements[h]=i.entanglements[h]|1073741824|l&4194090}function Vs(i,r){var l=i.entangledLanes|=r;for(i=i.entanglements;l;){var h=31-An(l),g=1<<h;g&r|i[h]&r&&(i[h]|=r),l&=~g}}function Co(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Io(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function hs(){var i=Se.p;return i!==0?i:(i=window.event,i===void 0?32:Q0(i.type))}function jo(i,r){var l=Se.p;try{return Se.p=i,r()}finally{Se.p=l}}var Gi=Math.random().toString(36).slice(2),zt="__reactFiber$"+Gi,an="__reactProps$"+Gi,ds="__reactContainer$"+Gi,mn="__reactEvents$"+Gi,Pe="__reactListeners$"+Gi,Ml="__reactHandles$"+Gi,li="__reactResources$"+Gi,fs="__reactMarker$"+Gi;function wr(i){delete i[zt],delete i[an],delete i[mn],delete i[Pe],delete i[Ml]}function ci(i){var r=i[zt];if(r)return r;for(var l=i.parentNode;l;){if(r=l[ds]||l[zt]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(i=D0(i);i!==null;){if(l=i[zt])return l;i=D0(i)}return r}i=l,l=i.parentNode}return null}function Ei(i){if(i=i[zt]||i[ds]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function qn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function ms(i){var r=i[li];return r||(r=i[li]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ut(i){i[fs]=!0}var Pl=new Set,Tr={};function $i(i,r){Si(i,r),Si(i+"Capture",r)}function Si(i,r){for(Tr[i]=r,i=0;i<r.length;i++)Pl.add(r[i])}var Er=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gn={},ga={};function Gc(i){return Hi.call(ga,i)?!0:Hi.call(Gn,i)?!1:Er.test(i)?ga[i]=!0:(Gn[i]=!0,!1)}function Sr(i,r,l){if(Gc(r))if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var h=r.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+l)}}function Ar(i,r,l){if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+l)}}function ui(i,r,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(r,l,""+h)}}var ps,Zi;function Ki(i){if(ps===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);ps=r&&r[1]||"",Zi=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ps+i+Zi}var Nr=!1;function Yi(i,r){if(!i||Nr)return"";Nr=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(r){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(re){var ne=re}Reflect.construct(i,[],me)}else{try{me.call()}catch(re){ne=re}i.call(me.prototype)}}else{try{throw Error()}catch(re){ne=re}(me=i())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(re){if(re&&ne&&typeof re.stack=="string")return[re.stack,ne.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=h.DetermineComponentFrameRoot(),N=_[0],I=_[1];if(N&&I){var F=N.split(`
`),te=I.split(`
`);for(g=h=0;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;for(;g<te.length&&!te[g].includes("DetermineComponentFrameRoot");)g++;if(h===F.length||g===te.length)for(h=F.length-1,g=te.length-1;1<=h&&0<=g&&F[h]!==te[g];)g--;for(;1<=h&&0<=g;h--,g--)if(F[h]!==te[g]){if(h!==1||g!==1)do if(h--,g--,0>g||F[h]!==te[g]){var he=`
`+F[h].replace(" at new "," at ");return i.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",i.displayName)),he}while(1<=h&&0<=g);break}}}finally{Nr=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Ki(l):""}function at(i){switch(i.tag){case 26:case 27:case 5:return Ki(i.type);case 16:return Ki("Lazy");case 13:return Ki("Suspense");case 19:return Ki("SuspenseList");case 0:case 15:return Yi(i.type,!1);case 11:return Yi(i.type.render,!1);case 1:return Yi(i.type,!0);case 31:return Ki("Activity");default:return""}}function ut(i){try{var r="";do r+=at(i),i=i.return;while(i);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function wt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function $n(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function hi(i){var r=$n(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),h=""+i[r];if(!i.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,_=l.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return g.call(this)},set:function(N){h=""+N,_.call(this,N)}}),Object.defineProperty(i,r,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(N){h=""+N},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Wi(i){i._valueTracker||(i._valueTracker=hi(i))}function Ce(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var l=r.getValue(),h="";return i&&(h=$n(i)?i.checked?"true":"false":i.value),i=h,i!==l?(r.setValue(i),!0):!1}function yt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var gs=/[\n"\\]/g;function Bt(i){return i.replace(gs,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function pn(i,r,l,h,g,_,N,I){i.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?i.type=N:i.removeAttribute("type"),r!=null?N==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+wt(r)):i.value!==""+wt(r)&&(i.value=""+wt(r)):N!=="submit"&&N!=="reset"||i.removeAttribute("value"),r!=null?zs(i,N,wt(r)):l!=null?zs(i,N,wt(l)):h!=null&&i.removeAttribute("value"),g==null&&_!=null&&(i.defaultChecked=!!_),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?i.name=""+wt(I):i.removeAttribute("name")}function Mo(i,r,l,h,g,_,N,I){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),r!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||r!=null))return;l=l!=null?""+wt(l):"",r=r!=null?""+wt(r):l,I||r===i.value||(i.value=r),i.defaultValue=r}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=I?i.checked:!!h,i.defaultChecked=!!h,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(i.name=N)}function zs(i,r,l){r==="number"&&yt(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Pn(i,r,l,h){if(i=i.options,r){r={};for(var g=0;g<l.length;g++)r["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=r.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&h&&(i[l].defaultSelected=!0)}else{for(l=""+wt(l),r=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,h&&(i[g].defaultSelected=!0);return}r!==null||i[g].disabled||(r=i[g])}r!==null&&(r.selected=!0)}}function jt(i,r,l){if(r!=null&&(r=""+wt(r),r!==i.value&&(i.value=r),l==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=l!=null?""+wt(l):""}function Qi(i,r,l,h){if(r==null){if(h!=null){if(l!=null)throw Error(s(92));if(qe(h)){if(1<h.length)throw Error(s(93));h=h[0]}l=h}l==null&&(l=""),r=l}l=wt(r),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h)}function gn(i,r){if(r){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=r;return}}i.textContent=r}var Zn=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rr(i,r,l){var h=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":h?i.setProperty(r,l):typeof l!="number"||l===0||Zn.has(r)?r==="float"?i.cssFloat=l:i[r]=(""+l).trim():i[r]=l+"px"}function ys(i,r,l){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||r!=null&&r.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var g in r)h=r[g],r.hasOwnProperty(g)&&l[g]!==h&&Rr(i,g,h)}else for(var _ in r)r.hasOwnProperty(_)&&Rr(i,_,r[_])}function Us(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ya=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Kn(i){return Cr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Ir=null;function Bs(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var _s=null,on=null;function Ol(i){var r=Ei(i);if(r&&(i=r.stateNode)){var l=i[an]||null;e:switch(i=r.stateNode,r.type){case"input":if(pn(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Bt(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var h=l[r];if(h!==i&&h.form===i.form){var g=h[an]||null;if(!g)throw Error(s(90));pn(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<l.length;r++)h=l[r],h.form===i.form&&Ce(h)}break e;case"textarea":jt(i,l.value,l.defaultValue);break e;case"select":r=l.value,r!=null&&Pn(i,!!l.multiple,r,!1)}}}var ze=!1;function yn(i,r,l){if(ze)return i(r,l);ze=!0;try{var h=i(r);return h}finally{if(ze=!1,(_s!==null||on!==null)&&(ld(),_s&&(r=_s,i=on,on=_s=null,Ol(r),i)))for(r=0;r<i.length;r++)Ol(i[r])}}function ht(i,r){var l=i.stateNode;if(l===null)return null;var h=l[an]||null;if(h===null)return null;l=h[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(s(231,r,typeof l));return l}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ai=!1;if(_n)try{var Xi={};Object.defineProperty(Xi,"passive",{get:function(){Ai=!0}}),window.addEventListener("test",Xi,Xi),window.removeEventListener("test",Xi,Xi)}catch{Ai=!1}var On=null,dt=null,Hs=null;function Fs(){if(Hs)return Hs;var i,r=dt,l=r.length,h,g="value"in On?On.value:On.textContent,_=g.length;for(i=0;i<l&&r[i]===g[i];i++);var N=l-i;for(h=1;h<=N&&r[l-h]===g[_-h];h++);return Hs=g.slice(i,1<h?1-h:void 0)}function Mt(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Yn(){return!0}function _a(){return!1}function Gt(i){function r(l,h,g,_,N){this._reactName=l,this._targetInst=g,this.type=h,this.nativeEvent=_,this.target=N,this.currentTarget=null;for(var I in i)i.hasOwnProperty(I)&&(l=i[I],this[I]=l?l(_):_[I]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Yn:_a,this.isPropagationStopped=_a,this}return w(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Yn)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Yn)},persist:function(){},isPersistent:Yn}),r}var vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qs=Gt(vn),vs=w({},vn,{view:0,detail:0}),jr=Gt(vs),Mr,We,Ji,ln=w({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ji&&(Ji&&i.type==="mousemove"?(Mr=i.screenX-Ji.screenX,We=i.screenY-Ji.screenY):We=Mr=0,Ji=i),Mr)},movementY:function(i){return"movementY"in i?i.movementY:We}}),Ni=Gt(ln),kl=w({},ln,{dataTransfer:0}),Dl=Gt(kl),xs=w({},vs,{relatedTarget:0}),va=Gt(xs),Po=w({},vn,{animationName:0,elapsedTime:0,pseudoElement:0}),Oo=Gt(Po),ko=w({},vn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),xa=Gt(ko),ba=w({},vn,{data:0}),kn=Gt(ba),Ll={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},es={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ri={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Do(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Ri[i])?!!r[i]:!1}function Pr(){return Do}var wa=w({},vs,{key:function(i){if(i.key){var r=Ll[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Mt(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?es[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pr,charCode:function(i){return i.type==="keypress"?Mt(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Mt(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ta=Gt(wa),xn=w({},ln,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ea=Gt(xn),Vl=w({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pr}),Gs=Gt(Vl),m=w({},vn,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Gt(m),S=w({},ln,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),j=Gt(S),J=w({},vn,{newState:0,oldState:0}),ie=Gt(J),Te=[9,13,27,32],Ue=_n&&"CompositionEvent"in window,tt=null;_n&&"documentMode"in document&&(tt=document.documentMode);var pt=_n&&"TextEvent"in window&&!tt,kt=_n&&(!Ue||tt&&8<tt&&11>=tt),Wn=" ",di=!1;function Qn(i,r){switch(i){case"keyup":return Te.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ci(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ii=!1;function Sa(i,r){switch(i){case"compositionend":return Ci(r);case"keypress":return r.which!==32?null:(di=!0,Wn);case"textInput":return i=r.data,i===Wn&&di?null:i;default:return null}}function fm(i,r){if(Ii)return i==="compositionend"||!Ue&&Qn(i,r)?(i=Fs(),Hs=dt=On=null,Ii=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return kt&&r.locale!=="ko"?null:r.data;default:return null}}var ji={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Or(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!ji[i.type]:r==="textarea"}function Ah(i,r,l,h){_s?on?on.push(h):on=[h]:_s=h,r=md(r,"onChange"),0<r.length&&(l=new qs("onChange","change",null,l,h),i.push({event:l,listeners:r}))}var Xn=null,Lo=null;function Aa(i){A0(i,0)}function zl(i){var r=qn(i);if(Ce(r))return i}function Na(i,r){if(i==="change")return r}var $c=!1;if(_n){var Ra;if(_n){var Zc="oninput"in document;if(!Zc){var bs=document.createElement("div");bs.setAttribute("oninput","return;"),Zc=typeof bs.oninput=="function"}Ra=Zc}else Ra=!1;$c=Ra&&(!document.documentMode||9<document.documentMode)}function Vo(){Xn&&(Xn.detachEvent("onpropertychange",Nh),Lo=Xn=null)}function Nh(i){if(i.propertyName==="value"&&zl(Lo)){var r=[];Ah(r,Lo,i,Bs(i)),yn(Aa,r)}}function Kc(i,r,l){i==="focusin"?(Vo(),Xn=r,Lo=l,Xn.attachEvent("onpropertychange",Nh)):i==="focusout"&&Vo()}function mm(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return zl(Lo)}function ws(i,r){if(i==="click")return zl(r)}function pm(i,r){if(i==="input"||i==="change")return zl(r)}function Ca(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Jn=typeof Object.is=="function"?Object.is:Ca;function ei(i,r){if(Jn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var l=Object.keys(i),h=Object.keys(r);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var g=l[h];if(!Hi.call(r,g)||!Jn(i[g],r[g]))return!1}return!0}function zo(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Yc(i,r){var l=zo(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=r&&h>=r)return{node:l,offset:r-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=zo(l)}}function Ul(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Ul(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Uo(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=yt(i.document);r instanceof i.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)i=r.contentWindow;else break;r=yt(i.document)}return r}function Bo(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var Bl=_n&&"documentMode"in document&&11>=document.documentMode,Mi=null,Ia=null,kr=null,Hl=!1;function Rh(i,r,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Hl||Mi==null||Mi!==yt(h)||(h=Mi,"selectionStart"in h&&Bo(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),kr&&ei(kr,h)||(kr=h,h=md(Ia,"onSelect"),0<h.length&&(r=new qs("onSelect","select",null,r,l),i.push({event:r,listeners:h}),r.target=Mi)))}function ts(i,r){var l={};return l[i.toLowerCase()]=r.toLowerCase(),l["Webkit"+i]="webkit"+r,l["Moz"+i]="moz"+r,l}var ja={animationend:ts("Animation","AnimationEnd"),animationiteration:ts("Animation","AnimationIteration"),animationstart:ts("Animation","AnimationStart"),transitionrun:ts("Transition","TransitionRun"),transitionstart:ts("Transition","TransitionStart"),transitioncancel:ts("Transition","TransitionCancel"),transitionend:ts("Transition","TransitionEnd")},Fl={},Ch={};_n&&(Ch=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function $s(i){if(Fl[i])return Fl[i];if(!ja[i])return i;var r=ja[i],l;for(l in r)if(r.hasOwnProperty(l)&&l in Ch)return Fl[i]=r[l];return i}var Ih=$s("animationend"),Pi=$s("animationiteration"),Ho=$s("animationstart"),gm=$s("transitionrun"),ql=$s("transitionstart"),ym=$s("transitioncancel"),Wc=$s("transitionend"),jh=new Map,Dr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dr.push("scrollEnd");function Oi(i,r){jh.set(i,r),$i(r,[i])}var Lr=new WeakMap;function ti(i,r){if(typeof i=="object"&&i!==null){var l=Lr.get(i);return l!==void 0?l:(r={value:i,source:r,stack:ut(r)},Lr.set(i,r),r)}return{value:i,source:r,stack:ut(r)}}var ni=[],Ma=0,ki=0;function Fo(){for(var i=Ma,r=ki=Ma=0;r<i;){var l=ni[r];ni[r++]=null;var h=ni[r];ni[r++]=null;var g=ni[r];ni[r++]=null;var _=ni[r];if(ni[r++]=null,h!==null&&g!==null){var N=h.pending;N===null?g.next=g:(g.next=N.next,N.next=g),h.pending=g}_!==0&&Go(l,g,_)}}function qo(i,r,l,h){ni[Ma++]=i,ni[Ma++]=r,ni[Ma++]=l,ni[Ma++]=h,ki|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function Vr(i,r,l,h){return qo(i,r,l,h),Zs(i)}function Pa(i,r){return qo(i,null,null,r),Zs(i)}function Go(i,r,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var g=!1,_=i.return;_!==null;)_.childLanes|=l,h=_.alternate,h!==null&&(h.childLanes|=l),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(g=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,g&&r!==null&&(g=31-An(l),i=_.hiddenUpdates,h=i[g],h===null?i[g]=[r]:h.push(r),r.lane=l|536870912),_):null}function Zs(i){if(50<vu)throw vu=0,mp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var zr={};function Mh(i,r,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ii(i,r,l,h){return new Mh(i,r,l,h)}function Gl(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ns(i,r){var l=i.alternate;return l===null?(l=ii(i.tag,r,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=r,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,r=i.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Qc(i,r){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,r=l.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function $o(i,r,l,h,g,_){var N=0;if(h=i,typeof i=="function")Gl(i)&&(N=1);else if(typeof i=="string")N=rA(i,l,Ae.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case D:return i=ii(31,l,r,g),i.elementType=D,i.lanes=_,i;case M:return Ks(l.children,g,_,r);case H:N=8,g|=24;break;case V:return i=ii(12,l,r,g|2),i.elementType=V,i.lanes=_,i;case le:return i=ii(13,l,r,g),i.elementType=le,i.lanes=_,i;case xe:return i=ii(19,l,r,g),i.elementType=xe,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case ce:case W:N=10;break e;case G:N=9;break e;case ve:N=11;break e;case q:N=14;break e;case O:N=16,h=null;break e}N=29,l=Error(s(130,i===null?"null":typeof i,"")),h=null}return r=ii(N,l,r,g),r.elementType=i,r.type=h,r.lanes=_,r}function Ks(i,r,l,h){return i=ii(7,i,h,r),i.lanes=l,i}function Xc(i,r,l){return i=ii(6,i,null,r),i.lanes=l,i}function $l(i,r,l){return r=ii(4,i.children!==null?i.children:[],i.key,r),r.lanes=l,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Ur=[],Oa=0,a=null,u=0,p=[],b=0,E=null,C=1,B="";function X(i,r){Ur[Oa++]=u,Ur[Oa++]=a,a=i,u=r}function ae(i,r,l){p[b++]=C,p[b++]=B,p[b++]=E,E=i;var h=C;i=B;var g=32-An(h)-1;h&=~(1<<g),l+=1;var _=32-An(r)+g;if(30<_){var N=g-g%5;_=(h&(1<<N)-1).toString(32),h>>=N,g-=N,C=1<<32-An(r)+g|l<<g|h,B=_+i}else C=1<<_|l<<g|h,B=i}function ge(i){i.return!==null&&(X(i,1),ae(i,1,0))}function Ne(i){for(;i===a;)a=Ur[--Oa],Ur[Oa]=null,u=Ur[--Oa],Ur[Oa]=null;for(;i===E;)E=p[--b],p[b]=null,B=p[--b],p[b]=null,C=p[--b],p[b]=null}var Me=null,ke=null,Ge=!1,Rt=null,Ht=!1,bn=Error(s(519));function fi(i){var r=Error(s(418,""));throw Da(ti(r,i)),bn}function Ph(i){var r=i.stateNode,l=i.type,h=i.memoizedProps;switch(r[zt]=i,r[an]=h,l){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(l=0;l<bu.length;l++)rt(bu[l],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":rt("invalid",r),Mo(r,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Wi(r);break;case"select":rt("invalid",r);break;case"textarea":rt("invalid",r),Qi(r,h.value,h.defaultValue,h.children),Wi(r)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||h.suppressHydrationWarning===!0||I0(r.textContent,l)?(h.popover!=null&&(rt("beforetoggle",r),rt("toggle",r)),h.onScroll!=null&&rt("scroll",r),h.onScrollEnd!=null&&rt("scrollend",r),h.onClick!=null&&(r.onclick=pd),r=!0):r=!1,r||fi(i)}function Oh(i){for(Me=i.return;Me;)switch(Me.tag){case 5:case 13:Ht=!1;return;case 27:case 3:Ht=!0;return;default:Me=Me.return}}function Zo(i){if(i!==Me)return!1;if(!Ge)return Oh(i),Ge=!0,!1;var r=i.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Ip(i.type,i.memoizedProps)),l=!l),l&&ke&&fi(i),Oh(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));e:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(r===0){ke=As(i.nextSibling);break e}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++;i=i.nextSibling}ke=null}}else r===27?(r=ke,Qa(i.type)?(i=Op,Op=null,ke=i):ke=r):ke=Me?As(i.stateNode.nextSibling):null;return!0}function ka(){ke=Me=null,Ge=!1}function kh(){var i=Rt;return i!==null&&(gi===null?gi=i:gi.push.apply(gi,i),Rt=null),i}function Da(i){Rt===null?Rt=[i]:Rt.push(i)}var Dt=ue(null),is=null,Ts=null;function Ys(i,r,l){be(Dt,r._currentValue),r._currentValue=l}function Es(i){i._currentValue=Dt.current,we(Dt)}function Ko(i,r,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,h!==null&&(h.childLanes|=r)):h!==null&&(h.childLanes&r)!==r&&(h.childLanes|=r),i===l)break;i=i.return}}function Zl(i,r,l,h){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var _=g.dependencies;if(_!==null){var N=g.child;_=_.firstContext;e:for(;_!==null;){var I=_;_=g;for(var F=0;F<r.length;F++)if(I.context===r[F]){_.lanes|=l,I=_.alternate,I!==null&&(I.lanes|=l),Ko(_.return,l,i),h||(N=null);break e}_=I.next}}else if(g.tag===18){if(N=g.return,N===null)throw Error(s(341));N.lanes|=l,_=N.alternate,_!==null&&(_.lanes|=l),Ko(N,l,i),N=null}else N=g.child;if(N!==null)N.return=g;else for(N=g;N!==null;){if(N===i){N=null;break}if(g=N.sibling,g!==null){g.return=N.return,N=g;break}N=N.return}g=N}}function Yo(i,r,l,h){i=null;for(var g=r,_=!1;g!==null;){if(!_){if((g.flags&524288)!==0)_=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var N=g.alternate;if(N===null)throw Error(s(387));if(N=N.memoizedProps,N!==null){var I=g.type;Jn(g.pendingProps.value,N.value)||(i!==null?i.push(I):i=[I])}}else if(g===At.current){if(N=g.alternate,N===null)throw Error(s(387));N.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(Nu):i=[Nu])}g=g.return}i!==null&&Zl(r,i,l,h),r.flags|=262144}function Dh(i){for(i=i.firstContext;i!==null;){if(!Jn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Wo(i){is=i,Ts=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Dn(i){return g_(is,i)}function Lh(i,r){return is===null&&Wo(i),g_(i,r)}function g_(i,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},Ts===null){if(i===null)throw Error(s(308));Ts=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Ts=Ts.next=r;return l}var sS=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){r.aborted=!0,i.forEach(function(l){return l()})}},rS=n.unstable_scheduleCallback,aS=n.unstable_NormalPriority,cn={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _m(){return{controller:new sS,data:new Map,refCount:0}}function Jc(i){i.refCount--,i.refCount===0&&rS(aS,function(){i.controller.abort()})}var eu=null,vm=0,Kl=0,Yl=null;function oS(i,r){if(eu===null){var l=eu=[];vm=0,Kl=bp(),Yl={status:"pending",value:void 0,then:function(h){l.push(h)}}}return vm++,r.then(y_,y_),r}function y_(){if(--vm===0&&eu!==null){Yl!==null&&(Yl.status="fulfilled");var i=eu;eu=null,Kl=0,Yl=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function lS(i,r){var l=[],h={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){h.status="fulfilled",h.value=r;for(var g=0;g<l.length;g++)(0,l[g])(r)},function(g){for(h.status="rejected",h.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),h}var __=se.S;se.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&oS(i,r),__!==null&&__(i,r)};var Qo=ue(null);function xm(){var i=Qo.current;return i!==null?i:Ct.pooledCache}function Vh(i,r){r===null?be(Qo,Qo.current):be(Qo,r.pool)}function v_(){var i=xm();return i===null?null:{parent:cn._currentValue,pool:i}}var tu=Error(s(460)),x_=Error(s(474)),zh=Error(s(542)),bm={then:function(){}};function b_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Uh(){}function w_(i,r,l){switch(l=i[l],l===void 0?i.push(r):l!==r&&(r.then(Uh,Uh),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,E_(i),i;default:if(typeof r.status=="string")r.then(Uh,Uh);else{if(i=Ct,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(h){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=h}},function(h){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=h}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,E_(i),i}throw nu=r,tu}}var nu=null;function T_(){if(nu===null)throw Error(s(459));var i=nu;return nu=null,i}function E_(i){if(i===tu||i===zh)throw Error(s(483))}var La=!1;function wm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Va(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function za(i,r,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(vt&2)!==0){var g=h.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),h.pending=r,r=Zs(i),Go(i,null,l),r}return qo(i,h,r,l),Zs(i)}function iu(i,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var h=r.lanes;h&=i.pendingLanes,l|=h,r.lanes=l,Vs(i,l)}}function Em(i,r){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var g=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var N={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?g=_=N:_=_.next=N,l=l.next}while(l!==null);_===null?g=_=r:_=_.next=r}else g=_=r;l={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=r:i.next=r,l.lastBaseUpdate=r}var Sm=!1;function su(){if(Sm){var i=Yl;if(i!==null)throw i}}function ru(i,r,l,h){Sm=!1;var g=i.updateQueue;La=!1;var _=g.firstBaseUpdate,N=g.lastBaseUpdate,I=g.shared.pending;if(I!==null){g.shared.pending=null;var F=I,te=F.next;F.next=null,N===null?_=te:N.next=te,N=F;var he=i.alternate;he!==null&&(he=he.updateQueue,I=he.lastBaseUpdate,I!==N&&(I===null?he.firstBaseUpdate=te:I.next=te,he.lastBaseUpdate=F))}if(_!==null){var me=g.baseState;N=0,he=te=F=null,I=_;do{var ne=I.lane&-536870913,re=ne!==I.lane;if(re?(ft&ne)===ne:(h&ne)===ne){ne!==0&&ne===Kl&&(Sm=!0),he!==null&&(he=he.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Fe=i,Ve=I;ne=r;var St=l;switch(Ve.tag){case 1:if(Fe=Ve.payload,typeof Fe=="function"){me=Fe.call(St,me,ne);break e}me=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=Ve.payload,ne=typeof Fe=="function"?Fe.call(St,me,ne):Fe,ne==null)break e;me=w({},me,ne);break e;case 2:La=!0}}ne=I.callback,ne!==null&&(i.flags|=64,re&&(i.flags|=8192),re=g.callbacks,re===null?g.callbacks=[ne]:re.push(ne))}else re={lane:ne,tag:I.tag,payload:I.payload,callback:I.callback,next:null},he===null?(te=he=re,F=me):he=he.next=re,N|=ne;if(I=I.next,I===null){if(I=g.shared.pending,I===null)break;re=I,I=re.next,re.next=null,g.lastBaseUpdate=re,g.shared.pending=null}}while(!0);he===null&&(F=me),g.baseState=F,g.firstBaseUpdate=te,g.lastBaseUpdate=he,_===null&&(g.shared.lanes=0),Za|=N,i.lanes=N,i.memoizedState=me}}function S_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function A_(i,r){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)S_(l[i],r)}var Wl=ue(null),Bh=ue(0);function N_(i,r){i=Zr,be(Bh,i),be(Wl,r),Zr=i|r.baseLanes}function Am(){be(Bh,Zr),be(Wl,Wl.current)}function Nm(){Zr=Bh.current,we(Wl),we(Bh)}var Ua=0,Je=null,Tt=null,Xt=null,Hh=!1,Ql=!1,Xo=!1,Fh=0,au=0,Xl=null,cS=0;function Yt(){throw Error(s(321))}function Rm(i,r){if(r===null)return!1;for(var l=0;l<r.length&&l<i.length;l++)if(!Jn(i[l],r[l]))return!1;return!0}function Cm(i,r,l,h,g,_){return Ua=_,Je=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,se.H=i===null||i.memoizedState===null?uv:hv,Xo=!1,_=l(h,g),Xo=!1,Ql&&(_=C_(r,l,h,g)),R_(i),_}function R_(i){se.H=Yh;var r=Tt!==null&&Tt.next!==null;if(Ua=0,Xt=Tt=Je=null,Hh=!1,au=0,Xl=null,r)throw Error(s(300));i===null||wn||(i=i.dependencies,i!==null&&Dh(i)&&(wn=!0))}function C_(i,r,l,h){Je=i;var g=0;do{if(Ql&&(Xl=null),au=0,Ql=!1,25<=g)throw Error(s(301));if(g+=1,Xt=Tt=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}se.H=gS,_=r(l,h)}while(Ql);return _}function uS(){var i=se.H,r=i.useState()[0];return r=typeof r.then=="function"?ou(r):r,i=i.useState()[0],(Tt!==null?Tt.memoizedState:null)!==i&&(Je.flags|=1024),r}function Im(){var i=Fh!==0;return Fh=0,i}function jm(i,r,l){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~l}function Mm(i){if(Hh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Hh=!1}Ua=0,Xt=Tt=Je=null,Ql=!1,au=Fh=0,Xl=null}function mi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?Je.memoizedState=Xt=i:Xt=Xt.next=i,Xt}function Jt(){if(Tt===null){var i=Je.alternate;i=i!==null?i.memoizedState:null}else i=Tt.next;var r=Xt===null?Je.memoizedState:Xt.next;if(r!==null)Xt=r,Tt=i;else{if(i===null)throw Je.alternate===null?Error(s(467)):Error(s(310));Tt=i,i={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Xt===null?Je.memoizedState=Xt=i:Xt=Xt.next=i}return Xt}function Pm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ou(i){var r=au;return au+=1,Xl===null&&(Xl=[]),i=w_(Xl,i,r),r=Je,(Xt===null?r.memoizedState:Xt.next)===null&&(r=r.alternate,se.H=r===null||r.memoizedState===null?uv:hv),i}function qh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ou(i);if(i.$$typeof===W)return Dn(i)}throw Error(s(438,String(i)))}function Om(i){var r=null,l=Je.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var h=Je.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(r={data:h.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=Pm(),Je.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(i),h=0;h<i;h++)l[h]=Z;return r.index++,l}function Br(i,r){return typeof r=="function"?r(i):r}function Gh(i){var r=Jt();return km(r,Tt,i)}function km(i,r,l){var h=i.queue;if(h===null)throw Error(s(311));h.lastRenderedReducer=l;var g=i.baseQueue,_=h.pending;if(_!==null){if(g!==null){var N=g.next;g.next=_.next,_.next=N}r.baseQueue=g=_,h.pending=null}if(_=i.baseState,g===null)i.memoizedState=_;else{r=g.next;var I=N=null,F=null,te=r,he=!1;do{var me=te.lane&-536870913;if(me!==te.lane?(ft&me)===me:(Ua&me)===me){var ne=te.revertLane;if(ne===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),me===Kl&&(he=!0);else if((Ua&ne)===ne){te=te.next,ne===Kl&&(he=!0);continue}else me={lane:0,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},F===null?(I=F=me,N=_):F=F.next=me,Je.lanes|=ne,Za|=ne;me=te.action,Xo&&l(_,me),_=te.hasEagerState?te.eagerState:l(_,me)}else ne={lane:me,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},F===null?(I=F=ne,N=_):F=F.next=ne,Je.lanes|=me,Za|=me;te=te.next}while(te!==null&&te!==r);if(F===null?N=_:F.next=I,!Jn(_,i.memoizedState)&&(wn=!0,he&&(l=Yl,l!==null)))throw l;i.memoizedState=_,i.baseState=N,i.baseQueue=F,h.lastRenderedState=_}return g===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Dm(i){var r=Jt(),l=r.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var h=l.dispatch,g=l.pending,_=r.memoizedState;if(g!==null){l.pending=null;var N=g=g.next;do _=i(_,N.action),N=N.next;while(N!==g);Jn(_,r.memoizedState)||(wn=!0),r.memoizedState=_,r.baseQueue===null&&(r.baseState=_),l.lastRenderedState=_}return[_,h]}function I_(i,r,l){var h=Je,g=Jt(),_=Ge;if(_){if(l===void 0)throw Error(s(407));l=l()}else l=r();var N=!Jn((Tt||g).memoizedState,l);N&&(g.memoizedState=l,wn=!0),g=g.queue;var I=P_.bind(null,h,g,i);if(lu(2048,8,I,[i]),g.getSnapshot!==r||N||Xt!==null&&Xt.memoizedState.tag&1){if(h.flags|=2048,Jl(9,$h(),M_.bind(null,h,g,l,r),null),Ct===null)throw Error(s(349));_||(Ua&124)!==0||j_(h,r,l)}return l}function j_(i,r,l){i.flags|=16384,i={getSnapshot:r,value:l},r=Je.updateQueue,r===null?(r=Pm(),Je.updateQueue=r,r.stores=[i]):(l=r.stores,l===null?r.stores=[i]:l.push(i))}function M_(i,r,l,h){r.value=l,r.getSnapshot=h,O_(r)&&k_(i)}function P_(i,r,l){return l(function(){O_(r)&&k_(i)})}function O_(i){var r=i.getSnapshot;i=i.value;try{var l=r();return!Jn(i,l)}catch{return!0}}function k_(i){var r=Pa(i,2);r!==null&&Ui(r,i,2)}function Lm(i){var r=mi();if(typeof i=="function"){var l=i;if(i=l(),Xo){Fn(!0);try{l()}finally{Fn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Br,lastRenderedState:i},r}function D_(i,r,l,h){return i.baseState=l,km(i,Tt,typeof h=="function"?h:Br)}function hS(i,r,l,h,g){if(Kh(i))throw Error(s(485));if(i=r.action,i!==null){var _={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){_.listeners.push(N)}};se.T!==null?l(!0):_.isTransition=!1,h(_),l=r.pending,l===null?(_.next=r.pending=_,L_(r,_)):(_.next=l.next,r.pending=l.next=_)}}function L_(i,r){var l=r.action,h=r.payload,g=i.state;if(r.isTransition){var _=se.T,N={};se.T=N;try{var I=l(g,h),F=se.S;F!==null&&F(N,I),V_(i,r,I)}catch(te){Vm(i,r,te)}finally{se.T=_}}else try{_=l(g,h),V_(i,r,_)}catch(te){Vm(i,r,te)}}function V_(i,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){z_(i,r,h)},function(h){return Vm(i,r,h)}):z_(i,r,l)}function z_(i,r,l){r.status="fulfilled",r.value=l,U_(r),i.state=l,r=i.pending,r!==null&&(l=r.next,l===r?i.pending=null:(l=l.next,r.next=l,L_(i,l)))}function Vm(i,r,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do r.status="rejected",r.reason=l,U_(r),r=r.next;while(r!==h)}i.action=null}function U_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function B_(i,r){return r}function H_(i,r){if(Ge){var l=Ct.formState;if(l!==null){e:{var h=Je;if(Ge){if(ke){t:{for(var g=ke,_=Ht;g.nodeType!==8;){if(!_){g=null;break t}if(g=As(g.nextSibling),g===null){g=null;break t}}_=g.data,g=_==="F!"||_==="F"?g:null}if(g){ke=As(g.nextSibling),h=g.data==="F!";break e}}fi(h)}h=!1}h&&(r=l[0])}}return l=mi(),l.memoizedState=l.baseState=r,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:B_,lastRenderedState:r},l.queue=h,l=ov.bind(null,Je,h),h.dispatch=l,h=Lm(!1),_=Fm.bind(null,Je,!1,h.queue),h=mi(),g={state:r,dispatch:null,action:i,pending:null},h.queue=g,l=hS.bind(null,Je,g,_,l),g.dispatch=l,h.memoizedState=i,[r,l,!1]}function F_(i){var r=Jt();return q_(r,Tt,i)}function q_(i,r,l){if(r=km(i,r,B_)[0],i=Gh(Br)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var h=ou(r)}catch(N){throw N===tu?zh:N}else h=r;r=Jt();var g=r.queue,_=g.dispatch;return l!==r.memoizedState&&(Je.flags|=2048,Jl(9,$h(),dS.bind(null,g,l),null)),[h,_,i]}function dS(i,r){i.action=r}function G_(i){var r=Jt(),l=Tt;if(l!==null)return q_(r,l,i);Jt(),r=r.memoizedState,l=Jt();var h=l.queue.dispatch;return l.memoizedState=i,[r,h,!1]}function Jl(i,r,l,h){return i={tag:i,create:l,deps:h,inst:r,next:null},r=Je.updateQueue,r===null&&(r=Pm(),Je.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,r.lastEffect=i),i}function $h(){return{destroy:void 0,resource:void 0}}function $_(){return Jt().memoizedState}function Zh(i,r,l,h){var g=mi();h=h===void 0?null:h,Je.flags|=i,g.memoizedState=Jl(1|r,$h(),l,h)}function lu(i,r,l,h){var g=Jt();h=h===void 0?null:h;var _=g.memoizedState.inst;Tt!==null&&h!==null&&Rm(h,Tt.memoizedState.deps)?g.memoizedState=Jl(r,_,l,h):(Je.flags|=i,g.memoizedState=Jl(1|r,_,l,h))}function Z_(i,r){Zh(8390656,8,i,r)}function K_(i,r){lu(2048,8,i,r)}function Y_(i,r){return lu(4,2,i,r)}function W_(i,r){return lu(4,4,i,r)}function Q_(i,r){if(typeof r=="function"){i=i();var l=r(i);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function X_(i,r,l){l=l!=null?l.concat([i]):null,lu(4,4,Q_.bind(null,r,i),l)}function zm(){}function J_(i,r){var l=Jt();r=r===void 0?null:r;var h=l.memoizedState;return r!==null&&Rm(r,h[1])?h[0]:(l.memoizedState=[i,r],i)}function ev(i,r){var l=Jt();r=r===void 0?null:r;var h=l.memoizedState;if(r!==null&&Rm(r,h[1]))return h[0];if(h=i(),Xo){Fn(!0);try{i()}finally{Fn(!1)}}return l.memoizedState=[h,r],h}function Um(i,r,l){return l===void 0||(Ua&1073741824)!==0?i.memoizedState=r:(i.memoizedState=l,i=i0(),Je.lanes|=i,Za|=i,l)}function tv(i,r,l,h){return Jn(l,r)?l:Wl.current!==null?(i=Um(i,l,h),Jn(i,r)||(wn=!0),i):(Ua&42)===0?(wn=!0,i.memoizedState=l):(i=i0(),Je.lanes|=i,Za|=i,r)}function nv(i,r,l,h,g){var _=Se.p;Se.p=_!==0&&8>_?_:8;var N=se.T,I={};se.T=I,Fm(i,!1,r,l);try{var F=g(),te=se.S;if(te!==null&&te(I,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var he=lS(F,h);cu(i,r,he,zi(i))}else cu(i,r,h,zi(i))}catch(me){cu(i,r,{then:function(){},status:"rejected",reason:me},zi())}finally{Se.p=_,se.T=N}}function fS(){}function Bm(i,r,l,h){if(i.tag!==5)throw Error(s(476));var g=iv(i).queue;nv(i,g,r,ye,l===null?fS:function(){return sv(i),l(h)})}function iv(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Br,lastRenderedState:ye},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Br,lastRenderedState:l},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function sv(i){var r=iv(i).next.queue;cu(i,r,{},zi())}function Hm(){return Dn(Nu)}function rv(){return Jt().memoizedState}function av(){return Jt().memoizedState}function mS(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var l=zi();i=Va(l);var h=za(r,i,l);h!==null&&(Ui(h,r,l),iu(h,r,l)),r={cache:_m()},i.payload=r;return}r=r.return}}function pS(i,r,l){var h=zi();l={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Kh(i)?lv(r,l):(l=Vr(i,r,l,h),l!==null&&(Ui(l,i,h),cv(l,r,h)))}function ov(i,r,l){var h=zi();cu(i,r,l,h)}function cu(i,r,l,h){var g={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Kh(i))lv(r,g);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=r.lastRenderedReducer,_!==null))try{var N=r.lastRenderedState,I=_(N,l);if(g.hasEagerState=!0,g.eagerState=I,Jn(I,N))return qo(i,r,g,0),Ct===null&&Fo(),!1}catch{}finally{}if(l=Vr(i,r,g,h),l!==null)return Ui(l,i,h),cv(l,r,h),!0}return!1}function Fm(i,r,l,h){if(h={lane:2,revertLane:bp(),action:h,hasEagerState:!1,eagerState:null,next:null},Kh(i)){if(r)throw Error(s(479))}else r=Vr(i,l,h,2),r!==null&&Ui(r,i,2)}function Kh(i){var r=i.alternate;return i===Je||r!==null&&r===Je}function lv(i,r){Ql=Hh=!0;var l=i.pending;l===null?r.next=r:(r.next=l.next,l.next=r),i.pending=r}function cv(i,r,l){if((l&4194048)!==0){var h=r.lanes;h&=i.pendingLanes,l|=h,r.lanes=l,Vs(i,l)}}var Yh={readContext:Dn,use:qh,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useLayoutEffect:Yt,useInsertionEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useSyncExternalStore:Yt,useId:Yt,useHostTransitionStatus:Yt,useFormState:Yt,useActionState:Yt,useOptimistic:Yt,useMemoCache:Yt,useCacheRefresh:Yt},uv={readContext:Dn,use:qh,useCallback:function(i,r){return mi().memoizedState=[i,r===void 0?null:r],i},useContext:Dn,useEffect:Z_,useImperativeHandle:function(i,r,l){l=l!=null?l.concat([i]):null,Zh(4194308,4,Q_.bind(null,r,i),l)},useLayoutEffect:function(i,r){return Zh(4194308,4,i,r)},useInsertionEffect:function(i,r){Zh(4,2,i,r)},useMemo:function(i,r){var l=mi();r=r===void 0?null:r;var h=i();if(Xo){Fn(!0);try{i()}finally{Fn(!1)}}return l.memoizedState=[h,r],h},useReducer:function(i,r,l){var h=mi();if(l!==void 0){var g=l(r);if(Xo){Fn(!0);try{l(r)}finally{Fn(!1)}}}else g=r;return h.memoizedState=h.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},h.queue=i,i=i.dispatch=pS.bind(null,Je,i),[h.memoizedState,i]},useRef:function(i){var r=mi();return i={current:i},r.memoizedState=i},useState:function(i){i=Lm(i);var r=i.queue,l=ov.bind(null,Je,r);return r.dispatch=l,[i.memoizedState,l]},useDebugValue:zm,useDeferredValue:function(i,r){var l=mi();return Um(l,i,r)},useTransition:function(){var i=Lm(!1);return i=nv.bind(null,Je,i.queue,!0,!1),mi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,l){var h=Je,g=mi();if(Ge){if(l===void 0)throw Error(s(407));l=l()}else{if(l=r(),Ct===null)throw Error(s(349));(ft&124)!==0||j_(h,r,l)}g.memoizedState=l;var _={value:l,getSnapshot:r};return g.queue=_,Z_(P_.bind(null,h,_,i),[i]),h.flags|=2048,Jl(9,$h(),M_.bind(null,h,_,l,r),null),l},useId:function(){var i=mi(),r=Ct.identifierPrefix;if(Ge){var l=B,h=C;l=(h&~(1<<32-An(h)-1)).toString(32)+l,r="«"+r+"R"+l,l=Fh++,0<l&&(r+="H"+l.toString(32)),r+="»"}else l=cS++,r="«"+r+"r"+l.toString(32)+"»";return i.memoizedState=r},useHostTransitionStatus:Hm,useFormState:H_,useActionState:H_,useOptimistic:function(i){var r=mi();r.memoizedState=r.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=Fm.bind(null,Je,!0,l),l.dispatch=r,[i,r]},useMemoCache:Om,useCacheRefresh:function(){return mi().memoizedState=mS.bind(null,Je)}},hv={readContext:Dn,use:qh,useCallback:J_,useContext:Dn,useEffect:K_,useImperativeHandle:X_,useInsertionEffect:Y_,useLayoutEffect:W_,useMemo:ev,useReducer:Gh,useRef:$_,useState:function(){return Gh(Br)},useDebugValue:zm,useDeferredValue:function(i,r){var l=Jt();return tv(l,Tt.memoizedState,i,r)},useTransition:function(){var i=Gh(Br)[0],r=Jt().memoizedState;return[typeof i=="boolean"?i:ou(i),r]},useSyncExternalStore:I_,useId:rv,useHostTransitionStatus:Hm,useFormState:F_,useActionState:F_,useOptimistic:function(i,r){var l=Jt();return D_(l,Tt,i,r)},useMemoCache:Om,useCacheRefresh:av},gS={readContext:Dn,use:qh,useCallback:J_,useContext:Dn,useEffect:K_,useImperativeHandle:X_,useInsertionEffect:Y_,useLayoutEffect:W_,useMemo:ev,useReducer:Dm,useRef:$_,useState:function(){return Dm(Br)},useDebugValue:zm,useDeferredValue:function(i,r){var l=Jt();return Tt===null?Um(l,i,r):tv(l,Tt.memoizedState,i,r)},useTransition:function(){var i=Dm(Br)[0],r=Jt().memoizedState;return[typeof i=="boolean"?i:ou(i),r]},useSyncExternalStore:I_,useId:rv,useHostTransitionStatus:Hm,useFormState:G_,useActionState:G_,useOptimistic:function(i,r){var l=Jt();return Tt!==null?D_(l,Tt,i,r):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Om,useCacheRefresh:av},ec=null,uu=0;function Wh(i){var r=uu;return uu+=1,ec===null&&(ec=[]),w_(ec,i,r)}function hu(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Qh(i,r){throw r.$$typeof===A?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function dv(i){var r=i._init;return r(i._payload)}function fv(i){function r(Q,K){if(i){var ee=Q.deletions;ee===null?(Q.deletions=[K],Q.flags|=16):ee.push(K)}}function l(Q,K){if(!i)return null;for(;K!==null;)r(Q,K),K=K.sibling;return null}function h(Q){for(var K=new Map;Q!==null;)Q.key!==null?K.set(Q.key,Q):K.set(Q.index,Q),Q=Q.sibling;return K}function g(Q,K){return Q=ns(Q,K),Q.index=0,Q.sibling=null,Q}function _(Q,K,ee){return Q.index=ee,i?(ee=Q.alternate,ee!==null?(ee=ee.index,ee<K?(Q.flags|=67108866,K):ee):(Q.flags|=67108866,K)):(Q.flags|=1048576,K)}function N(Q){return i&&Q.alternate===null&&(Q.flags|=67108866),Q}function I(Q,K,ee,de){return K===null||K.tag!==6?(K=Xc(ee,Q.mode,de),K.return=Q,K):(K=g(K,ee),K.return=Q,K)}function F(Q,K,ee,de){var Oe=ee.type;return Oe===M?he(Q,K,ee.props.children,de,ee.key):K!==null&&(K.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===O&&dv(Oe)===K.type)?(K=g(K,ee.props),hu(K,ee),K.return=Q,K):(K=$o(ee.type,ee.key,ee.props,null,Q.mode,de),hu(K,ee),K.return=Q,K)}function te(Q,K,ee,de){return K===null||K.tag!==4||K.stateNode.containerInfo!==ee.containerInfo||K.stateNode.implementation!==ee.implementation?(K=$l(ee,Q.mode,de),K.return=Q,K):(K=g(K,ee.children||[]),K.return=Q,K)}function he(Q,K,ee,de,Oe){return K===null||K.tag!==7?(K=Ks(ee,Q.mode,de,Oe),K.return=Q,K):(K=g(K,ee),K.return=Q,K)}function me(Q,K,ee){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Xc(""+K,Q.mode,ee),K.return=Q,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case R:return ee=$o(K.type,K.key,K.props,null,Q.mode,ee),hu(ee,K),ee.return=Q,ee;case P:return K=$l(K,Q.mode,ee),K.return=Q,K;case O:var de=K._init;return K=de(K._payload),me(Q,K,ee)}if(qe(K)||Y(K))return K=Ks(K,Q.mode,ee,null),K.return=Q,K;if(typeof K.then=="function")return me(Q,Wh(K),ee);if(K.$$typeof===W)return me(Q,Lh(Q,K),ee);Qh(Q,K)}return null}function ne(Q,K,ee,de){var Oe=K!==null?K.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return Oe!==null?null:I(Q,K,""+ee,de);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case R:return ee.key===Oe?F(Q,K,ee,de):null;case P:return ee.key===Oe?te(Q,K,ee,de):null;case O:return Oe=ee._init,ee=Oe(ee._payload),ne(Q,K,ee,de)}if(qe(ee)||Y(ee))return Oe!==null?null:he(Q,K,ee,de,null);if(typeof ee.then=="function")return ne(Q,K,Wh(ee),de);if(ee.$$typeof===W)return ne(Q,K,Lh(Q,ee),de);Qh(Q,ee)}return null}function re(Q,K,ee,de,Oe){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return Q=Q.get(ee)||null,I(K,Q,""+de,Oe);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case R:return Q=Q.get(de.key===null?ee:de.key)||null,F(K,Q,de,Oe);case P:return Q=Q.get(de.key===null?ee:de.key)||null,te(K,Q,de,Oe);case O:var nt=de._init;return de=nt(de._payload),re(Q,K,ee,de,Oe)}if(qe(de)||Y(de))return Q=Q.get(ee)||null,he(K,Q,de,Oe,null);if(typeof de.then=="function")return re(Q,K,ee,Wh(de),Oe);if(de.$$typeof===W)return re(Q,K,ee,Lh(K,de),Oe);Qh(K,de)}return null}function Fe(Q,K,ee,de){for(var Oe=null,nt=null,De=K,Be=K=0,En=null;De!==null&&Be<ee.length;Be++){De.index>Be?(En=De,De=null):En=De.sibling;var gt=ne(Q,De,ee[Be],de);if(gt===null){De===null&&(De=En);break}i&&De&&gt.alternate===null&&r(Q,De),K=_(gt,K,Be),nt===null?Oe=gt:nt.sibling=gt,nt=gt,De=En}if(Be===ee.length)return l(Q,De),Ge&&X(Q,Be),Oe;if(De===null){for(;Be<ee.length;Be++)De=me(Q,ee[Be],de),De!==null&&(K=_(De,K,Be),nt===null?Oe=De:nt.sibling=De,nt=De);return Ge&&X(Q,Be),Oe}for(De=h(De);Be<ee.length;Be++)En=re(De,Q,Be,ee[Be],de),En!==null&&(i&&En.alternate!==null&&De.delete(En.key===null?Be:En.key),K=_(En,K,Be),nt===null?Oe=En:nt.sibling=En,nt=En);return i&&De.forEach(function(no){return r(Q,no)}),Ge&&X(Q,Be),Oe}function Ve(Q,K,ee,de){if(ee==null)throw Error(s(151));for(var Oe=null,nt=null,De=K,Be=K=0,En=null,gt=ee.next();De!==null&&!gt.done;Be++,gt=ee.next()){De.index>Be?(En=De,De=null):En=De.sibling;var no=ne(Q,De,gt.value,de);if(no===null){De===null&&(De=En);break}i&&De&&no.alternate===null&&r(Q,De),K=_(no,K,Be),nt===null?Oe=no:nt.sibling=no,nt=no,De=En}if(gt.done)return l(Q,De),Ge&&X(Q,Be),Oe;if(De===null){for(;!gt.done;Be++,gt=ee.next())gt=me(Q,gt.value,de),gt!==null&&(K=_(gt,K,Be),nt===null?Oe=gt:nt.sibling=gt,nt=gt);return Ge&&X(Q,Be),Oe}for(De=h(De);!gt.done;Be++,gt=ee.next())gt=re(De,Q,Be,gt.value,de),gt!==null&&(i&&gt.alternate!==null&&De.delete(gt.key===null?Be:gt.key),K=_(gt,K,Be),nt===null?Oe=gt:nt.sibling=gt,nt=gt);return i&&De.forEach(function(yA){return r(Q,yA)}),Ge&&X(Q,Be),Oe}function St(Q,K,ee,de){if(typeof ee=="object"&&ee!==null&&ee.type===M&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case R:e:{for(var Oe=ee.key;K!==null;){if(K.key===Oe){if(Oe=ee.type,Oe===M){if(K.tag===7){l(Q,K.sibling),de=g(K,ee.props.children),de.return=Q,Q=de;break e}}else if(K.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===O&&dv(Oe)===K.type){l(Q,K.sibling),de=g(K,ee.props),hu(de,ee),de.return=Q,Q=de;break e}l(Q,K);break}else r(Q,K);K=K.sibling}ee.type===M?(de=Ks(ee.props.children,Q.mode,de,ee.key),de.return=Q,Q=de):(de=$o(ee.type,ee.key,ee.props,null,Q.mode,de),hu(de,ee),de.return=Q,Q=de)}return N(Q);case P:e:{for(Oe=ee.key;K!==null;){if(K.key===Oe)if(K.tag===4&&K.stateNode.containerInfo===ee.containerInfo&&K.stateNode.implementation===ee.implementation){l(Q,K.sibling),de=g(K,ee.children||[]),de.return=Q,Q=de;break e}else{l(Q,K);break}else r(Q,K);K=K.sibling}de=$l(ee,Q.mode,de),de.return=Q,Q=de}return N(Q);case O:return Oe=ee._init,ee=Oe(ee._payload),St(Q,K,ee,de)}if(qe(ee))return Fe(Q,K,ee,de);if(Y(ee)){if(Oe=Y(ee),typeof Oe!="function")throw Error(s(150));return ee=Oe.call(ee),Ve(Q,K,ee,de)}if(typeof ee.then=="function")return St(Q,K,Wh(ee),de);if(ee.$$typeof===W)return St(Q,K,Lh(Q,ee),de);Qh(Q,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,K!==null&&K.tag===6?(l(Q,K.sibling),de=g(K,ee),de.return=Q,Q=de):(l(Q,K),de=Xc(ee,Q.mode,de),de.return=Q,Q=de),N(Q)):l(Q,K)}return function(Q,K,ee,de){try{uu=0;var Oe=St(Q,K,ee,de);return ec=null,Oe}catch(De){if(De===tu||De===zh)throw De;var nt=ii(29,De,null,Q.mode);return nt.lanes=de,nt.return=Q,nt}finally{}}}var tc=fv(!0),mv=fv(!1),ss=ue(null),Ws=null;function Ba(i){var r=i.alternate;be(un,un.current&1),be(ss,i),Ws===null&&(r===null||Wl.current!==null||r.memoizedState!==null)&&(Ws=i)}function pv(i){if(i.tag===22){if(be(un,un.current),be(ss,i),Ws===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(Ws=i)}}else Ha()}function Ha(){be(un,un.current),be(ss,ss.current)}function Hr(i){we(ss),Ws===i&&(Ws=null),we(un)}var un=ue(0);function Xh(i){for(var r=i;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Pp(l)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function qm(i,r,l,h){r=i.memoizedState,l=l(h,r),l=l==null?r:w({},r,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Gm={enqueueSetState:function(i,r,l){i=i._reactInternals;var h=zi(),g=Va(h);g.payload=r,l!=null&&(g.callback=l),r=za(i,g,h),r!==null&&(Ui(r,i,h),iu(r,i,h))},enqueueReplaceState:function(i,r,l){i=i._reactInternals;var h=zi(),g=Va(h);g.tag=1,g.payload=r,l!=null&&(g.callback=l),r=za(i,g,h),r!==null&&(Ui(r,i,h),iu(r,i,h))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var l=zi(),h=Va(l);h.tag=2,r!=null&&(h.callback=r),r=za(i,h,l),r!==null&&(Ui(r,i,l),iu(r,i,l))}};function gv(i,r,l,h,g,_,N){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,_,N):r.prototype&&r.prototype.isPureReactComponent?!ei(l,h)||!ei(g,_):!0}function yv(i,r,l,h){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,h),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,h),r.state!==i&&Gm.enqueueReplaceState(r,r.state,null)}function Jo(i,r){var l=r;if("ref"in r){l={};for(var h in r)h!=="ref"&&(l[h]=r[h])}if(i=i.defaultProps){l===r&&(l=w({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}var Jh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function _v(i){Jh(i)}function vv(i){console.error(i)}function xv(i){Jh(i)}function ed(i,r){try{var l=i.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(h){setTimeout(function(){throw h})}}function bv(i,r,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function $m(i,r,l){return l=Va(l),l.tag=3,l.payload={element:null},l.callback=function(){ed(i,r)},l}function wv(i){return i=Va(i),i.tag=3,i}function Tv(i,r,l,h){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var _=h.value;i.payload=function(){return g(_)},i.callback=function(){bv(r,l,h)}}var N=l.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(i.callback=function(){bv(r,l,h),typeof g!="function"&&(Ka===null?Ka=new Set([this]):Ka.add(this));var I=h.stack;this.componentDidCatch(h.value,{componentStack:I!==null?I:""})})}function yS(i,r,l,h,g){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(r=l.alternate,r!==null&&Yo(r,l,g,!0),l=ss.current,l!==null){switch(l.tag){case 13:return Ws===null?gp():l.alternate===null&&$t===0&&($t=3),l.flags&=-257,l.flags|=65536,l.lanes=g,h===bm?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([h]):r.add(h),_p(i,h,g)),!1;case 22:return l.flags|=65536,h===bm?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([h]):l.add(h)),_p(i,h,g)),!1}throw Error(s(435,l.tag))}return _p(i,h,g),gp(),!1}if(Ge)return r=ss.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,h!==bn&&(i=Error(s(422),{cause:h}),Da(ti(i,l)))):(h!==bn&&(r=Error(s(423),{cause:h}),Da(ti(r,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,h=ti(h,l),g=$m(i.stateNode,h,g),Em(i,g),$t!==4&&($t=2)),!1;var _=Error(s(520),{cause:h});if(_=ti(_,l),_u===null?_u=[_]:_u.push(_),$t!==4&&($t=2),r===null)return!0;h=ti(h,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=$m(l.stateNode,h,i),Em(l,i),!1;case 1:if(r=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ka===null||!Ka.has(_))))return l.flags|=65536,g&=-g,l.lanes|=g,g=wv(g),Tv(g,i,l,h),Em(l,g),!1}l=l.return}while(l!==null);return!1}var Ev=Error(s(461)),wn=!1;function Nn(i,r,l,h){r.child=i===null?mv(r,null,l,h):tc(r,i.child,l,h)}function Sv(i,r,l,h,g){l=l.render;var _=r.ref;if("ref"in h){var N={};for(var I in h)I!=="ref"&&(N[I]=h[I])}else N=h;return Wo(r),h=Cm(i,r,l,N,_,g),I=Im(),i!==null&&!wn?(jm(i,r,g),Fr(i,r,g)):(Ge&&I&&ge(r),r.flags|=1,Nn(i,r,h,g),r.child)}function Av(i,r,l,h,g){if(i===null){var _=l.type;return typeof _=="function"&&!Gl(_)&&_.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=_,Nv(i,r,_,h,g)):(i=$o(l.type,null,h,r,r.mode,g),i.ref=r.ref,i.return=r,r.child=i)}if(_=i.child,!ep(i,g)){var N=_.memoizedProps;if(l=l.compare,l=l!==null?l:ei,l(N,h)&&i.ref===r.ref)return Fr(i,r,g)}return r.flags|=1,i=ns(_,h),i.ref=r.ref,i.return=r,r.child=i}function Nv(i,r,l,h,g){if(i!==null){var _=i.memoizedProps;if(ei(_,h)&&i.ref===r.ref)if(wn=!1,r.pendingProps=h=_,ep(i,g))(i.flags&131072)!==0&&(wn=!0);else return r.lanes=i.lanes,Fr(i,r,g)}return Zm(i,r,l,h,g)}function Rv(i,r,l){var h=r.pendingProps,g=h.children,_=i!==null?i.memoizedState:null;if(h.mode==="hidden"){if((r.flags&128)!==0){if(h=_!==null?_.baseLanes|l:l,i!==null){for(g=r.child=i.child,_=0;g!==null;)_=_|g.lanes|g.childLanes,g=g.sibling;r.childLanes=_&~h}else r.childLanes=0,r.child=null;return Cv(i,r,h,l)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Vh(r,_!==null?_.cachePool:null),_!==null?N_(r,_):Am(),pv(r);else return r.lanes=r.childLanes=536870912,Cv(i,r,_!==null?_.baseLanes|l:l,l)}else _!==null?(Vh(r,_.cachePool),N_(r,_),Ha(),r.memoizedState=null):(i!==null&&Vh(r,null),Am(),Ha());return Nn(i,r,g,l),r.child}function Cv(i,r,l,h){var g=xm();return g=g===null?null:{parent:cn._currentValue,pool:g},r.memoizedState={baseLanes:l,cachePool:g},i!==null&&Vh(r,null),Am(),pv(r),i!==null&&Yo(i,r,h,!0),null}function td(i,r){var l=r.ref;if(l===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(i===null||i.ref!==l)&&(r.flags|=4194816)}}function Zm(i,r,l,h,g){return Wo(r),l=Cm(i,r,l,h,void 0,g),h=Im(),i!==null&&!wn?(jm(i,r,g),Fr(i,r,g)):(Ge&&h&&ge(r),r.flags|=1,Nn(i,r,l,g),r.child)}function Iv(i,r,l,h,g,_){return Wo(r),r.updateQueue=null,l=C_(r,h,l,g),R_(i),h=Im(),i!==null&&!wn?(jm(i,r,_),Fr(i,r,_)):(Ge&&h&&ge(r),r.flags|=1,Nn(i,r,l,_),r.child)}function jv(i,r,l,h,g){if(Wo(r),r.stateNode===null){var _=zr,N=l.contextType;typeof N=="object"&&N!==null&&(_=Dn(N)),_=new l(h,_),r.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Gm,r.stateNode=_,_._reactInternals=r,_=r.stateNode,_.props=h,_.state=r.memoizedState,_.refs={},wm(r),N=l.contextType,_.context=typeof N=="object"&&N!==null?Dn(N):zr,_.state=r.memoizedState,N=l.getDerivedStateFromProps,typeof N=="function"&&(qm(r,l,N,h),_.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(N=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),N!==_.state&&Gm.enqueueReplaceState(_,_.state,null),ru(r,h,_,g),su(),_.state=r.memoizedState),typeof _.componentDidMount=="function"&&(r.flags|=4194308),h=!0}else if(i===null){_=r.stateNode;var I=r.memoizedProps,F=Jo(l,I);_.props=F;var te=_.context,he=l.contextType;N=zr,typeof he=="object"&&he!==null&&(N=Dn(he));var me=l.getDerivedStateFromProps;he=typeof me=="function"||typeof _.getSnapshotBeforeUpdate=="function",I=r.pendingProps!==I,he||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I||te!==N)&&yv(r,_,h,N),La=!1;var ne=r.memoizedState;_.state=ne,ru(r,h,_,g),su(),te=r.memoizedState,I||ne!==te||La?(typeof me=="function"&&(qm(r,l,me,h),te=r.memoizedState),(F=La||gv(r,l,F,h,ne,te,N))?(he||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=h,r.memoizedState=te),_.props=h,_.state=te,_.context=N,h=F):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),h=!1)}else{_=r.stateNode,Tm(i,r),N=r.memoizedProps,he=Jo(l,N),_.props=he,me=r.pendingProps,ne=_.context,te=l.contextType,F=zr,typeof te=="object"&&te!==null&&(F=Dn(te)),I=l.getDerivedStateFromProps,(te=typeof I=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(N!==me||ne!==F)&&yv(r,_,h,F),La=!1,ne=r.memoizedState,_.state=ne,ru(r,h,_,g),su();var re=r.memoizedState;N!==me||ne!==re||La||i!==null&&i.dependencies!==null&&Dh(i.dependencies)?(typeof I=="function"&&(qm(r,l,I,h),re=r.memoizedState),(he=La||gv(r,l,he,h,ne,re,F)||i!==null&&i.dependencies!==null&&Dh(i.dependencies))?(te||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,re,F),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,re,F)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||N===i.memoizedProps&&ne===i.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||N===i.memoizedProps&&ne===i.memoizedState||(r.flags|=1024),r.memoizedProps=h,r.memoizedState=re),_.props=h,_.state=re,_.context=F,h=he):(typeof _.componentDidUpdate!="function"||N===i.memoizedProps&&ne===i.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||N===i.memoizedProps&&ne===i.memoizedState||(r.flags|=1024),h=!1)}return _=h,td(i,r),h=(r.flags&128)!==0,_||h?(_=r.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:_.render(),r.flags|=1,i!==null&&h?(r.child=tc(r,i.child,null,g),r.child=tc(r,null,l,g)):Nn(i,r,l,g),r.memoizedState=_.state,i=r.child):i=Fr(i,r,g),i}function Mv(i,r,l,h){return ka(),r.flags|=256,Nn(i,r,l,h),r.child}var Km={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ym(i){return{baseLanes:i,cachePool:v_()}}function Wm(i,r,l){return i=i!==null?i.childLanes&~l:0,r&&(i|=rs),i}function Pv(i,r,l){var h=r.pendingProps,g=!1,_=(r.flags&128)!==0,N;if((N=_)||(N=i!==null&&i.memoizedState===null?!1:(un.current&2)!==0),N&&(g=!0,r.flags&=-129),N=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ge){if(g?Ba(r):Ha(),Ge){var I=ke,F;if(F=I){e:{for(F=I,I=Ht;F.nodeType!==8;){if(!I){I=null;break e}if(F=As(F.nextSibling),F===null){I=null;break e}}I=F}I!==null?(r.memoizedState={dehydrated:I,treeContext:E!==null?{id:C,overflow:B}:null,retryLane:536870912,hydrationErrors:null},F=ii(18,null,null,0),F.stateNode=I,F.return=r,r.child=F,Me=r,ke=null,F=!0):F=!1}F||fi(r)}if(I=r.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return Pp(I)?r.lanes=32:r.lanes=536870912,null;Hr(r)}return I=h.children,h=h.fallback,g?(Ha(),g=r.mode,I=nd({mode:"hidden",children:I},g),h=Ks(h,g,l,null),I.return=r,h.return=r,I.sibling=h,r.child=I,g=r.child,g.memoizedState=Ym(l),g.childLanes=Wm(i,N,l),r.memoizedState=Km,h):(Ba(r),Qm(r,I))}if(F=i.memoizedState,F!==null&&(I=F.dehydrated,I!==null)){if(_)r.flags&256?(Ba(r),r.flags&=-257,r=Xm(i,r,l)):r.memoizedState!==null?(Ha(),r.child=i.child,r.flags|=128,r=null):(Ha(),g=h.fallback,I=r.mode,h=nd({mode:"visible",children:h.children},I),g=Ks(g,I,l,null),g.flags|=2,h.return=r,g.return=r,h.sibling=g,r.child=h,tc(r,i.child,null,l),h=r.child,h.memoizedState=Ym(l),h.childLanes=Wm(i,N,l),r.memoizedState=Km,r=g);else if(Ba(r),Pp(I)){if(N=I.nextSibling&&I.nextSibling.dataset,N)var te=N.dgst;N=te,h=Error(s(419)),h.stack="",h.digest=N,Da({value:h,source:null,stack:null}),r=Xm(i,r,l)}else if(wn||Yo(i,r,l,!1),N=(l&i.childLanes)!==0,wn||N){if(N=Ct,N!==null&&(h=l&-l,h=(h&42)!==0?1:Co(h),h=(h&(N.suspendedLanes|l))!==0?0:h,h!==0&&h!==F.retryLane))throw F.retryLane=h,Pa(i,h),Ui(N,i,h),Ev;I.data==="$?"||gp(),r=Xm(i,r,l)}else I.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=F.treeContext,ke=As(I.nextSibling),Me=r,Ge=!0,Rt=null,Ht=!1,i!==null&&(p[b++]=C,p[b++]=B,p[b++]=E,C=i.id,B=i.overflow,E=r),r=Qm(r,h.children),r.flags|=4096);return r}return g?(Ha(),g=h.fallback,I=r.mode,F=i.child,te=F.sibling,h=ns(F,{mode:"hidden",children:h.children}),h.subtreeFlags=F.subtreeFlags&65011712,te!==null?g=ns(te,g):(g=Ks(g,I,l,null),g.flags|=2),g.return=r,h.return=r,h.sibling=g,r.child=h,h=g,g=r.child,I=i.child.memoizedState,I===null?I=Ym(l):(F=I.cachePool,F!==null?(te=cn._currentValue,F=F.parent!==te?{parent:te,pool:te}:F):F=v_(),I={baseLanes:I.baseLanes|l,cachePool:F}),g.memoizedState=I,g.childLanes=Wm(i,N,l),r.memoizedState=Km,h):(Ba(r),l=i.child,i=l.sibling,l=ns(l,{mode:"visible",children:h.children}),l.return=r,l.sibling=null,i!==null&&(N=r.deletions,N===null?(r.deletions=[i],r.flags|=16):N.push(i)),r.child=l,r.memoizedState=null,l)}function Qm(i,r){return r=nd({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function nd(i,r){return i=ii(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Xm(i,r,l){return tc(r,i.child,null,l),i=Qm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function Ov(i,r,l){i.lanes|=r;var h=i.alternate;h!==null&&(h.lanes|=r),Ko(i.return,r,l)}function Jm(i,r,l,h,g){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:g}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=h,_.tail=l,_.tailMode=g)}function kv(i,r,l){var h=r.pendingProps,g=h.revealOrder,_=h.tail;if(Nn(i,r,h.children,l),h=un.current,(h&2)!==0)h=h&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Ov(i,l,r);else if(i.tag===19)Ov(i,l,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}switch(be(un,h),g){case"forwards":for(l=r.child,g=null;l!==null;)i=l.alternate,i!==null&&Xh(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=r.child,r.child=null):(g=l.sibling,l.sibling=null),Jm(r,!1,g,l,_);break;case"backwards":for(l=null,g=r.child,r.child=null;g!==null;){if(i=g.alternate,i!==null&&Xh(i)===null){r.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}Jm(r,!0,l,null,_);break;case"together":Jm(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Fr(i,r,l){if(i!==null&&(r.dependencies=i.dependencies),Za|=r.lanes,(l&r.childLanes)===0)if(i!==null){if(Yo(i,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,l=ns(i,i.pendingProps),r.child=l,l.return=r;i.sibling!==null;)i=i.sibling,l=l.sibling=ns(i,i.pendingProps),l.return=r;l.sibling=null}return r.child}function ep(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Dh(i)))}function _S(i,r,l){switch(r.tag){case 3:it(r,r.stateNode.containerInfo),Ys(r,cn,i.memoizedState.cache),ka();break;case 27:case 5:_r(r);break;case 4:it(r,r.stateNode.containerInfo);break;case 10:Ys(r,r.type,r.memoizedProps.value);break;case 13:var h=r.memoizedState;if(h!==null)return h.dehydrated!==null?(Ba(r),r.flags|=128,null):(l&r.child.childLanes)!==0?Pv(i,r,l):(Ba(r),i=Fr(i,r,l),i!==null?i.sibling:null);Ba(r);break;case 19:var g=(i.flags&128)!==0;if(h=(l&r.childLanes)!==0,h||(Yo(i,r,l,!1),h=(l&r.childLanes)!==0),g){if(h)return kv(i,r,l);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),be(un,un.current),h)break;return null;case 22:case 23:return r.lanes=0,Rv(i,r,l);case 24:Ys(r,cn,i.memoizedState.cache)}return Fr(i,r,l)}function Dv(i,r,l){if(i!==null)if(i.memoizedProps!==r.pendingProps)wn=!0;else{if(!ep(i,l)&&(r.flags&128)===0)return wn=!1,_S(i,r,l);wn=(i.flags&131072)!==0}else wn=!1,Ge&&(r.flags&1048576)!==0&&ae(r,u,r.index);switch(r.lanes=0,r.tag){case 16:e:{i=r.pendingProps;var h=r.elementType,g=h._init;if(h=g(h._payload),r.type=h,typeof h=="function")Gl(h)?(i=Jo(h,i),r.tag=1,r=jv(null,r,h,i,l)):(r.tag=0,r=Zm(null,r,h,i,l));else{if(h!=null){if(g=h.$$typeof,g===ve){r.tag=11,r=Sv(null,r,h,i,l);break e}else if(g===q){r.tag=14,r=Av(null,r,h,i,l);break e}}throw r=_e(h)||h,Error(s(306,r,""))}}return r;case 0:return Zm(i,r,r.type,r.pendingProps,l);case 1:return h=r.type,g=Jo(h,r.pendingProps),jv(i,r,h,g,l);case 3:e:{if(it(r,r.stateNode.containerInfo),i===null)throw Error(s(387));h=r.pendingProps;var _=r.memoizedState;g=_.element,Tm(i,r),ru(r,h,null,l);var N=r.memoizedState;if(h=N.cache,Ys(r,cn,h),h!==_.cache&&Zl(r,[cn],l,!0),su(),h=N.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:N.cache},r.updateQueue.baseState=_,r.memoizedState=_,r.flags&256){r=Mv(i,r,h,l);break e}else if(h!==g){g=ti(Error(s(424)),r),Da(g),r=Mv(i,r,h,l);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ke=As(i.firstChild),Me=r,Ge=!0,Rt=null,Ht=!0,l=mv(r,null,h,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ka(),h===g){r=Fr(i,r,l);break e}Nn(i,r,h,l)}r=r.child}return r;case 26:return td(i,r),i===null?(l=U0(r.type,null,r.pendingProps,null))?r.memoizedState=l:Ge||(l=r.type,i=r.pendingProps,h=gd(Ee.current).createElement(l),h[zt]=r,h[an]=i,Cn(h,l,i),Ut(h),r.stateNode=h):r.memoizedState=U0(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return _r(r),i===null&&Ge&&(h=r.stateNode=L0(r.type,r.pendingProps,Ee.current),Me=r,Ht=!0,g=ke,Qa(r.type)?(Op=g,ke=As(h.firstChild)):ke=g),Nn(i,r,r.pendingProps.children,l),td(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Ge&&((g=h=ke)&&(h=$S(h,r.type,r.pendingProps,Ht),h!==null?(r.stateNode=h,Me=r,ke=As(h.firstChild),Ht=!1,g=!0):g=!1),g||fi(r)),_r(r),g=r.type,_=r.pendingProps,N=i!==null?i.memoizedProps:null,h=_.children,Ip(g,_)?h=null:N!==null&&Ip(g,N)&&(r.flags|=32),r.memoizedState!==null&&(g=Cm(i,r,uS,null,null,l),Nu._currentValue=g),td(i,r),Nn(i,r,h,l),r.child;case 6:return i===null&&Ge&&((i=l=ke)&&(l=ZS(l,r.pendingProps,Ht),l!==null?(r.stateNode=l,Me=r,ke=null,i=!0):i=!1),i||fi(r)),null;case 13:return Pv(i,r,l);case 4:return it(r,r.stateNode.containerInfo),h=r.pendingProps,i===null?r.child=tc(r,null,h,l):Nn(i,r,h,l),r.child;case 11:return Sv(i,r,r.type,r.pendingProps,l);case 7:return Nn(i,r,r.pendingProps,l),r.child;case 8:return Nn(i,r,r.pendingProps.children,l),r.child;case 12:return Nn(i,r,r.pendingProps.children,l),r.child;case 10:return h=r.pendingProps,Ys(r,r.type,h.value),Nn(i,r,h.children,l),r.child;case 9:return g=r.type._context,h=r.pendingProps.children,Wo(r),g=Dn(g),h=h(g),r.flags|=1,Nn(i,r,h,l),r.child;case 14:return Av(i,r,r.type,r.pendingProps,l);case 15:return Nv(i,r,r.type,r.pendingProps,l);case 19:return kv(i,r,l);case 31:return h=r.pendingProps,l=r.mode,h={mode:h.mode,children:h.children},i===null?(l=nd(h,l),l.ref=r.ref,r.child=l,l.return=r,r=l):(l=ns(i.child,h),l.ref=r.ref,r.child=l,l.return=r,r=l),r;case 22:return Rv(i,r,l);case 24:return Wo(r),h=Dn(cn),i===null?(g=xm(),g===null&&(g=Ct,_=_m(),g.pooledCache=_,_.refCount++,_!==null&&(g.pooledCacheLanes|=l),g=_),r.memoizedState={parent:h,cache:g},wm(r),Ys(r,cn,g)):((i.lanes&l)!==0&&(Tm(i,r),ru(r,null,null,l),su()),g=i.memoizedState,_=r.memoizedState,g.parent!==h?(g={parent:h,cache:h},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),Ys(r,cn,h)):(h=_.cache,Ys(r,cn,h),h!==g.cache&&Zl(r,[cn],l,!0))),Nn(i,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function qr(i){i.flags|=4}function Lv(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!G0(r)){if(r=ss.current,r!==null&&((ft&4194048)===ft?Ws!==null:(ft&62914560)!==ft&&(ft&536870912)===0||r!==Ws))throw nu=bm,x_;i.flags|=8192}}function id(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?us():536870912,i.lanes|=r,rc|=r)}function du(i,r){if(!Ge)switch(i.tailMode){case"hidden":r=i.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Ft(i){var r=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(r)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=h,i.childLanes=l,r}function vS(i,r,l){var h=r.pendingProps;switch(Ne(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(r),null;case 1:return Ft(r),null;case 3:return l=r.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),r.memoizedState.cache!==h&&(r.flags|=2048),Es(cn),si(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Zo(r)?qr(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,kh())),Ft(r),null;case 26:return l=r.memoizedState,i===null?(qr(r),l!==null?(Ft(r),Lv(r,l)):(Ft(r),r.flags&=-16777217)):l?l!==i.memoizedState?(qr(r),Ft(r),Lv(r,l)):(Ft(r),r.flags&=-16777217):(i.memoizedProps!==h&&qr(r),Ft(r),r.flags&=-16777217),null;case 27:Ds(r),l=Ee.current;var g=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==h&&qr(r);else{if(!h){if(r.stateNode===null)throw Error(s(166));return Ft(r),null}i=Ae.current,Zo(r)?Ph(r):(i=L0(g,h,l),r.stateNode=i,qr(r))}return Ft(r),null;case 5:if(Ds(r),l=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==h&&qr(r);else{if(!h){if(r.stateNode===null)throw Error(s(166));return Ft(r),null}if(i=Ae.current,Zo(r))Ph(r);else{switch(g=gd(Ee.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof h.is=="string"?g.createElement("select",{is:h.is}):g.createElement("select"),h.multiple?i.multiple=!0:h.size&&(i.size=h.size);break;default:i=typeof h.is=="string"?g.createElement(l,{is:h.is}):g.createElement(l)}}i[zt]=r,i[an]=h;e:for(g=r.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===r)break e;for(;g.sibling===null;){if(g.return===null||g.return===r)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}r.stateNode=i;e:switch(Cn(i,l,h),l){case"button":case"input":case"select":case"textarea":i=!!h.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&qr(r)}}return Ft(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==h&&qr(r);else{if(typeof h!="string"&&r.stateNode===null)throw Error(s(166));if(i=Ee.current,Zo(r)){if(i=r.stateNode,l=r.memoizedProps,h=null,g=Me,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}i[zt]=r,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||I0(i.nodeValue,l)),i||fi(r)}else i=gd(i).createTextNode(h),i[zt]=r,r.stateNode=i}return Ft(r),null;case 13:if(h=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=Zo(r),h!==null&&h.dehydrated!==null){if(i===null){if(!g)throw Error(s(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[zt]=r}else ka(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ft(r),g=!1}else g=kh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(Hr(r),r):(Hr(r),null)}if(Hr(r),(r.flags&128)!==0)return r.lanes=l,r;if(l=h!==null,i=i!==null&&i.memoizedState!==null,l){h=r.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool);var _=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(_=h.memoizedState.cachePool.pool),_!==g&&(h.flags|=2048)}return l!==i&&l&&(r.child.flags|=8192),id(r,r.updateQueue),Ft(r),null;case 4:return si(),i===null&&Sp(r.stateNode.containerInfo),Ft(r),null;case 10:return Es(r.type),Ft(r),null;case 19:if(we(un),g=r.memoizedState,g===null)return Ft(r),null;if(h=(r.flags&128)!==0,_=g.rendering,_===null)if(h)du(g,!1);else{if($t!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(_=Xh(i),_!==null){for(r.flags|=128,du(g,!1),i=_.updateQueue,r.updateQueue=i,id(r,i),r.subtreeFlags=0,i=l,l=r.child;l!==null;)Qc(l,i),l=l.sibling;return be(un,un.current&1|2),r.child}i=i.sibling}g.tail!==null&&fn()>ad&&(r.flags|=128,h=!0,du(g,!1),r.lanes=4194304)}else{if(!h)if(i=Xh(_),i!==null){if(r.flags|=128,h=!0,i=i.updateQueue,r.updateQueue=i,id(r,i),du(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!Ge)return Ft(r),null}else 2*fn()-g.renderingStartTime>ad&&l!==536870912&&(r.flags|=128,h=!0,du(g,!1),r.lanes=4194304);g.isBackwards?(_.sibling=r.child,r.child=_):(i=g.last,i!==null?i.sibling=_:r.child=_,g.last=_)}return g.tail!==null?(r=g.tail,g.rendering=r,g.tail=r.sibling,g.renderingStartTime=fn(),r.sibling=null,i=un.current,be(un,h?i&1|2:i&1),r):(Ft(r),null);case 22:case 23:return Hr(r),Nm(),h=r.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(r.flags|=8192):h&&(r.flags|=8192),h?(l&536870912)!==0&&(r.flags&128)===0&&(Ft(r),r.subtreeFlags&6&&(r.flags|=8192)):Ft(r),l=r.updateQueue,l!==null&&id(r,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),h!==l&&(r.flags|=2048),i!==null&&we(Qo),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Es(cn),Ft(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function xS(i,r){switch(Ne(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Es(cn),si(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Ds(r),null;case 13:if(Hr(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ka()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return we(un),null;case 4:return si(),null;case 10:return Es(r.type),null;case 22:case 23:return Hr(r),Nm(),i!==null&&we(Qo),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Es(cn),null;case 25:return null;default:return null}}function Vv(i,r){switch(Ne(r),r.tag){case 3:Es(cn),si();break;case 26:case 27:case 5:Ds(r);break;case 4:si();break;case 13:Hr(r);break;case 19:we(un);break;case 10:Es(r.type);break;case 22:case 23:Hr(r),Nm(),i!==null&&we(Qo);break;case 24:Es(cn)}}function fu(i,r){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var g=h.next;l=g;do{if((l.tag&i)===i){h=void 0;var _=l.create,N=l.inst;h=_(),N.destroy=h}l=l.next}while(l!==g)}}catch(I){Nt(r,r.return,I)}}function Fa(i,r,l){try{var h=r.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var _=g.next;h=_;do{if((h.tag&i)===i){var N=h.inst,I=N.destroy;if(I!==void 0){N.destroy=void 0,g=r;var F=l,te=I;try{te()}catch(he){Nt(g,F,he)}}}h=h.next}while(h!==_)}}catch(he){Nt(r,r.return,he)}}function zv(i){var r=i.updateQueue;if(r!==null){var l=i.stateNode;try{A_(r,l)}catch(h){Nt(i,i.return,h)}}}function Uv(i,r,l){l.props=Jo(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){Nt(i,r,h)}}function mu(i,r){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof l=="function"?i.refCleanup=l(h):l.current=h}}catch(g){Nt(i,r,g)}}function Qs(i,r){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(g){Nt(i,r,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Nt(i,r,g)}else l.current=null}function Bv(i){var r=i.type,l=i.memoizedProps,h=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(g){Nt(i,i.return,g)}}function tp(i,r,l){try{var h=i.stateNode;BS(h,i.type,l,r),h[an]=r}catch(g){Nt(i,i.return,g)}}function Hv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Qa(i.type)||i.tag===4}function np(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Hv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Qa(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ip(i,r,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(i),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=pd));else if(h!==4&&(h===27&&Qa(i.type)&&(l=i.stateNode,r=null),i=i.child,i!==null))for(ip(i,r,l),i=i.sibling;i!==null;)ip(i,r,l),i=i.sibling}function sd(i,r,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,r?l.insertBefore(i,r):l.appendChild(i);else if(h!==4&&(h===27&&Qa(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(sd(i,r,l),i=i.sibling;i!==null;)sd(i,r,l),i=i.sibling}function Fv(i){var r=i.stateNode,l=i.memoizedProps;try{for(var h=i.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);Cn(r,h,l),r[zt]=i,r[an]=l}catch(_){Nt(i,i.return,_)}}var Gr=!1,Wt=!1,sp=!1,qv=typeof WeakSet=="function"?WeakSet:Set,Tn=null;function bS(i,r){if(i=i.containerInfo,Rp=wd,i=Uo(i),Bo(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var g=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var N=0,I=-1,F=-1,te=0,he=0,me=i,ne=null;t:for(;;){for(var re;me!==l||g!==0&&me.nodeType!==3||(I=N+g),me!==_||h!==0&&me.nodeType!==3||(F=N+h),me.nodeType===3&&(N+=me.nodeValue.length),(re=me.firstChild)!==null;)ne=me,me=re;for(;;){if(me===i)break t;if(ne===l&&++te===g&&(I=N),ne===_&&++he===h&&(F=N),(re=me.nextSibling)!==null)break;me=ne,ne=me.parentNode}me=re}l=I===-1||F===-1?null:{start:I,end:F}}else l=null}l=l||{start:0,end:0}}else l=null;for(Cp={focusedElem:i,selectionRange:l},wd=!1,Tn=r;Tn!==null;)if(r=Tn,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,Tn=i;else for(;Tn!==null;){switch(r=Tn,_=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,l=r,g=_.memoizedProps,_=_.memoizedState,h=l.stateNode;try{var Fe=Jo(l.type,g,l.elementType===l.type);i=h.getSnapshotBeforeUpdate(Fe,_),h.__reactInternalSnapshotBeforeUpdate=i}catch(Ve){Nt(l,l.return,Ve)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,l=i.nodeType,l===9)Mp(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Mp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Tn=i;break}Tn=r.return}}function Gv(i,r,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:qa(i,l),h&4&&fu(5,l);break;case 1:if(qa(i,l),h&4)if(i=l.stateNode,r===null)try{i.componentDidMount()}catch(N){Nt(l,l.return,N)}else{var g=Jo(l.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(g,r,i.__reactInternalSnapshotBeforeUpdate)}catch(N){Nt(l,l.return,N)}}h&64&&zv(l),h&512&&mu(l,l.return);break;case 3:if(qa(i,l),h&64&&(i=l.updateQueue,i!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{A_(i,r)}catch(N){Nt(l,l.return,N)}}break;case 27:r===null&&h&4&&Fv(l);case 26:case 5:qa(i,l),r===null&&h&4&&Bv(l),h&512&&mu(l,l.return);break;case 12:qa(i,l);break;case 13:qa(i,l),h&4&&Kv(i,l),h&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=IS.bind(null,l),KS(i,l))));break;case 22:if(h=l.memoizedState!==null||Gr,!h){r=r!==null&&r.memoizedState!==null||Wt,g=Gr;var _=Wt;Gr=h,(Wt=r)&&!_?Ga(i,l,(l.subtreeFlags&8772)!==0):qa(i,l),Gr=g,Wt=_}break;case 30:break;default:qa(i,l)}}function $v(i){var r=i.alternate;r!==null&&(i.alternate=null,$v(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&wr(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Lt=null,pi=!1;function $r(i,r,l){for(l=l.child;l!==null;)Zv(i,r,l),l=l.sibling}function Zv(i,r,l){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(Fi,l)}catch{}switch(l.tag){case 26:Wt||Qs(l,r),$r(i,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Wt||Qs(l,r);var h=Lt,g=pi;Qa(l.type)&&(Lt=l.stateNode,pi=!1),$r(i,r,l),Tu(l.stateNode),Lt=h,pi=g;break;case 5:Wt||Qs(l,r);case 6:if(h=Lt,g=pi,Lt=null,$r(i,r,l),Lt=h,pi=g,Lt!==null)if(pi)try{(Lt.nodeType===9?Lt.body:Lt.nodeName==="HTML"?Lt.ownerDocument.body:Lt).removeChild(l.stateNode)}catch(_){Nt(l,r,_)}else try{Lt.removeChild(l.stateNode)}catch(_){Nt(l,r,_)}break;case 18:Lt!==null&&(pi?(i=Lt,k0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),ju(i)):k0(Lt,l.stateNode));break;case 4:h=Lt,g=pi,Lt=l.stateNode.containerInfo,pi=!0,$r(i,r,l),Lt=h,pi=g;break;case 0:case 11:case 14:case 15:Wt||Fa(2,l,r),Wt||Fa(4,l,r),$r(i,r,l);break;case 1:Wt||(Qs(l,r),h=l.stateNode,typeof h.componentWillUnmount=="function"&&Uv(l,r,h)),$r(i,r,l);break;case 21:$r(i,r,l);break;case 22:Wt=(h=Wt)||l.memoizedState!==null,$r(i,r,l),Wt=h;break;default:$r(i,r,l)}}function Kv(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ju(i)}catch(l){Nt(r,r.return,l)}}function wS(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new qv),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new qv),r;default:throw Error(s(435,i.tag))}}function rp(i,r){var l=wS(i);r.forEach(function(h){var g=jS.bind(null,i,h);l.has(h)||(l.add(h),h.then(g,g))})}function Di(i,r){var l=r.deletions;if(l!==null)for(var h=0;h<l.length;h++){var g=l[h],_=i,N=r,I=N;e:for(;I!==null;){switch(I.tag){case 27:if(Qa(I.type)){Lt=I.stateNode,pi=!1;break e}break;case 5:Lt=I.stateNode,pi=!1;break e;case 3:case 4:Lt=I.stateNode.containerInfo,pi=!0;break e}I=I.return}if(Lt===null)throw Error(s(160));Zv(_,N,g),Lt=null,pi=!1,_=g.alternate,_!==null&&(_.return=null),g.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Yv(r,i),r=r.sibling}var Ss=null;function Yv(i,r){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Di(r,i),Li(i),h&4&&(Fa(3,i,i.return),fu(3,i),Fa(5,i,i.return));break;case 1:Di(r,i),Li(i),h&512&&(Wt||l===null||Qs(l,l.return)),h&64&&Gr&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var g=Ss;if(Di(r,i),Li(i),h&512&&(Wt||l===null||Qs(l,l.return)),h&4){var _=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){e:{h=i.type,l=i.memoizedProps,g=g.ownerDocument||g;t:switch(h){case"title":_=g.getElementsByTagName("title")[0],(!_||_[fs]||_[zt]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=g.createElement(h),g.head.insertBefore(_,g.querySelector("head > title"))),Cn(_,h,l),_[zt]=i,Ut(_),h=_;break e;case"link":var N=F0("link","href",g).get(h+(l.href||""));if(N){for(var I=0;I<N.length;I++)if(_=N[I],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){N.splice(I,1);break t}}_=g.createElement(h),Cn(_,h,l),g.head.appendChild(_);break;case"meta":if(N=F0("meta","content",g).get(h+(l.content||""))){for(I=0;I<N.length;I++)if(_=N[I],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){N.splice(I,1);break t}}_=g.createElement(h),Cn(_,h,l),g.head.appendChild(_);break;default:throw Error(s(468,h))}_[zt]=i,Ut(_),h=_}i.stateNode=h}else q0(g,i.type,i.stateNode);else i.stateNode=H0(g,h,i.memoizedProps);else _!==h?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,h===null?q0(g,i.type,i.stateNode):H0(g,h,i.memoizedProps)):h===null&&i.stateNode!==null&&tp(i,i.memoizedProps,l.memoizedProps)}break;case 27:Di(r,i),Li(i),h&512&&(Wt||l===null||Qs(l,l.return)),l!==null&&h&4&&tp(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Di(r,i),Li(i),h&512&&(Wt||l===null||Qs(l,l.return)),i.flags&32){g=i.stateNode;try{gn(g,"")}catch(re){Nt(i,i.return,re)}}h&4&&i.stateNode!=null&&(g=i.memoizedProps,tp(i,g,l!==null?l.memoizedProps:g)),h&1024&&(sp=!0);break;case 6:if(Di(r,i),Li(i),h&4){if(i.stateNode===null)throw Error(s(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(re){Nt(i,i.return,re)}}break;case 3:if(vd=null,g=Ss,Ss=yd(r.containerInfo),Di(r,i),Ss=g,Li(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{ju(r.containerInfo)}catch(re){Nt(i,i.return,re)}sp&&(sp=!1,Wv(i));break;case 4:h=Ss,Ss=yd(i.stateNode.containerInfo),Di(r,i),Li(i),Ss=h;break;case 12:Di(r,i),Li(i);break;case 13:Di(r,i),Li(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(hp=fn()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,rp(i,h)));break;case 22:g=i.memoizedState!==null;var F=l!==null&&l.memoizedState!==null,te=Gr,he=Wt;if(Gr=te||g,Wt=he||F,Di(r,i),Wt=he,Gr=te,Li(i),h&8192)e:for(r=i.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(l===null||F||Gr||Wt||el(i)),l=null,r=i;;){if(r.tag===5||r.tag===26){if(l===null){F=l=r;try{if(_=F.stateNode,g)N=_.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{I=F.stateNode;var me=F.memoizedProps.style,ne=me!=null&&me.hasOwnProperty("display")?me.display:null;I.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(re){Nt(F,F.return,re)}}}else if(r.tag===6){if(l===null){F=r;try{F.stateNode.nodeValue=g?"":F.memoizedProps}catch(re){Nt(F,F.return,re)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,rp(i,l))));break;case 19:Di(r,i),Li(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,rp(i,h)));break;case 30:break;case 21:break;default:Di(r,i),Li(i)}}function Li(i){var r=i.flags;if(r&2){try{for(var l,h=i.return;h!==null;){if(Hv(h)){l=h;break}h=h.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var g=l.stateNode,_=np(i);sd(i,_,g);break;case 5:var N=l.stateNode;l.flags&32&&(gn(N,""),l.flags&=-33);var I=np(i);sd(i,I,N);break;case 3:case 4:var F=l.stateNode.containerInfo,te=np(i);ip(i,te,F);break;default:throw Error(s(161))}}catch(he){Nt(i,i.return,he)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function Wv(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;Wv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function qa(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Gv(i,r.alternate,r),r=r.sibling}function el(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Fa(4,r,r.return),el(r);break;case 1:Qs(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&Uv(r,r.return,l),el(r);break;case 27:Tu(r.stateNode);case 26:case 5:Qs(r,r.return),el(r);break;case 22:r.memoizedState===null&&el(r);break;case 30:el(r);break;default:el(r)}i=i.sibling}}function Ga(i,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var h=r.alternate,g=i,_=r,N=_.flags;switch(_.tag){case 0:case 11:case 15:Ga(g,_,l),fu(4,_);break;case 1:if(Ga(g,_,l),h=_,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(te){Nt(h,h.return,te)}if(h=_,g=h.updateQueue,g!==null){var I=h.stateNode;try{var F=g.shared.hiddenCallbacks;if(F!==null)for(g.shared.hiddenCallbacks=null,g=0;g<F.length;g++)S_(F[g],I)}catch(te){Nt(h,h.return,te)}}l&&N&64&&zv(_),mu(_,_.return);break;case 27:Fv(_);case 26:case 5:Ga(g,_,l),l&&h===null&&N&4&&Bv(_),mu(_,_.return);break;case 12:Ga(g,_,l);break;case 13:Ga(g,_,l),l&&N&4&&Kv(g,_);break;case 22:_.memoizedState===null&&Ga(g,_,l),mu(_,_.return);break;case 30:break;default:Ga(g,_,l)}r=r.sibling}}function ap(i,r){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Jc(l))}function op(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Jc(i))}function Xs(i,r,l,h){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Qv(i,r,l,h),r=r.sibling}function Qv(i,r,l,h){var g=r.flags;switch(r.tag){case 0:case 11:case 15:Xs(i,r,l,h),g&2048&&fu(9,r);break;case 1:Xs(i,r,l,h);break;case 3:Xs(i,r,l,h),g&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Jc(i)));break;case 12:if(g&2048){Xs(i,r,l,h),i=r.stateNode;try{var _=r.memoizedProps,N=_.id,I=_.onPostCommit;typeof I=="function"&&I(N,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(F){Nt(r,r.return,F)}}else Xs(i,r,l,h);break;case 13:Xs(i,r,l,h);break;case 23:break;case 22:_=r.stateNode,N=r.alternate,r.memoizedState!==null?_._visibility&2?Xs(i,r,l,h):pu(i,r):_._visibility&2?Xs(i,r,l,h):(_._visibility|=2,nc(i,r,l,h,(r.subtreeFlags&10256)!==0)),g&2048&&ap(N,r);break;case 24:Xs(i,r,l,h),g&2048&&op(r.alternate,r);break;default:Xs(i,r,l,h)}}function nc(i,r,l,h,g){for(g=g&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var _=i,N=r,I=l,F=h,te=N.flags;switch(N.tag){case 0:case 11:case 15:nc(_,N,I,F,g),fu(8,N);break;case 23:break;case 22:var he=N.stateNode;N.memoizedState!==null?he._visibility&2?nc(_,N,I,F,g):pu(_,N):(he._visibility|=2,nc(_,N,I,F,g)),g&&te&2048&&ap(N.alternate,N);break;case 24:nc(_,N,I,F,g),g&&te&2048&&op(N.alternate,N);break;default:nc(_,N,I,F,g)}r=r.sibling}}function pu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=i,h=r,g=h.flags;switch(h.tag){case 22:pu(l,h),g&2048&&ap(h.alternate,h);break;case 24:pu(l,h),g&2048&&op(h.alternate,h);break;default:pu(l,h)}r=r.sibling}}var gu=8192;function ic(i){if(i.subtreeFlags&gu)for(i=i.child;i!==null;)Xv(i),i=i.sibling}function Xv(i){switch(i.tag){case 26:ic(i),i.flags&gu&&i.memoizedState!==null&&oA(Ss,i.memoizedState,i.memoizedProps);break;case 5:ic(i);break;case 3:case 4:var r=Ss;Ss=yd(i.stateNode.containerInfo),ic(i),Ss=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=gu,gu=16777216,ic(i),gu=r):ic(i));break;default:ic(i)}}function Jv(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function yu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var h=r[l];Tn=h,t0(h,i)}Jv(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)e0(i),i=i.sibling}function e0(i){switch(i.tag){case 0:case 11:case 15:yu(i),i.flags&2048&&Fa(9,i,i.return);break;case 3:yu(i);break;case 12:yu(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,rd(i)):yu(i);break;default:yu(i)}}function rd(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var h=r[l];Tn=h,t0(h,i)}Jv(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Fa(8,r,r.return),rd(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,rd(r));break;default:rd(r)}i=i.sibling}}function t0(i,r){for(;Tn!==null;){var l=Tn;switch(l.tag){case 0:case 11:case 15:Fa(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Jc(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,Tn=h;else e:for(l=i;Tn!==null;){h=Tn;var g=h.sibling,_=h.return;if($v(h),h===l){Tn=null;break e}if(g!==null){g.return=_,Tn=g;break e}Tn=_}}}var TS={getCacheForType:function(i){var r=Dn(cn),l=r.data.get(i);return l===void 0&&(l=i(),r.data.set(i,l)),l}},ES=typeof WeakMap=="function"?WeakMap:Map,vt=0,Ct=null,st=null,ft=0,xt=0,Vi=null,$a=!1,sc=!1,lp=!1,Zr=0,$t=0,Za=0,tl=0,cp=0,rs=0,rc=0,_u=null,gi=null,up=!1,hp=0,ad=1/0,od=null,Ka=null,Rn=0,Ya=null,ac=null,oc=0,dp=0,fp=null,n0=null,vu=0,mp=null;function zi(){if((vt&2)!==0&&ft!==0)return ft&-ft;if(se.T!==null){var i=Kl;return i!==0?i:bp()}return hs()}function i0(){rs===0&&(rs=(ft&536870912)===0||Ge?Ro():536870912);var i=ss.current;return i!==null&&(i.flags|=32),rs}function Ui(i,r,l){(i===Ct&&(xt===2||xt===9)||i.cancelPendingCommit!==null)&&(lc(i,0),Wa(i,ft,rs,!1)),Ot(i,l),((vt&2)===0||i!==Ct)&&(i===Ct&&((vt&2)===0&&(tl|=l),$t===4&&Wa(i,ft,rs,!1)),Js(i))}function s0(i,r,l){if((vt&6)!==0)throw Error(s(327));var h=!l&&(r&124)===0&&(r&i.expiredLanes)===0||oi(i,r),g=h?NS(i,r):yp(i,r,!0),_=h;do{if(g===0){sc&&!h&&Wa(i,r,0,!1);break}else{if(l=i.current.alternate,_&&!SS(l)){g=yp(i,r,!1),_=!1;continue}if(g===2){if(_=r,i.errorRecoveryDisabledLanes&_)var N=0;else N=i.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){r=N;e:{var I=i;g=_u;var F=I.current.memoizedState.isDehydrated;if(F&&(lc(I,N).flags|=256),N=yp(I,N,!1),N!==2){if(lp&&!F){I.errorRecoveryDisabledLanes|=_,tl|=_,g=4;break e}_=gi,gi=g,_!==null&&(gi===null?gi=_:gi.push.apply(gi,_))}g=N}if(_=!1,g!==2)continue}}if(g===1){lc(i,0),Wa(i,r,0,!0);break}e:{switch(h=i,_=g,_){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Wa(h,r,rs,!$a);break e;case 2:gi=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(g=hp+300-fn(),10<g)){if(Wa(h,r,rs,!$a),ai(h,0,!0)!==0)break e;h.timeoutHandle=P0(r0.bind(null,h,l,gi,od,up,r,rs,tl,rc,$a,_,2,-0,0),g);break e}r0(h,l,gi,od,up,r,rs,tl,rc,$a,_,0,-0,0)}}break}while(!0);Js(i)}function r0(i,r,l,h,g,_,N,I,F,te,he,me,ne,re){if(i.timeoutHandle=-1,me=r.subtreeFlags,(me&8192||(me&16785408)===16785408)&&(Au={stylesheets:null,count:0,unsuspend:aA},Xv(r),me=lA(),me!==null)){i.cancelPendingCommit=me(d0.bind(null,i,r,_,l,h,g,N,I,F,he,1,ne,re)),Wa(i,_,N,!te);return}d0(i,r,_,l,h,g,N,I,F)}function SS(i){for(var r=i;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var g=l[h],_=g.getSnapshot;g=g.value;try{if(!Jn(_(),g))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Wa(i,r,l,h){r&=~cp,r&=~tl,i.suspendedLanes|=r,i.pingedLanes&=~r,h&&(i.warmLanes|=r),h=i.expirationTimes;for(var g=r;0<g;){var _=31-An(g),N=1<<_;h[_]=-1,g&=~N}l!==0&&Ls(i,l,r)}function ld(){return(vt&6)===0?(xu(0),!1):!0}function pp(){if(st!==null){if(xt===0)var i=st.return;else i=st,Ts=is=null,Mm(i),ec=null,uu=0,i=st;for(;i!==null;)Vv(i.alternate,i),i=i.return;st=null}}function lc(i,r){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,FS(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),pp(),Ct=i,st=l=ns(i.current,null),ft=r,xt=0,Vi=null,$a=!1,sc=oi(i,r),lp=!1,rc=rs=cp=tl=Za=$t=0,gi=_u=null,up=!1,(r&8)!==0&&(r|=r&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=r;0<h;){var g=31-An(h),_=1<<g;r|=i[g],h&=~_}return Zr=r,Fo(),l}function a0(i,r){Je=null,se.H=Yh,r===tu||r===zh?(r=T_(),xt=3):r===x_?(r=T_(),xt=4):xt=r===Ev?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Vi=r,st===null&&($t=1,ed(i,ti(r,i.current)))}function o0(){var i=se.H;return se.H=Yh,i===null?Yh:i}function l0(){var i=se.A;return se.A=TS,i}function gp(){$t=4,$a||(ft&4194048)!==ft&&ss.current!==null||(sc=!0),(Za&134217727)===0&&(tl&134217727)===0||Ct===null||Wa(Ct,ft,rs,!1)}function yp(i,r,l){var h=vt;vt|=2;var g=o0(),_=l0();(Ct!==i||ft!==r)&&(od=null,lc(i,r)),r=!1;var N=$t;e:do try{if(xt!==0&&st!==null){var I=st,F=Vi;switch(xt){case 8:pp(),N=6;break e;case 3:case 2:case 9:case 6:ss.current===null&&(r=!0);var te=xt;if(xt=0,Vi=null,cc(i,I,F,te),l&&sc){N=0;break e}break;default:te=xt,xt=0,Vi=null,cc(i,I,F,te)}}AS(),N=$t;break}catch(he){a0(i,he)}while(!0);return r&&i.shellSuspendCounter++,Ts=is=null,vt=h,se.H=g,se.A=_,st===null&&(Ct=null,ft=0,Fo()),N}function AS(){for(;st!==null;)c0(st)}function NS(i,r){var l=vt;vt|=2;var h=o0(),g=l0();Ct!==i||ft!==r?(od=null,ad=fn()+500,lc(i,r)):sc=oi(i,r);e:do try{if(xt!==0&&st!==null){r=st;var _=Vi;t:switch(xt){case 1:xt=0,Vi=null,cc(i,r,_,1);break;case 2:case 9:if(b_(_)){xt=0,Vi=null,u0(r);break}r=function(){xt!==2&&xt!==9||Ct!==i||(xt=7),Js(i)},_.then(r,r);break e;case 3:xt=7;break e;case 4:xt=5;break e;case 7:b_(_)?(xt=0,Vi=null,u0(r)):(xt=0,Vi=null,cc(i,r,_,7));break;case 5:var N=null;switch(st.tag){case 26:N=st.memoizedState;case 5:case 27:var I=st;if(!N||G0(N)){xt=0,Vi=null;var F=I.sibling;if(F!==null)st=F;else{var te=I.return;te!==null?(st=te,cd(te)):st=null}break t}}xt=0,Vi=null,cc(i,r,_,5);break;case 6:xt=0,Vi=null,cc(i,r,_,6);break;case 8:pp(),$t=6;break e;default:throw Error(s(462))}}RS();break}catch(he){a0(i,he)}while(!0);return Ts=is=null,se.H=h,se.A=g,vt=l,st!==null?0:(Ct=null,ft=0,Fo(),$t)}function RS(){for(;st!==null&&!Nl();)c0(st)}function c0(i){var r=Dv(i.alternate,i,Zr);i.memoizedProps=i.pendingProps,r===null?cd(i):st=r}function u0(i){var r=i,l=r.alternate;switch(r.tag){case 15:case 0:r=Iv(l,r,r.pendingProps,r.type,void 0,ft);break;case 11:r=Iv(l,r,r.pendingProps,r.type.render,r.ref,ft);break;case 5:Mm(r);default:Vv(l,r),r=st=Qc(r,Zr),r=Dv(l,r,Zr)}i.memoizedProps=i.pendingProps,r===null?cd(i):st=r}function cc(i,r,l,h){Ts=is=null,Mm(r),ec=null,uu=0;var g=r.return;try{if(yS(i,g,r,l,ft)){$t=1,ed(i,ti(l,i.current)),st=null;return}}catch(_){if(g!==null)throw st=g,_;$t=1,ed(i,ti(l,i.current)),st=null;return}r.flags&32768?(Ge||h===1?i=!0:sc||(ft&536870912)!==0?i=!1:($a=i=!0,(h===2||h===9||h===3||h===6)&&(h=ss.current,h!==null&&h.tag===13&&(h.flags|=16384))),h0(r,i)):cd(r)}function cd(i){var r=i;do{if((r.flags&32768)!==0){h0(r,$a);return}i=r.return;var l=vS(r.alternate,r,Zr);if(l!==null){st=l;return}if(r=r.sibling,r!==null){st=r;return}st=r=i}while(r!==null);$t===0&&($t=5)}function h0(i,r){do{var l=xS(i.alternate,i);if(l!==null){l.flags&=32767,st=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(i=i.sibling,i!==null)){st=i;return}st=i=l}while(i!==null);$t=6,st=null}function d0(i,r,l,h,g,_,N,I,F){i.cancelPendingCommit=null;do ud();while(Rn!==0);if((vt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(_=r.lanes|r.childLanes,_|=ki,jl(i,l,_,N,I,F),i===Ct&&(st=Ct=null,ft=0),ac=r,Ya=i,oc=l,dp=_,fp=g,n0=h,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,MS(wi,function(){return y0(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||h){h=se.T,se.T=null,g=Se.p,Se.p=2,N=vt,vt|=4;try{bS(i,r,l)}finally{vt=N,Se.p=g,se.T=h}}Rn=1,f0(),m0(),p0()}}function f0(){if(Rn===1){Rn=0;var i=Ya,r=ac,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=se.T,se.T=null;var h=Se.p;Se.p=2;var g=vt;vt|=4;try{Yv(r,i);var _=Cp,N=Uo(i.containerInfo),I=_.focusedElem,F=_.selectionRange;if(N!==I&&I&&I.ownerDocument&&Ul(I.ownerDocument.documentElement,I)){if(F!==null&&Bo(I)){var te=F.start,he=F.end;if(he===void 0&&(he=te),"selectionStart"in I)I.selectionStart=te,I.selectionEnd=Math.min(he,I.value.length);else{var me=I.ownerDocument||document,ne=me&&me.defaultView||window;if(ne.getSelection){var re=ne.getSelection(),Fe=I.textContent.length,Ve=Math.min(F.start,Fe),St=F.end===void 0?Ve:Math.min(F.end,Fe);!re.extend&&Ve>St&&(N=St,St=Ve,Ve=N);var Q=Yc(I,Ve),K=Yc(I,St);if(Q&&K&&(re.rangeCount!==1||re.anchorNode!==Q.node||re.anchorOffset!==Q.offset||re.focusNode!==K.node||re.focusOffset!==K.offset)){var ee=me.createRange();ee.setStart(Q.node,Q.offset),re.removeAllRanges(),Ve>St?(re.addRange(ee),re.extend(K.node,K.offset)):(ee.setEnd(K.node,K.offset),re.addRange(ee))}}}}for(me=[],re=I;re=re.parentNode;)re.nodeType===1&&me.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<me.length;I++){var de=me[I];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}wd=!!Rp,Cp=Rp=null}finally{vt=g,Se.p=h,se.T=l}}i.current=r,Rn=2}}function m0(){if(Rn===2){Rn=0;var i=Ya,r=ac,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=se.T,se.T=null;var h=Se.p;Se.p=2;var g=vt;vt|=4;try{Gv(i,r.alternate,r)}finally{vt=g,Se.p=h,se.T=l}}Rn=3}}function p0(){if(Rn===4||Rn===3){Rn=0,fa();var i=Ya,r=ac,l=oc,h=n0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Rn=5:(Rn=0,ac=Ya=null,g0(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(Ka=null),Io(l),r=r.stateNode,rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(Fi,r,void 0,(r.current.flags&128)===128)}catch{}if(h!==null){r=se.T,g=Se.p,Se.p=2,se.T=null;try{for(var _=i.onRecoverableError,N=0;N<h.length;N++){var I=h[N];_(I.value,{componentStack:I.stack})}}finally{se.T=r,Se.p=g}}(oc&3)!==0&&ud(),Js(i),g=i.pendingLanes,(l&4194090)!==0&&(g&42)!==0?i===mp?vu++:(vu=0,mp=i):vu=0,xu(0)}}function g0(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Jc(r)))}function ud(i){return f0(),m0(),p0(),y0()}function y0(){if(Rn!==5)return!1;var i=Ya,r=dp;dp=0;var l=Io(oc),h=se.T,g=Se.p;try{Se.p=32>l?32:l,se.T=null,l=fp,fp=null;var _=Ya,N=oc;if(Rn=0,ac=Ya=null,oc=0,(vt&6)!==0)throw Error(s(331));var I=vt;if(vt|=4,e0(_.current),Qv(_,_.current,N,l),vt=I,xu(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(Fi,_)}catch{}return!0}finally{Se.p=g,se.T=h,g0(i,r)}}function _0(i,r,l){r=ti(l,r),r=$m(i.stateNode,r,2),i=za(i,r,2),i!==null&&(Ot(i,2),Js(i))}function Nt(i,r,l){if(i.tag===3)_0(i,i,l);else for(;r!==null;){if(r.tag===3){_0(r,i,l);break}else if(r.tag===1){var h=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ka===null||!Ka.has(h))){i=ti(l,i),l=wv(2),h=za(r,l,2),h!==null&&(Tv(l,h,r,i),Ot(h,2),Js(h));break}}r=r.return}}function _p(i,r,l){var h=i.pingCache;if(h===null){h=i.pingCache=new ES;var g=new Set;h.set(r,g)}else g=h.get(r),g===void 0&&(g=new Set,h.set(r,g));g.has(l)||(lp=!0,g.add(l),i=CS.bind(null,i,r,l),r.then(i,i))}function CS(i,r,l){var h=i.pingCache;h!==null&&h.delete(r),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,Ct===i&&(ft&l)===l&&($t===4||$t===3&&(ft&62914560)===ft&&300>fn()-hp?(vt&2)===0&&lc(i,0):cp|=l,rc===ft&&(rc=0)),Js(i)}function v0(i,r){r===0&&(r=us()),i=Pa(i,r),i!==null&&(Ot(i,r),Js(i))}function IS(i){var r=i.memoizedState,l=0;r!==null&&(l=r.retryLane),v0(i,l)}function jS(i,r){var l=0;switch(i.tag){case 13:var h=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(s(314))}h!==null&&h.delete(r),v0(i,l)}function MS(i,r){return cs(i,r)}var hd=null,uc=null,vp=!1,dd=!1,xp=!1,nl=0;function Js(i){i!==uc&&i.next===null&&(uc===null?hd=uc=i:uc=uc.next=i),dd=!0,vp||(vp=!0,OS())}function xu(i,r){if(!xp&&dd){xp=!0;do for(var l=!1,h=hd;h!==null;){if(i!==0){var g=h.pendingLanes;if(g===0)var _=0;else{var N=h.suspendedLanes,I=h.pingedLanes;_=(1<<31-An(42|i)+1)-1,_&=g&~(N&~I),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,T0(h,_))}else _=ft,_=ai(h,h===Ct?_:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(_&3)===0||oi(h,_)||(l=!0,T0(h,_));h=h.next}while(l);xp=!1}}function PS(){x0()}function x0(){dd=vp=!1;var i=0;nl!==0&&(HS()&&(i=nl),nl=0);for(var r=fn(),l=null,h=hd;h!==null;){var g=h.next,_=b0(h,r);_===0?(h.next=null,l===null?hd=g:l.next=g,g===null&&(uc=l)):(l=h,(i!==0||(_&3)!==0)&&(dd=!0)),h=g}xu(i)}function b0(i,r){for(var l=i.suspendedLanes,h=i.pingedLanes,g=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var N=31-An(_),I=1<<N,F=g[N];F===-1?((I&l)===0||(I&h)!==0)&&(g[N]=pa(I,r)):F<=r&&(i.expiredLanes|=I),_&=~I}if(r=Ct,l=ft,l=ai(i,i===r?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,l===0||i===r&&(xt===2||xt===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&da(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||oi(i,l)){if(r=l&-l,r===i.callbackPriority)return r;switch(h!==null&&da(h),Io(l)){case 2:case 8:l=Kt;break;case 32:l=wi;break;case 268435456:l=ma;break;default:l=wi}return h=w0.bind(null,i),l=cs(l,h),i.callbackPriority=r,i.callbackNode=l,r}return h!==null&&h!==null&&da(h),i.callbackPriority=2,i.callbackNode=null,2}function w0(i,r){if(Rn!==0&&Rn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(ud()&&i.callbackNode!==l)return null;var h=ft;return h=ai(i,i===Ct?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(s0(i,h,r),b0(i,fn()),i.callbackNode!=null&&i.callbackNode===l?w0.bind(null,i):null)}function T0(i,r){if(ud())return null;s0(i,r,!0)}function OS(){qS(function(){(vt&6)!==0?cs(Zt,PS):x0()})}function bp(){return nl===0&&(nl=Ro()),nl}function E0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Kn(""+i)}function S0(i,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,i.id&&l.setAttribute("form",i.id),r.parentNode.insertBefore(l,r),i=new FormData(i),l.parentNode.removeChild(l),i}function kS(i,r,l,h,g){if(r==="submit"&&l&&l.stateNode===g){var _=E0((g[an]||null).action),N=h.submitter;N&&(r=(r=N[an]||null)?E0(r.formAction):N.getAttribute("formAction"),r!==null&&(_=r,N=null));var I=new qs("action","action",null,h,g);i.push({event:I,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(nl!==0){var F=N?S0(g,N):new FormData(g);Bm(l,{pending:!0,data:F,method:g.method,action:_},null,F)}}else typeof _=="function"&&(I.preventDefault(),F=N?S0(g,N):new FormData(g),Bm(l,{pending:!0,data:F,method:g.method,action:_},_,F))},currentTarget:g}]})}}for(var wp=0;wp<Dr.length;wp++){var Tp=Dr[wp],DS=Tp.toLowerCase(),LS=Tp[0].toUpperCase()+Tp.slice(1);Oi(DS,"on"+LS)}Oi(Ih,"onAnimationEnd"),Oi(Pi,"onAnimationIteration"),Oi(Ho,"onAnimationStart"),Oi("dblclick","onDoubleClick"),Oi("focusin","onFocus"),Oi("focusout","onBlur"),Oi(gm,"onTransitionRun"),Oi(ql,"onTransitionStart"),Oi(ym,"onTransitionCancel"),Oi(Wc,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),$i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$i("onBeforeInput",["compositionend","keypress","textInput","paste"]),$i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bu));function A0(i,r){r=(r&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],g=h.event;h=h.listeners;e:{var _=void 0;if(r)for(var N=h.length-1;0<=N;N--){var I=h[N],F=I.instance,te=I.currentTarget;if(I=I.listener,F!==_&&g.isPropagationStopped())break e;_=I,g.currentTarget=te;try{_(g)}catch(he){Jh(he)}g.currentTarget=null,_=F}else for(N=0;N<h.length;N++){if(I=h[N],F=I.instance,te=I.currentTarget,I=I.listener,F!==_&&g.isPropagationStopped())break e;_=I,g.currentTarget=te;try{_(g)}catch(he){Jh(he)}g.currentTarget=null,_=F}}}}function rt(i,r){var l=r[mn];l===void 0&&(l=r[mn]=new Set);var h=i+"__bubble";l.has(h)||(N0(r,i,2,!1),l.add(h))}function Ep(i,r,l){var h=0;r&&(h|=4),N0(l,i,h,r)}var fd="_reactListening"+Math.random().toString(36).slice(2);function Sp(i){if(!i[fd]){i[fd]=!0,Pl.forEach(function(l){l!=="selectionchange"&&(VS.has(l)||Ep(l,!1,i),Ep(l,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[fd]||(r[fd]=!0,Ep("selectionchange",!1,r))}}function N0(i,r,l,h){switch(Q0(r)){case 2:var g=hA;break;case 8:g=dA;break;default:g=zp}l=g.bind(null,r,l,i),g=void 0,!Ai||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),h?g!==void 0?i.addEventListener(r,l,{capture:!0,passive:g}):i.addEventListener(r,l,!0):g!==void 0?i.addEventListener(r,l,{passive:g}):i.addEventListener(r,l,!1)}function Ap(i,r,l,h,g){var _=h;if((r&1)===0&&(r&2)===0&&h!==null)e:for(;;){if(h===null)return;var N=h.tag;if(N===3||N===4){var I=h.stateNode.containerInfo;if(I===g)break;if(N===4)for(N=h.return;N!==null;){var F=N.tag;if((F===3||F===4)&&N.stateNode.containerInfo===g)return;N=N.return}for(;I!==null;){if(N=ci(I),N===null)return;if(F=N.tag,F===5||F===6||F===26||F===27){h=_=N;continue e}I=I.parentNode}}h=h.return}yn(function(){var te=_,he=Bs(l),me=[];e:{var ne=jh.get(i);if(ne!==void 0){var re=qs,Fe=i;switch(i){case"keypress":if(Mt(l)===0)break e;case"keydown":case"keyup":re=Ta;break;case"focusin":Fe="focus",re=va;break;case"focusout":Fe="blur",re=va;break;case"beforeblur":case"afterblur":re=va;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=Ni;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Dl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=Gs;break;case Ih:case Pi:case Ho:re=Oo;break;case Wc:re=T;break;case"scroll":case"scrollend":re=jr;break;case"wheel":re=j;break;case"copy":case"cut":case"paste":re=xa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=Ea;break;case"toggle":case"beforetoggle":re=ie}var Ve=(r&4)!==0,St=!Ve&&(i==="scroll"||i==="scrollend"),Q=Ve?ne!==null?ne+"Capture":null:ne;Ve=[];for(var K=te,ee;K!==null;){var de=K;if(ee=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||ee===null||Q===null||(de=ht(K,Q),de!=null&&Ve.push(wu(K,de,ee))),St)break;K=K.return}0<Ve.length&&(ne=new re(ne,Fe,null,l,he),me.push({event:ne,listeners:Ve}))}}if((r&7)===0){e:{if(ne=i==="mouseover"||i==="pointerover",re=i==="mouseout"||i==="pointerout",ne&&l!==Ir&&(Fe=l.relatedTarget||l.fromElement)&&(ci(Fe)||Fe[ds]))break e;if((re||ne)&&(ne=he.window===he?he:(ne=he.ownerDocument)?ne.defaultView||ne.parentWindow:window,re?(Fe=l.relatedTarget||l.toElement,re=te,Fe=Fe?ci(Fe):null,Fe!==null&&(St=c(Fe),Ve=Fe.tag,Fe!==St||Ve!==5&&Ve!==27&&Ve!==6)&&(Fe=null)):(re=null,Fe=te),re!==Fe)){if(Ve=Ni,de="onMouseLeave",Q="onMouseEnter",K="mouse",(i==="pointerout"||i==="pointerover")&&(Ve=Ea,de="onPointerLeave",Q="onPointerEnter",K="pointer"),St=re==null?ne:qn(re),ee=Fe==null?ne:qn(Fe),ne=new Ve(de,K+"leave",re,l,he),ne.target=St,ne.relatedTarget=ee,de=null,ci(he)===te&&(Ve=new Ve(Q,K+"enter",Fe,l,he),Ve.target=ee,Ve.relatedTarget=St,de=Ve),St=de,re&&Fe)t:{for(Ve=re,Q=Fe,K=0,ee=Ve;ee;ee=hc(ee))K++;for(ee=0,de=Q;de;de=hc(de))ee++;for(;0<K-ee;)Ve=hc(Ve),K--;for(;0<ee-K;)Q=hc(Q),ee--;for(;K--;){if(Ve===Q||Q!==null&&Ve===Q.alternate)break t;Ve=hc(Ve),Q=hc(Q)}Ve=null}else Ve=null;re!==null&&R0(me,ne,re,Ve,!1),Fe!==null&&St!==null&&R0(me,St,Fe,Ve,!0)}}e:{if(ne=te?qn(te):window,re=ne.nodeName&&ne.nodeName.toLowerCase(),re==="select"||re==="input"&&ne.type==="file")var Oe=Na;else if(Or(ne))if($c)Oe=pm;else{Oe=mm;var nt=Kc}else re=ne.nodeName,!re||re.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?te&&Us(te.elementType)&&(Oe=Na):Oe=ws;if(Oe&&(Oe=Oe(i,te))){Ah(me,Oe,l,he);break e}nt&&nt(i,ne,te),i==="focusout"&&te&&ne.type==="number"&&te.memoizedProps.value!=null&&zs(ne,"number",ne.value)}switch(nt=te?qn(te):window,i){case"focusin":(Or(nt)||nt.contentEditable==="true")&&(Mi=nt,Ia=te,kr=null);break;case"focusout":kr=Ia=Mi=null;break;case"mousedown":Hl=!0;break;case"contextmenu":case"mouseup":case"dragend":Hl=!1,Rh(me,l,he);break;case"selectionchange":if(Bl)break;case"keydown":case"keyup":Rh(me,l,he)}var De;if(Ue)e:{switch(i){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Ii?Qn(i,l)&&(Be="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Be="onCompositionStart");Be&&(kt&&l.locale!=="ko"&&(Ii||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Ii&&(De=Fs()):(On=he,dt="value"in On?On.value:On.textContent,Ii=!0)),nt=md(te,Be),0<nt.length&&(Be=new kn(Be,i,null,l,he),me.push({event:Be,listeners:nt}),De?Be.data=De:(De=Ci(l),De!==null&&(Be.data=De)))),(De=pt?Sa(i,l):fm(i,l))&&(Be=md(te,"onBeforeInput"),0<Be.length&&(nt=new kn("onBeforeInput","beforeinput",null,l,he),me.push({event:nt,listeners:Be}),nt.data=De)),kS(me,i,te,l,he)}A0(me,r)})}function wu(i,r,l){return{instance:i,listener:r,currentTarget:l}}function md(i,r){for(var l=r+"Capture",h=[];i!==null;){var g=i,_=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||_===null||(g=ht(i,l),g!=null&&h.unshift(wu(i,g,_)),g=ht(i,r),g!=null&&h.push(wu(i,g,_))),i.tag===3)return h;i=i.return}return[]}function hc(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function R0(i,r,l,h,g){for(var _=r._reactName,N=[];l!==null&&l!==h;){var I=l,F=I.alternate,te=I.stateNode;if(I=I.tag,F!==null&&F===h)break;I!==5&&I!==26&&I!==27||te===null||(F=te,g?(te=ht(l,_),te!=null&&N.unshift(wu(l,te,F))):g||(te=ht(l,_),te!=null&&N.push(wu(l,te,F)))),l=l.return}N.length!==0&&i.push({event:r,listeners:N})}var zS=/\r\n?/g,US=/\u0000|\uFFFD/g;function C0(i){return(typeof i=="string"?i:""+i).replace(zS,`
`).replace(US,"")}function I0(i,r){return r=C0(r),C0(i)===r}function pd(){}function Et(i,r,l,h,g,_){switch(l){case"children":typeof h=="string"?r==="body"||r==="textarea"&&h===""||gn(i,h):(typeof h=="number"||typeof h=="bigint")&&r!=="body"&&gn(i,""+h);break;case"className":Ar(i,"class",h);break;case"tabIndex":Ar(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Ar(i,l,h);break;case"style":ys(i,h,_);break;case"data":if(r!=="object"){Ar(i,"data",h);break}case"src":case"href":if(h===""&&(r!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Kn(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(r!=="input"&&Et(i,r,"name",g.name,g,null),Et(i,r,"formEncType",g.formEncType,g,null),Et(i,r,"formMethod",g.formMethod,g,null),Et(i,r,"formTarget",g.formTarget,g,null)):(Et(i,r,"encType",g.encType,g,null),Et(i,r,"method",g.method,g,null),Et(i,r,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Kn(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=pd);break;case"onScroll":h!=null&&rt("scroll",i);break;case"onScrollEnd":h!=null&&rt("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=Kn(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":rt("beforetoggle",i),rt("toggle",i),Sr(i,"popover",h);break;case"xlinkActuate":ui(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":ui(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":ui(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":ui(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":ui(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":ui(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":ui(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":ui(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":ui(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Sr(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ya.get(l)||l,Sr(i,l,h))}}function Np(i,r,l,h,g,_){switch(l){case"style":ys(i,h,_);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"children":typeof h=="string"?gn(i,h):(typeof h=="number"||typeof h=="bigint")&&gn(i,""+h);break;case"onScroll":h!=null&&rt("scroll",i);break;case"onScrollEnd":h!=null&&rt("scrollend",i);break;case"onClick":h!=null&&(i.onclick=pd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),r=l.slice(2,g?l.length-7:void 0),_=i[an]||null,_=_!=null?_[l]:null,typeof _=="function"&&i.removeEventListener(r,_,g),typeof h=="function")){typeof _!="function"&&_!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(r,h,g);break e}l in i?i[l]=h:h===!0?i.setAttribute(l,""):Sr(i,l,h)}}}function Cn(i,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",i),rt("load",i);var h=!1,g=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var N=l[_];if(N!=null)switch(_){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Et(i,r,_,N,l,null)}}g&&Et(i,r,"srcSet",l.srcSet,l,null),h&&Et(i,r,"src",l.src,l,null);return;case"input":rt("invalid",i);var I=_=N=g=null,F=null,te=null;for(h in l)if(l.hasOwnProperty(h)){var he=l[h];if(he!=null)switch(h){case"name":g=he;break;case"type":N=he;break;case"checked":F=he;break;case"defaultChecked":te=he;break;case"value":_=he;break;case"defaultValue":I=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(s(137,r));break;default:Et(i,r,h,he,l,null)}}Mo(i,_,I,F,te,N,g,!1),Wi(i);return;case"select":rt("invalid",i),h=N=_=null;for(g in l)if(l.hasOwnProperty(g)&&(I=l[g],I!=null))switch(g){case"value":_=I;break;case"defaultValue":N=I;break;case"multiple":h=I;default:Et(i,r,g,I,l,null)}r=_,l=N,i.multiple=!!h,r!=null?Pn(i,!!h,r,!1):l!=null&&Pn(i,!!h,l,!0);return;case"textarea":rt("invalid",i),_=g=h=null;for(N in l)if(l.hasOwnProperty(N)&&(I=l[N],I!=null))switch(N){case"value":h=I;break;case"defaultValue":g=I;break;case"children":_=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(s(91));break;default:Et(i,r,N,I,l,null)}Qi(i,h,g,_),Wi(i);return;case"option":for(F in l)if(l.hasOwnProperty(F)&&(h=l[F],h!=null))switch(F){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Et(i,r,F,h,l,null)}return;case"dialog":rt("beforetoggle",i),rt("toggle",i),rt("cancel",i),rt("close",i);break;case"iframe":case"object":rt("load",i);break;case"video":case"audio":for(h=0;h<bu.length;h++)rt(bu[h],i);break;case"image":rt("error",i),rt("load",i);break;case"details":rt("toggle",i);break;case"embed":case"source":case"link":rt("error",i),rt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in l)if(l.hasOwnProperty(te)&&(h=l[te],h!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Et(i,r,te,h,l,null)}return;default:if(Us(r)){for(he in l)l.hasOwnProperty(he)&&(h=l[he],h!==void 0&&Np(i,r,he,h,l,void 0));return}}for(I in l)l.hasOwnProperty(I)&&(h=l[I],h!=null&&Et(i,r,I,h,l,null))}function BS(i,r,l,h){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,_=null,N=null,I=null,F=null,te=null,he=null;for(re in l){var me=l[re];if(l.hasOwnProperty(re)&&me!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":F=me;default:h.hasOwnProperty(re)||Et(i,r,re,null,h,me)}}for(var ne in h){var re=h[ne];if(me=l[ne],h.hasOwnProperty(ne)&&(re!=null||me!=null))switch(ne){case"type":_=re;break;case"name":g=re;break;case"checked":te=re;break;case"defaultChecked":he=re;break;case"value":N=re;break;case"defaultValue":I=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(s(137,r));break;default:re!==me&&Et(i,r,ne,re,h,me)}}pn(i,N,I,F,te,he,_,g);return;case"select":re=N=I=ne=null;for(_ in l)if(F=l[_],l.hasOwnProperty(_)&&F!=null)switch(_){case"value":break;case"multiple":re=F;default:h.hasOwnProperty(_)||Et(i,r,_,null,h,F)}for(g in h)if(_=h[g],F=l[g],h.hasOwnProperty(g)&&(_!=null||F!=null))switch(g){case"value":ne=_;break;case"defaultValue":I=_;break;case"multiple":N=_;default:_!==F&&Et(i,r,g,_,h,F)}r=I,l=N,h=re,ne!=null?Pn(i,!!l,ne,!1):!!h!=!!l&&(r!=null?Pn(i,!!l,r,!0):Pn(i,!!l,l?[]:"",!1));return;case"textarea":re=ne=null;for(I in l)if(g=l[I],l.hasOwnProperty(I)&&g!=null&&!h.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Et(i,r,I,null,h,g)}for(N in h)if(g=h[N],_=l[N],h.hasOwnProperty(N)&&(g!=null||_!=null))switch(N){case"value":ne=g;break;case"defaultValue":re=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==_&&Et(i,r,N,g,h,_)}jt(i,ne,re);return;case"option":for(var Fe in l)if(ne=l[Fe],l.hasOwnProperty(Fe)&&ne!=null&&!h.hasOwnProperty(Fe))switch(Fe){case"selected":i.selected=!1;break;default:Et(i,r,Fe,null,h,ne)}for(F in h)if(ne=h[F],re=l[F],h.hasOwnProperty(F)&&ne!==re&&(ne!=null||re!=null))switch(F){case"selected":i.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:Et(i,r,F,ne,h,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in l)ne=l[Ve],l.hasOwnProperty(Ve)&&ne!=null&&!h.hasOwnProperty(Ve)&&Et(i,r,Ve,null,h,ne);for(te in h)if(ne=h[te],re=l[te],h.hasOwnProperty(te)&&ne!==re&&(ne!=null||re!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,r));break;default:Et(i,r,te,ne,h,re)}return;default:if(Us(r)){for(var St in l)ne=l[St],l.hasOwnProperty(St)&&ne!==void 0&&!h.hasOwnProperty(St)&&Np(i,r,St,void 0,h,ne);for(he in h)ne=h[he],re=l[he],!h.hasOwnProperty(he)||ne===re||ne===void 0&&re===void 0||Np(i,r,he,ne,h,re);return}}for(var Q in l)ne=l[Q],l.hasOwnProperty(Q)&&ne!=null&&!h.hasOwnProperty(Q)&&Et(i,r,Q,null,h,ne);for(me in h)ne=h[me],re=l[me],!h.hasOwnProperty(me)||ne===re||ne==null&&re==null||Et(i,r,me,ne,h,re)}var Rp=null,Cp=null;function gd(i){return i.nodeType===9?i:i.ownerDocument}function j0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function M0(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Ip(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var jp=null;function HS(){var i=window.event;return i&&i.type==="popstate"?i===jp?!1:(jp=i,!0):(jp=null,!1)}var P0=typeof setTimeout=="function"?setTimeout:void 0,FS=typeof clearTimeout=="function"?clearTimeout:void 0,O0=typeof Promise=="function"?Promise:void 0,qS=typeof queueMicrotask=="function"?queueMicrotask:typeof O0<"u"?function(i){return O0.resolve(null).then(i).catch(GS)}:P0;function GS(i){setTimeout(function(){throw i})}function Qa(i){return i==="head"}function k0(i,r){var l=r,h=0,g=0;do{var _=l.nextSibling;if(i.removeChild(l),_&&_.nodeType===8)if(l=_.data,l==="/$"){if(0<h&&8>h){l=h;var N=i.ownerDocument;if(l&1&&Tu(N.documentElement),l&2&&Tu(N.body),l&4)for(l=N.head,Tu(l),N=l.firstChild;N;){var I=N.nextSibling,F=N.nodeName;N[fs]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&N.rel.toLowerCase()==="stylesheet"||l.removeChild(N),N=I}}if(g===0){i.removeChild(_),ju(r);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:h=l.charCodeAt(0)-48;else h=0;l=_}while(l);ju(r)}function Mp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Mp(l),wr(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function $S(i,r,l,h){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[fs])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var _=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=As(i.nextSibling),i===null)break}return null}function ZS(i,r,l){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=As(i.nextSibling),i===null))return null;return i}function Pp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function KS(i,r){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")r();else{var h=function(){r(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function As(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var Op=null;function D0(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return i;r--}else l==="/$"&&r++}i=i.previousSibling}return null}function L0(i,r,l){switch(r=gd(l),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Tu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);wr(i)}var as=new Map,V0=new Set;function yd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Kr=Se.d;Se.d={f:YS,r:WS,D:QS,C:XS,L:JS,m:eA,X:nA,S:tA,M:iA};function YS(){var i=Kr.f(),r=ld();return i||r}function WS(i){var r=Ei(i);r!==null&&r.tag===5&&r.type==="form"?sv(r):Kr.r(i)}var dc=typeof document>"u"?null:document;function z0(i,r,l){var h=dc;if(h&&typeof r=="string"&&r){var g=Bt(r);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),V0.has(g)||(V0.add(g),i={rel:i,crossOrigin:l,href:r},h.querySelector(g)===null&&(r=h.createElement("link"),Cn(r,"link",i),Ut(r),h.head.appendChild(r)))}}function QS(i){Kr.D(i),z0("dns-prefetch",i,null)}function XS(i,r){Kr.C(i,r),z0("preconnect",i,r)}function JS(i,r,l){Kr.L(i,r,l);var h=dc;if(h&&i&&r){var g='link[rel="preload"][as="'+Bt(r)+'"]';r==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Bt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Bt(l.imageSizes)+'"]')):g+='[href="'+Bt(i)+'"]';var _=g;switch(r){case"style":_=fc(i);break;case"script":_=mc(i)}as.has(_)||(i=w({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:i,as:r},l),as.set(_,i),h.querySelector(g)!==null||r==="style"&&h.querySelector(Eu(_))||r==="script"&&h.querySelector(Su(_))||(r=h.createElement("link"),Cn(r,"link",i),Ut(r),h.head.appendChild(r)))}}function eA(i,r){Kr.m(i,r);var l=dc;if(l&&i){var h=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+Bt(h)+'"][href="'+Bt(i)+'"]',_=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=mc(i)}if(!as.has(_)&&(i=w({rel:"modulepreload",href:i},r),as.set(_,i),l.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Su(_)))return}h=l.createElement("link"),Cn(h,"link",i),Ut(h),l.head.appendChild(h)}}}function tA(i,r,l){Kr.S(i,r,l);var h=dc;if(h&&i){var g=ms(h).hoistableStyles,_=fc(i);r=r||"default";var N=g.get(_);if(!N){var I={loading:0,preload:null};if(N=h.querySelector(Eu(_)))I.loading=5;else{i=w({rel:"stylesheet",href:i,"data-precedence":r},l),(l=as.get(_))&&kp(i,l);var F=N=h.createElement("link");Ut(F),Cn(F,"link",i),F._p=new Promise(function(te,he){F.onload=te,F.onerror=he}),F.addEventListener("load",function(){I.loading|=1}),F.addEventListener("error",function(){I.loading|=2}),I.loading|=4,_d(N,r,h)}N={type:"stylesheet",instance:N,count:1,state:I},g.set(_,N)}}}function nA(i,r){Kr.X(i,r);var l=dc;if(l&&i){var h=ms(l).hoistableScripts,g=mc(i),_=h.get(g);_||(_=l.querySelector(Su(g)),_||(i=w({src:i,async:!0},r),(r=as.get(g))&&Dp(i,r),_=l.createElement("script"),Ut(_),Cn(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(g,_))}}function iA(i,r){Kr.M(i,r);var l=dc;if(l&&i){var h=ms(l).hoistableScripts,g=mc(i),_=h.get(g);_||(_=l.querySelector(Su(g)),_||(i=w({src:i,async:!0,type:"module"},r),(r=as.get(g))&&Dp(i,r),_=l.createElement("script"),Ut(_),Cn(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(g,_))}}function U0(i,r,l,h){var g=(g=Ee.current)?yd(g):null;if(!g)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=fc(l.href),l=ms(g).hoistableStyles,h=l.get(r),h||(h={type:"style",instance:null,count:0,state:null},l.set(r,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=fc(l.href);var _=ms(g).hoistableStyles,N=_.get(i);if(N||(g=g.ownerDocument||g,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,N),(_=g.querySelector(Eu(i)))&&!_._p&&(N.instance=_,N.state.loading=5),as.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},as.set(i,l),_||sA(g,i,l,N.state))),r&&h===null)throw Error(s(528,""));return N}if(r&&h!==null)throw Error(s(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=mc(l),l=ms(g).hoistableScripts,h=l.get(r),h||(h={type:"script",instance:null,count:0,state:null},l.set(r,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function fc(i){return'href="'+Bt(i)+'"'}function Eu(i){return'link[rel="stylesheet"]['+i+"]"}function B0(i){return w({},i,{"data-precedence":i.precedence,precedence:null})}function sA(i,r,l,h){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?h.loading=1:(r=i.createElement("link"),h.preload=r,r.addEventListener("load",function(){return h.loading|=1}),r.addEventListener("error",function(){return h.loading|=2}),Cn(r,"link",l),Ut(r),i.head.appendChild(r))}function mc(i){return'[src="'+Bt(i)+'"]'}function Su(i){return"script[async]"+i}function H0(i,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var h=i.querySelector('style[data-href~="'+Bt(l.href)+'"]');if(h)return r.instance=h,Ut(h),h;var g=w({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),Ut(h),Cn(h,"style",g),_d(h,l.precedence,i),r.instance=h;case"stylesheet":g=fc(l.href);var _=i.querySelector(Eu(g));if(_)return r.state.loading|=4,r.instance=_,Ut(_),_;h=B0(l),(g=as.get(g))&&kp(h,g),_=(i.ownerDocument||i).createElement("link"),Ut(_);var N=_;return N._p=new Promise(function(I,F){N.onload=I,N.onerror=F}),Cn(_,"link",h),r.state.loading|=4,_d(_,l.precedence,i),r.instance=_;case"script":return _=mc(l.src),(g=i.querySelector(Su(_)))?(r.instance=g,Ut(g),g):(h=l,(g=as.get(_))&&(h=w({},l),Dp(h,g)),i=i.ownerDocument||i,g=i.createElement("script"),Ut(g),Cn(g,"link",h),i.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(h=r.instance,r.state.loading|=4,_d(h,l.precedence,i));return r.instance}function _d(i,r,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,_=g,N=0;N<h.length;N++){var I=h[N];if(I.dataset.precedence===r)_=I;else if(_!==g)break}_?_.parentNode.insertBefore(i,_.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(i,r.firstChild))}function kp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Dp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var vd=null;function F0(i,r,l){if(vd===null){var h=new Map,g=vd=new Map;g.set(l,h)}else g=vd,h=g.get(l),h||(h=new Map,g.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var _=l[g];if(!(_[fs]||_[zt]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var N=_.getAttribute(r)||"";N=i+N;var I=h.get(N);I?I.push(_):h.set(N,[_])}}return h}function q0(i,r,l){i=i.ownerDocument||i,i.head.insertBefore(l,r==="title"?i.querySelector("head > title"):null)}function rA(i,r,l){if(l===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function G0(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Au=null;function aA(){}function oA(i,r,l){if(Au===null)throw Error(s(475));var h=Au;if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var g=fc(l.href),_=i.querySelector(Eu(g));if(_){i=_._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(h.count++,h=xd.bind(h),i.then(h,h)),r.state.loading|=4,r.instance=_,Ut(_);return}_=i.ownerDocument||i,l=B0(l),(g=as.get(g))&&kp(l,g),_=_.createElement("link"),Ut(_);var N=_;N._p=new Promise(function(I,F){N.onload=I,N.onerror=F}),Cn(_,"link",l),r.instance=_}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(h.count++,r=xd.bind(h),i.addEventListener("load",r),i.addEventListener("error",r))}}function lA(){if(Au===null)throw Error(s(475));var i=Au;return i.stylesheets&&i.count===0&&Lp(i,i.stylesheets),0<i.count?function(r){var l=setTimeout(function(){if(i.stylesheets&&Lp(i,i.stylesheets),i.unsuspend){var h=i.unsuspend;i.unsuspend=null,h()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(l)}}:null}function xd(){if(this.count--,this.count===0){if(this.stylesheets)Lp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var bd=null;function Lp(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,bd=new Map,r.forEach(cA,i),bd=null,xd.call(i))}function cA(i,r){if(!(r.state.loading&4)){var l=bd.get(i);if(l)var h=l.get(null);else{l=new Map,bd.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<g.length;_++){var N=g[_];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(l.set(N.dataset.precedence,N),h=N)}h&&l.set(null,h)}g=r.instance,N=g.getAttribute("data-precedence"),_=l.get(N)||h,_===h&&l.set(null,g),l.set(N,g),this.count++,h=xd.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),_?_.parentNode.insertBefore(g,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),r.state.loading|=4}}var Nu={$$typeof:W,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function uA(i,r,l,h,g,_,N,I){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=br(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=br(0),this.hiddenUpdates=br(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=_,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function $0(i,r,l,h,g,_,N,I,F,te,he,me){return i=new uA(i,r,l,N,I,F,te,me),r=1,_===!0&&(r|=24),_=ii(3,null,null,r),i.current=_,_.stateNode=i,r=_m(),r.refCount++,i.pooledCache=r,r.refCount++,_.memoizedState={element:h,isDehydrated:l,cache:r},wm(_),i}function Z0(i){return i?(i=zr,i):zr}function K0(i,r,l,h,g,_){g=Z0(g),h.context===null?h.context=g:h.pendingContext=g,h=Va(r),h.payload={element:l},_=_===void 0?null:_,_!==null&&(h.callback=_),l=za(i,h,r),l!==null&&(Ui(l,i,r),iu(l,i,r))}function Y0(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<r?l:r}}function Vp(i,r){Y0(i,r),(i=i.alternate)&&Y0(i,r)}function W0(i){if(i.tag===13){var r=Pa(i,67108864);r!==null&&Ui(r,i,67108864),Vp(i,67108864)}}var wd=!0;function hA(i,r,l,h){var g=se.T;se.T=null;var _=Se.p;try{Se.p=2,zp(i,r,l,h)}finally{Se.p=_,se.T=g}}function dA(i,r,l,h){var g=se.T;se.T=null;var _=Se.p;try{Se.p=8,zp(i,r,l,h)}finally{Se.p=_,se.T=g}}function zp(i,r,l,h){if(wd){var g=Up(h);if(g===null)Ap(i,r,h,Td,l),X0(i,h);else if(mA(g,i,r,l,h))h.stopPropagation();else if(X0(i,h),r&4&&-1<fA.indexOf(i)){for(;g!==null;){var _=Ei(g);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var N=ri(_.pendingLanes);if(N!==0){var I=_;for(I.pendingLanes|=2,I.entangledLanes|=2;N;){var F=1<<31-An(N);I.entanglements[1]|=F,N&=~F}Js(_),(vt&6)===0&&(ad=fn()+500,xu(0))}}break;case 13:I=Pa(_,2),I!==null&&Ui(I,_,2),ld(),Vp(_,2)}if(_=Up(h),_===null&&Ap(i,r,h,Td,l),_===g)break;g=_}g!==null&&h.stopPropagation()}else Ap(i,r,h,null,l)}}function Up(i){return i=Bs(i),Bp(i)}var Td=null;function Bp(i){if(Td=null,i=ci(i),i!==null){var r=c(i);if(r===null)i=null;else{var l=r.tag;if(l===13){if(i=f(r),i!==null)return i;i=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Td=i,null}function Q0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vr()){case Zt:return 2;case Kt:return 8;case wi:case Rl:return 32;case ma:return 268435456;default:return 32}default:return 32}}var Hp=!1,Xa=null,Ja=null,eo=null,Ru=new Map,Cu=new Map,to=[],fA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function X0(i,r){switch(i){case"focusin":case"focusout":Xa=null;break;case"dragenter":case"dragleave":Ja=null;break;case"mouseover":case"mouseout":eo=null;break;case"pointerover":case"pointerout":Ru.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cu.delete(r.pointerId)}}function Iu(i,r,l,h,g,_){return i===null||i.nativeEvent!==_?(i={blockedOn:r,domEventName:l,eventSystemFlags:h,nativeEvent:_,targetContainers:[g]},r!==null&&(r=Ei(r),r!==null&&W0(r)),i):(i.eventSystemFlags|=h,r=i.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),i)}function mA(i,r,l,h,g){switch(r){case"focusin":return Xa=Iu(Xa,i,r,l,h,g),!0;case"dragenter":return Ja=Iu(Ja,i,r,l,h,g),!0;case"mouseover":return eo=Iu(eo,i,r,l,h,g),!0;case"pointerover":var _=g.pointerId;return Ru.set(_,Iu(Ru.get(_)||null,i,r,l,h,g)),!0;case"gotpointercapture":return _=g.pointerId,Cu.set(_,Iu(Cu.get(_)||null,i,r,l,h,g)),!0}return!1}function J0(i){var r=ci(i.target);if(r!==null){var l=c(r);if(l!==null){if(r=l.tag,r===13){if(r=f(l),r!==null){i.blockedOn=r,jo(i.priority,function(){if(l.tag===13){var h=zi();h=Co(h);var g=Pa(l,h);g!==null&&Ui(g,l,h),Vp(l,h)}});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ed(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var l=Up(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);Ir=h,l.target.dispatchEvent(h),Ir=null}else return r=Ei(l),r!==null&&W0(r),i.blockedOn=l,!1;r.shift()}return!0}function ex(i,r,l){Ed(i)&&l.delete(r)}function pA(){Hp=!1,Xa!==null&&Ed(Xa)&&(Xa=null),Ja!==null&&Ed(Ja)&&(Ja=null),eo!==null&&Ed(eo)&&(eo=null),Ru.forEach(ex),Cu.forEach(ex)}function Sd(i,r){i.blockedOn===r&&(i.blockedOn=null,Hp||(Hp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,pA)))}var Ad=null;function tx(i){Ad!==i&&(Ad=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ad===i&&(Ad=null);for(var r=0;r<i.length;r+=3){var l=i[r],h=i[r+1],g=i[r+2];if(typeof h!="function"){if(Bp(h||l)===null)continue;break}var _=Ei(l);_!==null&&(i.splice(r,3),r-=3,Bm(_,{pending:!0,data:g,method:l.method,action:h},h,g))}}))}function ju(i){function r(F){return Sd(F,i)}Xa!==null&&Sd(Xa,i),Ja!==null&&Sd(Ja,i),eo!==null&&Sd(eo,i),Ru.forEach(r),Cu.forEach(r);for(var l=0;l<to.length;l++){var h=to[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<to.length&&(l=to[0],l.blockedOn===null);)J0(l),l.blockedOn===null&&to.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var g=l[h],_=l[h+1],N=g[an]||null;if(typeof _=="function")N||tx(l);else if(N){var I=null;if(_&&_.hasAttribute("formAction")){if(g=_,N=_[an]||null)I=N.formAction;else if(Bp(g)!==null)continue}else I=N.action;typeof I=="function"?l[h+1]=I:(l.splice(h,3),h-=3),tx(l)}}}function Fp(i){this._internalRoot=i}Nd.prototype.render=Fp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var l=r.current,h=zi();K0(l,h,i,r,null,null)},Nd.prototype.unmount=Fp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;K0(i.current,2,null,i,null,null),ld(),r[ds]=null}};function Nd(i){this._internalRoot=i}Nd.prototype.unstable_scheduleHydration=function(i){if(i){var r=hs();i={blockedOn:null,target:i,priority:r};for(var l=0;l<to.length&&r!==0&&r<to[l].priority;l++);to.splice(l,0,i),l===0&&J0(i)}};var nx=e.version;if(nx!=="19.1.1")throw Error(s(527,nx,"19.1.1"));Se.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=v(r),i=i!==null?x(i):null,i=i===null?null:i.stateNode,i};var gA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:se,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rd.isDisabled&&Rd.supportsFiber)try{Fi=Rd.inject(gA),rn=Rd}catch{}}return Pu.createRoot=function(i,r){if(!o(i))throw Error(s(299));var l=!1,h="",g=_v,_=vv,N=xv,I=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(N=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(I=r.unstable_transitionCallbacks)),r=$0(i,1,!1,null,null,l,h,g,_,N,I,null),i[ds]=r.current,Sp(i),new Fp(r)},Pu.hydrateRoot=function(i,r,l){if(!o(i))throw Error(s(299));var h=!1,g="",_=_v,N=vv,I=xv,F=null,te=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(N=l.onCaughtError),l.onRecoverableError!==void 0&&(I=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(F=l.unstable_transitionCallbacks),l.formState!==void 0&&(te=l.formState)),r=$0(i,1,!0,r,l??null,h,g,_,N,I,F,te),r.context=Z0(null),l=r.current,h=zi(),h=Co(h),g=Va(h),g.callback=null,za(l,g,h),l=h,r.current.lanes=l,Ot(r,l),Js(r),i[ds]=r.current,Sp(i),new Nd(r)},Pu.version="19.1.1",Pu}var dx;function NA(){if(dx)return $p.exports;dx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),$p.exports=AA(),$p.exports}var RA=NA();const CA=Sw(RA);/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var fx="popstate";function IA(n={}){function e(s,o){let{pathname:c,search:f,hash:y}=s.location;return vg("",{pathname:c,search:f,hash:y},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:Qu(o)}return MA(e,t,null,n)}function Vt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ms(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jA(){return Math.random().toString(36).substring(2,10)}function mx(n,e){return{usr:n.state,key:n.key,idx:e}}function vg(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Pc(e):e,state:t,key:e&&e.key||s||jA()}}function Qu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Pc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function MA(n,e,t,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,f=o.history,y="POP",v=null,x=w();x==null&&(x=0,f.replaceState({...f.state,idx:x},""));function w(){return(f.state||{idx:null}).idx}function A(){y="POP";let V=w(),ce=V==null?null:V-x;x=V,v&&v({action:y,location:H.location,delta:ce})}function R(V,ce){y="PUSH";let G=vg(H.location,V,ce);x=w()+1;let W=mx(G,x),ve=H.createHref(G);try{f.pushState(W,"",ve)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;o.location.assign(ve)}c&&v&&v({action:y,location:H.location,delta:1})}function P(V,ce){y="REPLACE";let G=vg(H.location,V,ce);x=w();let W=mx(G,x),ve=H.createHref(G);f.replaceState(W,"",ve),c&&v&&v({action:y,location:H.location,delta:0})}function M(V){return PA(V)}let H={get action(){return y},get location(){return n(o,f)},listen(V){if(v)throw new Error("A history only accepts one active listener");return o.addEventListener(fx,A),v=V,()=>{o.removeEventListener(fx,A),v=null}},createHref(V){return e(o,V)},createURL:M,encodeLocation(V){let ce=M(V);return{pathname:ce.pathname,search:ce.search,hash:ce.hash}},push:R,replace:P,go(V){return f.go(V)}};return H}function PA(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Vt(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:Qu(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function Nw(n,e,t="/"){return OA(n,e,t,!1)}function OA(n,e,t,s){let o=typeof e=="string"?Pc(e):e,c=sa(o.pathname||"/",t);if(c==null)return null;let f=Rw(n);kA(f);let y=null;for(let v=0;y==null&&v<f.length;++v){let x=$A(c);y=qA(f[v],x,s)}return y}function Rw(n,e=[],t=[],s="",o=!1){let c=(f,y,v=o,x)=>{let w={relativePath:x===void 0?f.path||"":x,caseSensitive:f.caseSensitive===!0,childrenIndex:y,route:f};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(s)&&v)return;Vt(w.relativePath.startsWith(s),`Absolute route path "${w.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(s.length)}let A=na([s,w.relativePath]),R=t.concat(w);f.children&&f.children.length>0&&(Vt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),Rw(f.children,e,R,A,v)),!(f.path==null&&!f.index)&&e.push({path:A,score:HA(A,f.index),routesMeta:R})};return n.forEach((f,y)=>{var v;if(f.path===""||!((v=f.path)!=null&&v.includes("?")))c(f,y);else for(let x of Cw(f.path))c(f,y,!0,x)}),e}function Cw(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),c=t.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let f=Cw(s.join("/")),y=[];return y.push(...f.map(v=>v===""?c:[c,v].join("/"))),o&&y.push(...f),y.map(v=>n.startsWith("/")&&v===""?"/":v)}function kA(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:FA(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var DA=/^:[\w-]+$/,LA=3,VA=2,zA=1,UA=10,BA=-2,px=n=>n==="*";function HA(n,e){let t=n.split("/"),s=t.length;return t.some(px)&&(s+=BA),e&&(s+=VA),t.filter(o=>!px(o)).reduce((o,c)=>o+(DA.test(c)?LA:c===""?zA:UA),s)}function FA(n,e){return n.length===e.length&&n.slice(0,-1).every((s,o)=>s===e[o])?n[n.length-1]-e[e.length-1]:0}function qA(n,e,t=!1){let{routesMeta:s}=n,o={},c="/",f=[];for(let y=0;y<s.length;++y){let v=s[y],x=y===s.length-1,w=c==="/"?e:e.slice(c.length)||"/",A=sf({path:v.relativePath,caseSensitive:v.caseSensitive,end:x},w),R=v.route;if(!A&&x&&t&&!s[s.length-1].route.index&&(A=sf({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},w)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:na([c,A.pathname]),pathnameBase:WA(na([c,A.pathnameBase])),route:R}),A.pathnameBase!=="/"&&(c=na([c,A.pathnameBase]))}return f}function sf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=GA(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let c=o[0],f=c.replace(/(.)\/+$/,"$1"),y=o.slice(1);return{params:s.reduce((x,{paramName:w,isOptional:A},R)=>{if(w==="*"){let M=y[R]||"";f=c.slice(0,c.length-M.length).replace(/(.)\/+$/,"$1")}const P=y[R];return A&&!P?x[w]=void 0:x[w]=(P||"").replace(/%2F/g,"/"),x},{}),pathname:c,pathnameBase:f,pattern:n}}function GA(n,e=!1,t=!0){Ms(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,y,v)=>(s.push({paramName:y,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function $A(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ms(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function sa(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function ZA(n,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof n=="string"?Pc(n):n;return{pathname:t?t.startsWith("/")?t:KA(t,e):e,search:QA(s),hash:XA(o)}}function KA(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Wp(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function YA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function sy(n){let e=YA(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function ry(n,e,t,s=!1){let o;typeof n=="string"?o=Pc(n):(o={...n},Vt(!o.pathname||!o.pathname.includes("?"),Wp("?","pathname","search",o)),Vt(!o.pathname||!o.pathname.includes("#"),Wp("#","pathname","hash",o)),Vt(!o.search||!o.search.includes("#"),Wp("#","search","hash",o)));let c=n===""||o.pathname==="",f=c?"/":o.pathname,y;if(f==null)y=t;else{let A=e.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),A-=1;o.pathname=R.join("/")}y=A>=0?e[A]:"/"}let v=ZA(o,y),x=f&&f!=="/"&&f.endsWith("/"),w=(c||f===".")&&t.endsWith("/");return!v.pathname.endsWith("/")&&(x||w)&&(v.pathname+="/"),v}var na=n=>n.join("/").replace(/\/\/+/g,"/"),WA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),QA=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,XA=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function JA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Iw=["POST","PUT","PATCH","DELETE"];new Set(Iw);var eN=["GET",...Iw];new Set(eN);var Oc=U.createContext(null);Oc.displayName="DataRouter";var Of=U.createContext(null);Of.displayName="DataRouterState";U.createContext(!1);var jw=U.createContext({isTransitioning:!1});jw.displayName="ViewTransition";var tN=U.createContext(new Map);tN.displayName="Fetchers";var nN=U.createContext(null);nN.displayName="Await";var Os=U.createContext(null);Os.displayName="Navigation";var lh=U.createContext(null);lh.displayName="Location";var pr=U.createContext({outlet:null,matches:[],isDataRoute:!1});pr.displayName="Route";var ay=U.createContext(null);ay.displayName="RouteError";function iN(n,{relative:e}={}){Vt(kc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=U.useContext(Os),{hash:o,pathname:c,search:f}=ch(n,{relative:e}),y=c;return t!=="/"&&(y=c==="/"?t:na([t,c])),s.createHref({pathname:y,search:f,hash:o})}function kc(){return U.useContext(lh)!=null}function So(){return Vt(kc(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(lh).location}var Mw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Pw(n){U.useContext(Os).static||U.useLayoutEffect(n)}function oy(){let{isDataRoute:n}=U.useContext(pr);return n?gN():sN()}function sN(){Vt(kc(),"useNavigate() may be used only in the context of a <Router> component.");let n=U.useContext(Oc),{basename:e,navigator:t}=U.useContext(Os),{matches:s}=U.useContext(pr),{pathname:o}=So(),c=JSON.stringify(sy(s)),f=U.useRef(!1);return Pw(()=>{f.current=!0}),U.useCallback((v,x={})=>{if(Ms(f.current,Mw),!f.current)return;if(typeof v=="number"){t.go(v);return}let w=ry(v,JSON.parse(c),o,x.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:na([e,w.pathname])),(x.replace?t.replace:t.push)(w,x.state,x)},[e,t,c,o,n])}U.createContext(null);function ch(n,{relative:e}={}){let{matches:t}=U.useContext(pr),{pathname:s}=So(),o=JSON.stringify(sy(t));return U.useMemo(()=>ry(n,JSON.parse(o),s,e==="path"),[n,o,s,e])}function rN(n,e){return Ow(n,e)}function Ow(n,e,t,s,o){var G;Vt(kc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=U.useContext(Os),{matches:f}=U.useContext(pr),y=f[f.length-1],v=y?y.params:{},x=y?y.pathname:"/",w=y?y.pathnameBase:"/",A=y&&y.route;{let W=A&&A.path||"";kw(x,!A||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let R=So(),P;if(e){let W=typeof e=="string"?Pc(e):e;Vt(w==="/"||((G=W.pathname)==null?void 0:G.startsWith(w)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${W.pathname}" was given in the \`location\` prop.`),P=W}else P=R;let M=P.pathname||"/",H=M;if(w!=="/"){let W=w.replace(/^\//,"").split("/");H="/"+M.replace(/^\//,"").split("/").slice(W.length).join("/")}let V=Nw(n,{pathname:H});Ms(A||V!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),Ms(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ce=uN(V&&V.map(W=>Object.assign({},W,{params:Object.assign({},v,W.params),pathname:na([w,c.encodeLocation?c.encodeLocation(W.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?w:na([w,c.encodeLocation?c.encodeLocation(W.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathnameBase])})),f,t,s,o);return e&&ce?U.createElement(lh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},ce):ce}function aN(){let n=pN(),e=JA(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",n),f=U.createElement(U.Fragment,null,U.createElement("p",null,"💿 Hey developer 👋"),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:c},"ErrorBoundary")," or"," ",U.createElement("code",{style:c},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:o},t):null,f)}var oN=U.createElement(aN,null),lN=class extends U.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?U.createElement(pr.Provider,{value:this.props.routeContext},U.createElement(ay.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function cN({routeContext:n,match:e,children:t}){let s=U.useContext(Oc);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(pr.Provider,{value:n},t)}function uN(n,e=[],t=null,s=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let c=n,f=t==null?void 0:t.errors;if(f!=null){let x=c.findIndex(w=>w.route.id&&(f==null?void 0:f[w.route.id])!==void 0);Vt(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),c=c.slice(0,Math.min(c.length,x+1))}let y=!1,v=-1;if(t)for(let x=0;x<c.length;x++){let w=c[x];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(v=x),w.route.id){let{loaderData:A,errors:R}=t,P=w.route.loader&&!A.hasOwnProperty(w.route.id)&&(!R||R[w.route.id]===void 0);if(w.route.lazy||P){y=!0,v>=0?c=c.slice(0,v+1):c=[c[0]];break}}}return c.reduceRight((x,w,A)=>{let R,P=!1,M=null,H=null;t&&(R=f&&w.route.id?f[w.route.id]:void 0,M=w.route.errorElement||oN,y&&(v<0&&A===0?(kw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,H=null):v===A&&(P=!0,H=w.route.hydrateFallbackElement||null)));let V=e.concat(c.slice(0,A+1)),ce=()=>{let G;return R?G=M:P?G=H:w.route.Component?G=U.createElement(w.route.Component,null):w.route.element?G=w.route.element:G=x,U.createElement(cN,{match:w,routeContext:{outlet:x,matches:V,isDataRoute:t!=null},children:G})};return t&&(w.route.ErrorBoundary||w.route.errorElement||A===0)?U.createElement(lN,{location:t.location,revalidation:t.revalidation,component:M,error:R,children:ce(),routeContext:{outlet:null,matches:V,isDataRoute:!0},unstable_onError:s}):ce()},null)}function ly(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hN(n){let e=U.useContext(Oc);return Vt(e,ly(n)),e}function dN(n){let e=U.useContext(Of);return Vt(e,ly(n)),e}function fN(n){let e=U.useContext(pr);return Vt(e,ly(n)),e}function cy(n){let e=fN(n),t=e.matches[e.matches.length-1];return Vt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function mN(){return cy("useRouteId")}function pN(){var s;let n=U.useContext(ay),e=dN("useRouteError"),t=cy("useRouteError");return n!==void 0?n:(s=e.errors)==null?void 0:s[t]}function gN(){let{router:n}=hN("useNavigate"),e=cy("useNavigate"),t=U.useRef(!1);return Pw(()=>{t.current=!0}),U.useCallback(async(o,c={})=>{Ms(t.current,Mw),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...c}))},[n,e])}var gx={};function kw(n,e,t){!e&&!gx[n]&&(gx[n]=!0,Ms(!1,t))}U.memo(yN);function yN({routes:n,future:e,state:t,unstable_onError:s}){return Ow(n,void 0,t,s,e)}function yx({to:n,replace:e,state:t,relative:s}){Vt(kc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=U.useContext(Os);Ms(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=U.useContext(pr),{pathname:f}=So(),y=oy(),v=ry(n,sy(c),f,s==="path"),x=JSON.stringify(v);return U.useEffect(()=>{y(JSON.parse(x),{replace:e,state:t,relative:s})},[y,x,s,e,t]),null}function xg(n){Vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _N({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:c=!1}){Vt(!kc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),y=U.useMemo(()=>({basename:f,navigator:o,static:c,future:{}}),[f,o,c]);typeof t=="string"&&(t=Pc(t));let{pathname:v="/",search:x="",hash:w="",state:A=null,key:R="default"}=t,P=U.useMemo(()=>{let M=sa(v,f);return M==null?null:{location:{pathname:M,search:x,hash:w,state:A,key:R},navigationType:s}},[f,v,x,w,A,R,s]);return Ms(P!=null,`<Router basename="${f}"> is not able to match the URL "${v}${x}${w}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:U.createElement(Os.Provider,{value:y},U.createElement(lh.Provider,{children:e,value:P}))}function vN({children:n,location:e}){return rN(bg(n),e)}function bg(n,e=[]){let t=[];return U.Children.forEach(n,(s,o)=>{if(!U.isValidElement(s))return;let c=[...e,o];if(s.type===U.Fragment){t.push.apply(t,bg(s.props.children,c));return}Vt(s.type===xg,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Vt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=bg(s.props.children,c)),t.push(f)}),t}var Bd="get",Hd="application/x-www-form-urlencoded";function kf(n){return n!=null&&typeof n.tagName=="string"}function xN(n){return kf(n)&&n.tagName.toLowerCase()==="button"}function bN(n){return kf(n)&&n.tagName.toLowerCase()==="form"}function wN(n){return kf(n)&&n.tagName.toLowerCase()==="input"}function TN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function EN(n,e){return n.button===0&&(!e||e==="_self")&&!TN(n)}var Cd=null;function SN(){if(Cd===null)try{new FormData(document.createElement("form"),0),Cd=!1}catch{Cd=!0}return Cd}var AN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qp(n){return n!=null&&!AN.has(n)?(Ms(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hd}"`),null):n}function NN(n,e){let t,s,o,c,f;if(bN(n)){let y=n.getAttribute("action");s=y?sa(y,e):null,t=n.getAttribute("method")||Bd,o=Qp(n.getAttribute("enctype"))||Hd,c=new FormData(n)}else if(xN(n)||wN(n)&&(n.type==="submit"||n.type==="image")){let y=n.form;if(y==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=n.getAttribute("formaction")||y.getAttribute("action");if(s=v?sa(v,e):null,t=n.getAttribute("formmethod")||y.getAttribute("method")||Bd,o=Qp(n.getAttribute("formenctype"))||Qp(y.getAttribute("enctype"))||Hd,c=new FormData(y,n),!SN()){let{name:x,type:w,value:A}=n;if(w==="image"){let R=x?`${x}.`:"";c.append(`${R}x`,"0"),c.append(`${R}y`,"0")}else x&&c.append(x,A)}}else{if(kf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Bd,s=null,o=Hd,f=n}return c&&o==="text/plain"&&(f=c,c=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:c,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function uy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function RN(n,e,t){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&sa(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function CN(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function IN(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function jN(n,e,t){let s=await Promise.all(n.map(async o=>{let c=e.routes[o.route.id];if(c){let f=await CN(c,t);return f.links?f.links():[]}return[]}));return kN(s.flat(1).filter(IN).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function _x(n,e,t,s,o,c){let f=(v,x)=>t[x]?v.route.id!==t[x].route.id:!0,y=(v,x)=>{var w;return t[x].pathname!==v.pathname||((w=t[x].route.path)==null?void 0:w.endsWith("*"))&&t[x].params["*"]!==v.params["*"]};return c==="assets"?e.filter((v,x)=>f(v,x)||y(v,x)):c==="data"?e.filter((v,x)=>{var A;let w=s.routes[v.route.id];if(!w||!w.hasLoader)return!1;if(f(v,x)||y(v,x))return!0;if(v.route.shouldRevalidate){let R=v.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=t[0])==null?void 0:A.params)||{},nextUrl:new URL(n,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function MN(n,e,{includeHydrateFallback:t}={}){return PN(n.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function PN(n){return[...new Set(n)]}function ON(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function kN(n,e){let t=new Set;return new Set(e),n.reduce((s,o)=>{let c=JSON.stringify(ON(o));return t.has(c)||(t.add(c),s.push({key:c,link:o})),s},[])}function Dw(){let n=U.useContext(Oc);return uy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function DN(){let n=U.useContext(Of);return uy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var hy=U.createContext(void 0);hy.displayName="FrameworkContext";function Lw(){let n=U.useContext(hy);return uy(n,"You must render this element inside a <HydratedRouter> element"),n}function LN(n,e){let t=U.useContext(hy),[s,o]=U.useState(!1),[c,f]=U.useState(!1),{onFocus:y,onBlur:v,onMouseEnter:x,onMouseLeave:w,onTouchStart:A}=e,R=U.useRef(null);U.useEffect(()=>{if(n==="render"&&f(!0),n==="viewport"){let H=ce=>{ce.forEach(G=>{f(G.isIntersecting)})},V=new IntersectionObserver(H,{threshold:.5});return R.current&&V.observe(R.current),()=>{V.disconnect()}}},[n]),U.useEffect(()=>{if(s){let H=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(H)}}},[s]);let P=()=>{o(!0)},M=()=>{o(!1),f(!1)};return t?n!=="intent"?[c,R,{}]:[c,R,{onFocus:Ou(y,P),onBlur:Ou(v,M),onMouseEnter:Ou(x,P),onMouseLeave:Ou(w,M),onTouchStart:Ou(A,P)}]:[!1,R,{}]}function Ou(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function VN({page:n,...e}){let{router:t}=Dw(),s=U.useMemo(()=>Nw(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?U.createElement(UN,{page:n,matches:s,...e}):null}function zN(n){let{manifest:e,routeModules:t}=Lw(),[s,o]=U.useState([]);return U.useEffect(()=>{let c=!1;return jN(n,e,t).then(f=>{c||o(f)}),()=>{c=!0}},[n,e,t]),s}function UN({page:n,matches:e,...t}){let s=So(),{manifest:o,routeModules:c}=Lw(),{basename:f}=Dw(),{loaderData:y,matches:v}=DN(),x=U.useMemo(()=>_x(n,e,v,o,s,"data"),[n,e,v,o,s]),w=U.useMemo(()=>_x(n,e,v,o,s,"assets"),[n,e,v,o,s]),A=U.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let M=new Set,H=!1;if(e.forEach(ce=>{var W;let G=o.routes[ce.route.id];!G||!G.hasLoader||(!x.some(ve=>ve.route.id===ce.route.id)&&ce.route.id in y&&((W=c[ce.route.id])!=null&&W.shouldRevalidate)||G.hasClientLoader?H=!0:M.add(ce.route.id))}),M.size===0)return[];let V=RN(n,f,"data");return H&&M.size>0&&V.searchParams.set("_routes",e.filter(ce=>M.has(ce.route.id)).map(ce=>ce.route.id).join(",")),[V.pathname+V.search]},[f,y,s,o,x,e,n,c]),R=U.useMemo(()=>MN(w,o),[w,o]),P=zN(w);return U.createElement(U.Fragment,null,A.map(M=>U.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...t})),R.map(M=>U.createElement("link",{key:M,rel:"modulepreload",href:M,...t})),P.map(({key:M,link:H})=>U.createElement("link",{key:M,nonce:t.nonce,...H})))}function BN(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Vw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Vw&&(window.__reactRouterVersion="7.9.3")}catch{}function HN({basename:n,children:e,window:t}){let s=U.useRef();s.current==null&&(s.current=IA({window:t,v5Compat:!0}));let o=s.current,[c,f]=U.useState({action:o.action,location:o.location}),y=U.useCallback(v=>{U.startTransition(()=>f(v))},[f]);return U.useLayoutEffect(()=>o.listen(y),[o,y]),U.createElement(_N,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:o})}var zw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Uw=U.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:c,replace:f,state:y,target:v,to:x,preventScrollReset:w,viewTransition:A,...R},P){let{basename:M}=U.useContext(Os),H=typeof x=="string"&&zw.test(x),V,ce=!1;if(typeof x=="string"&&H&&(V=x,Vw))try{let D=new URL(window.location.href),Z=x.startsWith("//")?new URL(D.protocol+x):new URL(x),$=sa(Z.pathname,M);Z.origin===D.origin&&$!=null?x=$+Z.search+Z.hash:ce=!0}catch{Ms(!1,`<Link to="${x}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=iN(x,{relative:o}),[W,ve,le]=LN(s,R),xe=$N(x,{replace:f,state:y,target:v,preventScrollReset:w,relative:o,viewTransition:A});function q(D){e&&e(D),D.defaultPrevented||xe(D)}let O=U.createElement("a",{...R,...le,href:V||G,onClick:ce||c?e:q,ref:BN(P,ve),target:v,"data-discover":!H&&t==="render"?"true":void 0});return W&&!H?U.createElement(U.Fragment,null,O,U.createElement(VN,{page:G})):O});Uw.displayName="Link";var FN=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:c,to:f,viewTransition:y,children:v,...x},w){let A=ch(f,{relative:x.relative}),R=So(),P=U.useContext(Of),{navigator:M,basename:H}=U.useContext(Os),V=P!=null&&QN(A)&&y===!0,ce=M.encodeLocation?M.encodeLocation(A).pathname:A.pathname,G=R.pathname,W=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;t||(G=G.toLowerCase(),W=W?W.toLowerCase():null,ce=ce.toLowerCase()),W&&H&&(W=sa(W,H)||W);const ve=ce!=="/"&&ce.endsWith("/")?ce.length-1:ce.length;let le=G===ce||!o&&G.startsWith(ce)&&G.charAt(ve)==="/",xe=W!=null&&(W===ce||!o&&W.startsWith(ce)&&W.charAt(ce.length)==="/"),q={isActive:le,isPending:xe,isTransitioning:V},O=le?e:void 0,D;typeof s=="function"?D=s(q):D=[s,le?"active":null,xe?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let Z=typeof c=="function"?c(q):c;return U.createElement(Uw,{...x,"aria-current":O,className:D,ref:w,style:Z,to:f,viewTransition:y},typeof v=="function"?v(q):v)});FN.displayName="NavLink";var qN=U.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:c,method:f=Bd,action:y,onSubmit:v,relative:x,preventScrollReset:w,viewTransition:A,...R},P)=>{let M=YN(),H=WN(y,{relative:x}),V=f.toLowerCase()==="get"?"get":"post",ce=typeof y=="string"&&zw.test(y),G=W=>{if(v&&v(W),W.defaultPrevented)return;W.preventDefault();let ve=W.nativeEvent.submitter,le=(ve==null?void 0:ve.getAttribute("formmethod"))||f;M(ve||W.currentTarget,{fetcherKey:e,method:le,navigate:t,replace:o,state:c,relative:x,preventScrollReset:w,viewTransition:A})};return U.createElement("form",{ref:P,method:V,action:H,onSubmit:s?v:G,...R,"data-discover":!ce&&n==="render"?"true":void 0})});qN.displayName="Form";function GN(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Bw(n){let e=U.useContext(Oc);return Vt(e,GN(n)),e}function $N(n,{target:e,replace:t,state:s,preventScrollReset:o,relative:c,viewTransition:f}={}){let y=oy(),v=So(),x=ch(n,{relative:c});return U.useCallback(w=>{if(EN(w,e)){w.preventDefault();let A=t!==void 0?t:Qu(v)===Qu(x);y(n,{replace:A,state:s,preventScrollReset:o,relative:c,viewTransition:f})}},[v,y,x,t,s,e,n,o,c,f])}var ZN=0,KN=()=>`__${String(++ZN)}__`;function YN(){let{router:n}=Bw("useSubmit"),{basename:e}=U.useContext(Os),t=mN();return U.useCallback(async(s,o={})=>{let{action:c,method:f,encType:y,formData:v,body:x}=NN(s,e);if(o.navigate===!1){let w=o.fetcherKey||KN();await n.fetch(w,t,o.action||c,{preventScrollReset:o.preventScrollReset,formData:v,body:x,formMethod:o.method||f,formEncType:o.encType||y,flushSync:o.flushSync})}else await n.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:v,body:x,formMethod:o.method||f,formEncType:o.encType||y,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function WN(n,{relative:e}={}){let{basename:t}=U.useContext(Os),s=U.useContext(pr);Vt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...ch(n||".",{relative:e})},f=So();if(n==null){c.search=f.search;let y=new URLSearchParams(c.search),v=y.getAll("index");if(v.some(w=>w==="")){y.delete("index"),v.filter(A=>A).forEach(A=>y.append("index",A));let w=y.toString();c.search=w?`?${w}`:""}}return(!n||n===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(c.pathname=c.pathname==="/"?t:na([t,c.pathname])),Qu(c)}function QN(n,{relative:e}={}){let t=U.useContext(jw);Vt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Bw("useViewTransitionState"),o=ch(n,{relative:e});if(!t.isTransitioning)return!1;let c=sa(t.currentLocation.pathname,s)||t.currentLocation.pathname,f=sa(t.nextLocation.pathname,s)||t.nextLocation.pathname;return sf(o.pathname,f)!=null||sf(o.pathname,c)!=null}var XN=Aw();let JN={data:""},e2=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||JN,t2=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,n2=/\/\*[^]*?\*\/|  +/g,vx=/\n+/g,so=(n,e)=>{let t="",s="",o="";for(let c in n){let f=n[c];c[0]=="@"?c[1]=="i"?t=c+" "+f+";":s+=c[1]=="f"?so(f,c):c+"{"+so(f,c[1]=="k"?"":e)+"}":typeof f=="object"?s+=so(f,e?e.replace(/([^,])+/g,y=>c.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,v=>/&/.test(v)?v.replace(/&/g,y):y?y+" "+v:v)):c):f!=null&&(c=/^--/.test(c)?c:c.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=so.p?so.p(c,f):c+":"+f+";")}return t+(e&&o?e+"{"+o+"}":o)+s},Yr={},Hw=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+Hw(n[t]);return e}return n},i2=(n,e,t,s,o)=>{let c=Hw(n),f=Yr[c]||(Yr[c]=(v=>{let x=0,w=11;for(;x<v.length;)w=101*w+v.charCodeAt(x++)>>>0;return"go"+w})(c));if(!Yr[f]){let v=c!==n?n:(x=>{let w,A,R=[{}];for(;w=t2.exec(x.replace(n2,""));)w[4]?R.shift():w[3]?(A=w[3].replace(vx," ").trim(),R.unshift(R[0][A]=R[0][A]||{})):R[0][w[1]]=w[2].replace(vx," ").trim();return R[0]})(n);Yr[f]=so(o?{["@keyframes "+f]:v}:v,t?"":"."+f)}let y=t&&Yr.g?Yr.g:null;return t&&(Yr.g=Yr[f]),((v,x,w,A)=>{A?x.data=x.data.replace(A,v):x.data.indexOf(v)===-1&&(x.data=w?v+x.data:x.data+v)})(Yr[f],e,s,y),f},s2=(n,e,t)=>n.reduce((s,o,c)=>{let f=e[c];if(f&&f.call){let y=f(t),v=y&&y.props&&y.props.className||/^go/.test(y)&&y;f=v?"."+v:y&&typeof y=="object"?y.props?"":so(y,""):y===!1?"":y}return s+o+(f??"")},"");function Df(n){let e=this||{},t=n.call?n(e.p):n;return i2(t.unshift?t.raw?s2(t,[].slice.call(arguments,1),e.p):t.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):t,e2(e.target),e.g,e.o,e.k)}let Fw,wg,Tg;Df.bind({g:1});let ra=Df.bind({k:1});function r2(n,e,t,s){so.p=e,Fw=n,wg=t,Tg=s}function Ao(n,e){let t=this||{};return function(){let s=arguments;function o(c,f){let y=Object.assign({},c),v=y.className||o.className;t.p=Object.assign({theme:wg&&wg()},y),t.o=/ *go\d+/.test(v),y.className=Df.apply(t,s)+(v?" "+v:"");let x=n;return n[0]&&(x=y.as||n,delete y.as),Tg&&x[0]&&Tg(y),Fw(x,y)}return o}}var a2=n=>typeof n=="function",rf=(n,e)=>a2(n)?n(e):n,o2=(()=>{let n=0;return()=>(++n).toString()})(),qw=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),l2=20,dy="default",Gw=(n,e)=>{let{toastLimit:t}=n.settings;switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,t)};case 1:return{...n,toasts:n.toasts.map(f=>f.id===e.toast.id?{...f,...e.toast}:f)};case 2:let{toast:s}=e;return Gw(n,{type:n.toasts.find(f=>f.id===s.id)?1:0,toast:s});case 3:let{toastId:o}=e;return{...n,toasts:n.toasts.map(f=>f.id===o||o===void 0?{...f,dismissed:!0,visible:!1}:f)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(f=>f.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let c=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(f=>({...f,pauseDuration:f.pauseDuration+c}))}}},Fd=[],$w={toasts:[],pausedAt:void 0,settings:{toastLimit:l2}},ir={},Zw=(n,e=dy)=>{ir[e]=Gw(ir[e]||$w,n),Fd.forEach(([t,s])=>{t===e&&s(ir[e])})},Kw=n=>Object.keys(ir).forEach(e=>Zw(n,e)),c2=n=>Object.keys(ir).find(e=>ir[e].toasts.some(t=>t.id===n)),Lf=(n=dy)=>e=>{Zw(e,n)},u2={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},h2=(n={},e=dy)=>{let[t,s]=U.useState(ir[e]||$w),o=U.useRef(ir[e]);U.useEffect(()=>(o.current!==ir[e]&&s(ir[e]),Fd.push([e,s]),()=>{let f=Fd.findIndex(([y])=>y===e);f>-1&&Fd.splice(f,1)}),[e]);let c=t.toasts.map(f=>{var y,v,x;return{...n,...n[f.type],...f,removeDelay:f.removeDelay||((y=n[f.type])==null?void 0:y.removeDelay)||(n==null?void 0:n.removeDelay),duration:f.duration||((v=n[f.type])==null?void 0:v.duration)||(n==null?void 0:n.duration)||u2[f.type],style:{...n.style,...(x=n[f.type])==null?void 0:x.style,...f.style}}});return{...t,toasts:c}},d2=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:(t==null?void 0:t.id)||o2()}),uh=n=>(e,t)=>{let s=d2(e,n,t);return Lf(s.toasterId||c2(s.id))({type:2,toast:s}),s.id},hn=(n,e)=>uh("blank")(n,e);hn.error=uh("error");hn.success=uh("success");hn.loading=uh("loading");hn.custom=uh("custom");hn.dismiss=(n,e)=>{let t={type:3,toastId:n};e?Lf(e)(t):Kw(t)};hn.dismissAll=n=>hn.dismiss(void 0,n);hn.remove=(n,e)=>{let t={type:4,toastId:n};e?Lf(e)(t):Kw(t)};hn.removeAll=n=>hn.remove(void 0,n);hn.promise=(n,e,t)=>{let s=hn.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof n=="function"&&(n=n()),n.then(o=>{let c=e.success?rf(e.success,o):void 0;return c?hn.success(c,{id:s,...t,...t==null?void 0:t.success}):hn.dismiss(s),o}).catch(o=>{let c=e.error?rf(e.error,o):void 0;c?hn.error(c,{id:s,...t,...t==null?void 0:t.error}):hn.dismiss(s)}),n};var f2=1e3,m2=(n,e="default")=>{let{toasts:t,pausedAt:s}=h2(n,e),o=U.useRef(new Map).current,c=U.useCallback((A,R=f2)=>{if(o.has(A))return;let P=setTimeout(()=>{o.delete(A),f({type:4,toastId:A})},R);o.set(A,P)},[]);U.useEffect(()=>{if(s)return;let A=Date.now(),R=t.map(P=>{if(P.duration===1/0)return;let M=(P.duration||0)+P.pauseDuration-(A-P.createdAt);if(M<0){P.visible&&hn.dismiss(P.id);return}return setTimeout(()=>hn.dismiss(P.id,e),M)});return()=>{R.forEach(P=>P&&clearTimeout(P))}},[t,s,e]);let f=U.useCallback(Lf(e),[e]),y=U.useCallback(()=>{f({type:5,time:Date.now()})},[f]),v=U.useCallback((A,R)=>{f({type:1,toast:{id:A,height:R}})},[f]),x=U.useCallback(()=>{s&&f({type:6,time:Date.now()})},[s,f]),w=U.useCallback((A,R)=>{let{reverseOrder:P=!1,gutter:M=8,defaultPosition:H}=R||{},V=t.filter(W=>(W.position||H)===(A.position||H)&&W.height),ce=V.findIndex(W=>W.id===A.id),G=V.filter((W,ve)=>ve<ce&&W.visible).length;return V.filter(W=>W.visible).slice(...P?[G+1]:[0,G]).reduce((W,ve)=>W+(ve.height||0)+M,0)},[t]);return U.useEffect(()=>{t.forEach(A=>{if(A.dismissed)c(A.id,A.removeDelay);else{let R=o.get(A.id);R&&(clearTimeout(R),o.delete(A.id))}})},[t,c]),{toasts:t,handlers:{updateHeight:v,startPause:y,endPause:x,calculateOffset:w}}},p2=ra`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,g2=ra`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,y2=ra`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,_2=Ao("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${p2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${g2} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${y2} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,v2=ra`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,x2=Ao("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${v2} 1s linear infinite;
`,b2=ra`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,w2=ra`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,T2=Ao("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${b2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${w2} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,E2=Ao("div")`
  position: absolute;
`,S2=Ao("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,A2=ra`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,N2=Ao("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${A2} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,R2=({toast:n})=>{let{icon:e,type:t,iconTheme:s}=n;return e!==void 0?typeof e=="string"?U.createElement(N2,null,e):e:t==="blank"?null:U.createElement(S2,null,U.createElement(x2,{...s}),t!=="loading"&&U.createElement(E2,null,t==="error"?U.createElement(_2,{...s}):U.createElement(T2,{...s})))},C2=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,I2=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,j2="0%{opacity:0;} 100%{opacity:1;}",M2="0%{opacity:1;} 100%{opacity:0;}",P2=Ao("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,O2=Ao("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,k2=(n,e)=>{let t=n.includes("top")?1:-1,[s,o]=qw()?[j2,M2]:[C2(t),I2(t)];return{animation:e?`${ra(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ra(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},D2=U.memo(({toast:n,position:e,style:t,children:s})=>{let o=n.height?k2(n.position||e||"top-center",n.visible):{opacity:0},c=U.createElement(R2,{toast:n}),f=U.createElement(O2,{...n.ariaProps},rf(n.message,n));return U.createElement(P2,{className:n.className,style:{...o,...t,...n.style}},typeof s=="function"?s({icon:c,message:f}):U.createElement(U.Fragment,null,c,f))});r2(U.createElement);var L2=({id:n,className:e,style:t,onHeightUpdate:s,children:o})=>{let c=U.useCallback(f=>{if(f){let y=()=>{let v=f.getBoundingClientRect().height;s(n,v)};y(),new MutationObserver(y).observe(f,{subtree:!0,childList:!0,characterData:!0})}},[n,s]);return U.createElement("div",{ref:c,className:e,style:t},o)},V2=(n,e)=>{let t=n.includes("top"),s=t?{top:0}:{bottom:0},o=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:qw()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...s,...o}},z2=Df`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Id=16,U2=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:s,children:o,toasterId:c,containerStyle:f,containerClassName:y})=>{let{toasts:v,handlers:x}=m2(t,c);return U.createElement("div",{"data-rht-toaster":c||"",style:{position:"fixed",zIndex:9999,top:Id,left:Id,right:Id,bottom:Id,pointerEvents:"none",...f},className:y,onMouseEnter:x.startPause,onMouseLeave:x.endPause},v.map(w=>{let A=w.position||e,R=x.calculateOffset(w,{reverseOrder:n,gutter:s,defaultPosition:e}),P=V2(A,R);return U.createElement(L2,{id:w.id,key:w.id,onHeightUpdate:x.updateHeight,className:w.visible?z2:"",style:P},w.type==="custom"?rf(w.message,w):o?o(w):U.createElement(D2,{toast:w,position:A}))}))},Bi=hn;const B2=()=>{oy();const[n,e]=U.useState({email:"",password:"",rememberMe:!1}),[t,s]=U.useState(!1),o=[{type:"Admin",email:"admin@oceanhazard.com",description:"Full system access & management",icon:"👨‍💼",password:"demo123"},{type:"Data Analyst",email:"analyst@oceanhazard.com",description:"Analytics, reports & social media monitoring",icon:"📊",password:"demo123"},{type:"Official",email:"official@oceanhazard.com",description:"Emergency response & coordination",icon:"🛡️",password:"demo123"},{type:"Citizen",email:"citizen@oceanhazard.com",description:"Report hazards & receive alerts",icon:"👥",password:"demo123"}],c=async v=>{if(v.preventDefault(),!n.email||!n.password){Bi.error("Please enter both email and password");return}s(!0);try{const x=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n.email,password:n.password})});if(x.ok){const w=await x.json();localStorage.setItem("user",JSON.stringify(w.user)),localStorage.setItem("token",w.token),Bi.success(`Welcome ${w.user.fullName}!`),window.location.href="/"}else{const w=await x.json();Bi.error(`Login failed: ${w.error||"Invalid credentials"}`)}}catch{Bi.error("Login failed: Network error")}finally{s(!1)}},f=v=>{const{name:x,value:w,type:A,checked:R}=v.target;e(P=>({...P,[x]:A==="checkbox"?R:w}))},y=async v=>{e({email:v.email,password:v.password,rememberMe:!1}),s(!0);try{const x=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:v.email,password:v.password})});if(x.ok){const w=await x.json();localStorage.setItem("user",JSON.stringify(w.user)),localStorage.setItem("token",w.token),Bi.success(`Logged in as ${v.type}`),window.location.href="/"}else{const w=await x.json();Bi.error(`Login failed: ${w.error||"Invalid credentials"}`)}}catch{Bi.error("Login failed: Network error")}finally{s(!1)}};return d.jsx("div",{className:"login-page",children:d.jsx("div",{className:"login-container",children:d.jsxs("div",{className:"login-card",children:[d.jsxs("div",{className:"login-header",children:[d.jsx("h1",{className:"login-title",children:"Taranga Ocean Monitor"}),d.jsx("p",{className:"login-subtitle",children:"Advanced Hazard Detection & Response System"})]}),d.jsxs("form",{className:"login-form",onSubmit:c,children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"email",children:"Email Address"}),d.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:f,placeholder:"Enter your email",required:!0})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"password",children:"Password"}),d.jsx("input",{type:"password",id:"password",name:"password",value:n.password,onChange:f,placeholder:"Enter your password",required:!0})]}),d.jsxs("div",{className:"form-options",children:[d.jsxs("label",{className:"checkbox-label",children:[d.jsx("input",{type:"checkbox",name:"rememberMe",checked:n.rememberMe,onChange:f}),"Remember me"]}),d.jsx("a",{href:"#",className:"forgot-password",children:"Forgot Password?"})]}),d.jsx("button",{type:"submit",className:"signin-button",disabled:t,children:t?"Signing In...":"Sign In"})]}),d.jsx("div",{className:"login-divider",children:d.jsx("span",{children:"Don't have an account?"})}),d.jsxs("div",{className:"account-options",children:[d.jsx("button",{className:"create-account-button",onClick:()=>Bi.info("Registration coming soon!"),children:"Create General Account"}),d.jsx("button",{className:"volunteer-register-button",onClick:()=>Bi.info("Volunteer registration coming soon!"),children:"Register as Volunteer"})]}),d.jsxs("div",{className:"demo-section",children:[d.jsx("h3",{className:"demo-title",children:"Demo Accounts"}),d.jsx("p",{className:"demo-subtitle",children:"Click any account below to instantly login and explore the system"}),d.jsx("div",{className:"demo-accounts",children:o.map((v,x)=>d.jsxs("div",{className:"demo-account",onClick:()=>y(v),children:[d.jsx("div",{className:"demo-icon",children:v.icon}),d.jsxs("div",{className:"demo-info",children:[d.jsx("div",{className:"demo-type",children:v.type}),d.jsx("div",{className:"demo-email",children:v.email}),d.jsx("div",{className:"demo-description",children:v.description})]})]},x))})]})]})})})};function Yw(n,e){const t=U.useRef(e);U.useEffect(function(){e!==t.current&&n.attributionControl!=null&&(t.current!=null&&n.attributionControl.removeAttribution(t.current),e!=null&&n.attributionControl.addAttribution(e)),t.current=e},[n,e])}function H2(n,e,t){e.center!==t.center&&n.setLatLng(e.center),e.radius!=null&&e.radius!==t.radius&&n.setRadius(e.radius)}const F2=1;function q2(n){return Object.freeze({__version:F2,map:n})}function Ww(n,e){return Object.freeze({...n,...e})}const fy=U.createContext(null);function Vf(){const n=U.use(fy);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function Qw(n){function e(t,s){const{instance:o,context:c}=n(t).current;U.useImperativeHandle(s,()=>o);const{children:f}=t;return f==null?null:ta.createElement(fy,{value:c},f)}return U.forwardRef(e)}function G2(n){function e(t,s){const[o,c]=U.useState(!1),{instance:f}=n(t,c).current;U.useImperativeHandle(s,()=>f),U.useEffect(function(){o&&f.update()},[f,o,t.children]);const y=f._contentNode;return y?XN.createPortal(t.children,y):null}return U.forwardRef(e)}function $2(n){function e(t,s){const{instance:o}=n(t).current;return U.useImperativeHandle(s,()=>o),null}return U.forwardRef(e)}function my(n,e){const t=U.useRef(void 0);U.useEffect(function(){return e!=null&&n.instance.on(e),t.current=e,function(){t.current!=null&&n.instance.off(t.current),t.current=null}},[n,e])}function zf(n,e){const t=n.pane??e.pane;return t?{...n,pane:t}:n}function Z2(n,e){return function(s,o){const c=Vf(),f=n(zf(s,c),c);return Yw(c.map,s.attribution),my(f.current,s.eventHandlers),e(f.current,c,s,o),f}}var zu={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var K2=zu.exports,xx;function Y2(){return xx||(xx=1,(function(n,e){(function(t,s){s(e)})(K2,(function(t){var s="1.9.4";function o(a){var u,p,b,E;for(p=1,b=arguments.length;p<b;p++){E=arguments[p];for(u in E)a[u]=E[u]}return a}var c=Object.create||(function(){function a(){}return function(u){return a.prototype=u,new a}})();function f(a,u){var p=Array.prototype.slice;if(a.bind)return a.bind.apply(a,p.call(arguments,1));var b=p.call(arguments,2);return function(){return a.apply(u,b.length?b.concat(p.call(arguments)):arguments)}}var y=0;function v(a){return"_leaflet_id"in a||(a._leaflet_id=++y),a._leaflet_id}function x(a,u,p){var b,E,C,B;return B=function(){b=!1,E&&(C.apply(p,E),E=!1)},C=function(){b?E=arguments:(a.apply(p,arguments),setTimeout(B,u),b=!0)},C}function w(a,u,p){var b=u[1],E=u[0],C=b-E;return a===b&&p?a:((a-E)%C+C)%C+E}function A(){return!1}function R(a,u){if(u===!1)return a;var p=Math.pow(10,u===void 0?6:u);return Math.round(a*p)/p}function P(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function M(a){return P(a).split(/\s+/)}function H(a,u){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?c(a.options):{});for(var p in u)a.options[p]=u[p];return a.options}function V(a,u,p){var b=[];for(var E in a)b.push(encodeURIComponent(p?E.toUpperCase():E)+"="+encodeURIComponent(a[E]));return(!u||u.indexOf("?")===-1?"?":"&")+b.join("&")}var ce=/\{ *([\w_ -]+) *\}/g;function G(a,u){return a.replace(ce,function(p,b){var E=u[b];if(E===void 0)throw new Error("No value provided for variable "+p);return typeof E=="function"&&(E=E(u)),E})}var W=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function ve(a,u){for(var p=0;p<a.length;p++)if(a[p]===u)return p;return-1}var le="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function xe(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var q=0;function O(a){var u=+new Date,p=Math.max(0,16-(u-q));return q=u+p,window.setTimeout(a,p)}var D=window.requestAnimationFrame||xe("RequestAnimationFrame")||O,Z=window.cancelAnimationFrame||xe("CancelAnimationFrame")||xe("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function $(a,u,p){if(p&&D===O)a.call(u);else return D.call(window,f(a,u))}function Y(a){a&&Z.call(window,a)}var z={__proto__:null,extend:o,create:c,bind:f,get lastId(){return y},stamp:v,throttle:x,wrapNum:w,falseFn:A,formatNum:R,trim:P,splitWords:M,setOptions:H,getParamString:V,template:G,isArray:W,indexOf:ve,emptyImageUrl:le,requestFn:D,cancelFn:Z,requestAnimFrame:$,cancelAnimFrame:Y};function _e(){}_e.extend=function(a){var u=function(){H(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=u.__super__=this.prototype,b=c(p);b.constructor=u,u.prototype=b;for(var E in this)Object.prototype.hasOwnProperty.call(this,E)&&E!=="prototype"&&E!=="__super__"&&(u[E]=this[E]);return a.statics&&o(u,a.statics),a.includes&&(qe(a.includes),o.apply(null,[b].concat(a.includes))),o(b,a),delete b.statics,delete b.includes,b.options&&(b.options=p.options?c(p.options):{},o(b.options,a.options)),b._initHooks=[],b.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var C=0,B=b._initHooks.length;C<B;C++)b._initHooks[C].call(this)}},u},_e.include=function(a){var u=this.prototype.options;return o(this.prototype,a),a.options&&(this.prototype.options=u,this.mergeOptions(a.options)),this},_e.mergeOptions=function(a){return o(this.prototype.options,a),this},_e.addInitHook=function(a){var u=Array.prototype.slice.call(arguments,1),p=typeof a=="function"?a:function(){this[a].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};function qe(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=W(a)?a:[a];for(var u=0;u<a.length;u++)a[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var se={on:function(a,u,p){if(typeof a=="object")for(var b in a)this._on(b,a[b],u);else{a=M(a);for(var E=0,C=a.length;E<C;E++)this._on(a[E],u,p)}return this},off:function(a,u,p){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var b in a)this._off(b,a[b],u);else{a=M(a);for(var E=arguments.length===1,C=0,B=a.length;C<B;C++)E?this._off(a[C]):this._off(a[C],u,p)}return this},_on:function(a,u,p,b){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(a,u,p)===!1){p===this&&(p=void 0);var E={fn:u,ctx:p};b&&(E.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(E)}},_off:function(a,u,p){var b,E,C;if(this._events&&(b=this._events[a],!!b)){if(arguments.length===1){if(this._firingCount)for(E=0,C=b.length;E<C;E++)b[E].fn=A;delete this._events[a];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var B=this._listens(a,u,p);if(B!==!1){var X=b[B];this._firingCount&&(X.fn=A,this._events[a]=b=b.slice()),b.splice(B,1)}}},fire:function(a,u,p){if(!this.listens(a,p))return this;var b=o({},u,{type:a,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var E=this._events[a];if(E){this._firingCount=this._firingCount+1||1;for(var C=0,B=E.length;C<B;C++){var X=E[C],ae=X.fn;X.once&&this.off(a,ae,X.ctx),ae.call(X.ctx||this,b)}this._firingCount--}}return p&&this._propagateEvent(b),this},listens:function(a,u,p,b){typeof a!="string"&&console.warn('"string" type argument expected');var E=u;typeof u!="function"&&(b=!!u,E=void 0,p=void 0);var C=this._events&&this._events[a];if(C&&C.length&&this._listens(a,E,p)!==!1)return!0;if(b){for(var B in this._eventParents)if(this._eventParents[B].listens(a,u,p,b))return!0}return!1},_listens:function(a,u,p){if(!this._events)return!1;var b=this._events[a]||[];if(!u)return!!b.length;p===this&&(p=void 0);for(var E=0,C=b.length;E<C;E++)if(b[E].fn===u&&b[E].ctx===p)return E;return!1},once:function(a,u,p){if(typeof a=="object")for(var b in a)this._on(b,a[b],u,!0);else{a=M(a);for(var E=0,C=a.length;E<C;E++)this._on(a[E],u,p,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[v(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[v(a)],this},_propagateEvent:function(a){for(var u in this._eventParents)this._eventParents[u].fire(a.type,o({layer:a.target,propagatedFrom:a.target},a),!0)}};se.addEventListener=se.on,se.removeEventListener=se.clearAllEventListeners=se.off,se.addOneTimeEventListener=se.once,se.fireEvent=se.fire,se.hasEventListeners=se.listens;var Se=_e.extend(se);function ye(a,u,p){this.x=p?Math.round(a):a,this.y=p?Math.round(u):u}var et=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};ye.prototype={clone:function(){return new ye(this.x,this.y)},add:function(a){return this.clone()._add(k(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(k(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new ye(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new ye(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=et(this.x),this.y=et(this.y),this},distanceTo:function(a){a=k(a);var u=a.x-this.x,p=a.y-this.y;return Math.sqrt(u*u+p*p)},equals:function(a){return a=k(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=k(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+R(this.x)+", "+R(this.y)+")"}};function k(a,u,p){return a instanceof ye?a:W(a)?new ye(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new ye(a.x,a.y):new ye(a,u,p)}function ue(a,u){if(a)for(var p=u?[a,u]:a,b=0,E=p.length;b<E;b++)this.extend(p[b])}ue.prototype={extend:function(a){var u,p;if(!a)return this;if(a instanceof ye||typeof a[0]=="number"||"x"in a)u=p=k(a);else if(a=we(a),u=a.min,p=a.max,!u||!p)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=p.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)),this},getCenter:function(a){return k((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return k(this.min.x,this.max.y)},getTopRight:function(){return k(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var u,p;return typeof a[0]=="number"||a instanceof ye?a=k(a):a=we(a),a instanceof ue?(u=a.min,p=a.max):u=p=a,u.x>=this.min.x&&p.x<=this.max.x&&u.y>=this.min.y&&p.y<=this.max.y},intersects:function(a){a=we(a);var u=this.min,p=this.max,b=a.min,E=a.max,C=E.x>=u.x&&b.x<=p.x,B=E.y>=u.y&&b.y<=p.y;return C&&B},overlaps:function(a){a=we(a);var u=this.min,p=this.max,b=a.min,E=a.max,C=E.x>u.x&&b.x<p.x,B=E.y>u.y&&b.y<p.y;return C&&B},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var u=this.min,p=this.max,b=Math.abs(u.x-p.x)*a,E=Math.abs(u.y-p.y)*a;return we(k(u.x-b,u.y-E),k(p.x+b,p.y+E))},equals:function(a){return a?(a=we(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function we(a,u){return!a||a instanceof ue?a:new ue(a,u)}function be(a,u){if(a)for(var p=u?[a,u]:a,b=0,E=p.length;b<E;b++)this.extend(p[b])}be.prototype={extend:function(a){var u=this._southWest,p=this._northEast,b,E;if(a instanceof Ie)b=a,E=a;else if(a instanceof be){if(b=a._southWest,E=a._northEast,!b||!E)return this}else return a?this.extend(Ee(a)||Ae(a)):this;return!u&&!p?(this._southWest=new Ie(b.lat,b.lng),this._northEast=new Ie(E.lat,E.lng)):(u.lat=Math.min(b.lat,u.lat),u.lng=Math.min(b.lng,u.lng),p.lat=Math.max(E.lat,p.lat),p.lng=Math.max(E.lng,p.lng)),this},pad:function(a){var u=this._southWest,p=this._northEast,b=Math.abs(u.lat-p.lat)*a,E=Math.abs(u.lng-p.lng)*a;return new be(new Ie(u.lat-b,u.lng-E),new Ie(p.lat+b,p.lng+E))},getCenter:function(){return new Ie((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ie(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ie(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof Ie||"lat"in a?a=Ee(a):a=Ae(a);var u=this._southWest,p=this._northEast,b,E;return a instanceof be?(b=a.getSouthWest(),E=a.getNorthEast()):b=E=a,b.lat>=u.lat&&E.lat<=p.lat&&b.lng>=u.lng&&E.lng<=p.lng},intersects:function(a){a=Ae(a);var u=this._southWest,p=this._northEast,b=a.getSouthWest(),E=a.getNorthEast(),C=E.lat>=u.lat&&b.lat<=p.lat,B=E.lng>=u.lng&&b.lng<=p.lng;return C&&B},overlaps:function(a){a=Ae(a);var u=this._southWest,p=this._northEast,b=a.getSouthWest(),E=a.getNorthEast(),C=E.lat>u.lat&&b.lat<p.lat,B=E.lng>u.lng&&b.lng<p.lng;return C&&B},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,u){return a?(a=Ae(a),this._southWest.equals(a.getSouthWest(),u)&&this._northEast.equals(a.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ae(a,u){return a instanceof be?a:new be(a,u)}function Ie(a,u,p){if(isNaN(a)||isNaN(u))throw new Error("Invalid LatLng object: ("+a+", "+u+")");this.lat=+a,this.lng=+u,p!==void 0&&(this.alt=+p)}Ie.prototype={equals:function(a,u){if(!a)return!1;a=Ee(a);var p=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return p<=(u===void 0?1e-9:u)},toString:function(a){return"LatLng("+R(this.lat,a)+", "+R(this.lng,a)+")"},distanceTo:function(a){return it.distance(this,Ee(a))},wrap:function(){return it.wrapLatLng(this)},toBounds:function(a){var u=180*a/40075017,p=u/Math.cos(Math.PI/180*this.lat);return Ae([this.lat-u,this.lng-p],[this.lat+u,this.lng+p])},clone:function(){return new Ie(this.lat,this.lng,this.alt)}};function Ee(a,u,p){return a instanceof Ie?a:W(a)&&typeof a[0]!="object"?a.length===3?new Ie(a[0],a[1],a[2]):a.length===2?new Ie(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new Ie(a.lat,"lng"in a?a.lng:a.lon,a.alt):u===void 0?null:new Ie(a,u,p)}var At={latLngToPoint:function(a,u){var p=this.projection.project(a),b=this.scale(u);return this.transformation._transform(p,b)},pointToLatLng:function(a,u){var p=this.scale(u),b=this.transformation.untransform(a,p);return this.projection.unproject(b)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var u=this.projection.bounds,p=this.scale(a),b=this.transformation.transform(u.min,p),E=this.transformation.transform(u.max,p);return new ue(b,E)},infinite:!1,wrapLatLng:function(a){var u=this.wrapLng?w(a.lng,this.wrapLng,!0):a.lng,p=this.wrapLat?w(a.lat,this.wrapLat,!0):a.lat,b=a.alt;return new Ie(p,u,b)},wrapLatLngBounds:function(a){var u=a.getCenter(),p=this.wrapLatLng(u),b=u.lat-p.lat,E=u.lng-p.lng;if(b===0&&E===0)return a;var C=a.getSouthWest(),B=a.getNorthEast(),X=new Ie(C.lat-b,C.lng-E),ae=new Ie(B.lat-b,B.lng-E);return new be(X,ae)}},it=o({},At,{wrapLng:[-180,180],R:6371e3,distance:function(a,u){var p=Math.PI/180,b=a.lat*p,E=u.lat*p,C=Math.sin((u.lat-a.lat)*p/2),B=Math.sin((u.lng-a.lng)*p/2),X=C*C+Math.cos(b)*Math.cos(E)*B*B,ae=2*Math.atan2(Math.sqrt(X),Math.sqrt(1-X));return this.R*ae}}),si=6378137,_r={R:si,MAX_LATITUDE:85.0511287798,project:function(a){var u=Math.PI/180,p=this.MAX_LATITUDE,b=Math.max(Math.min(p,a.lat),-p),E=Math.sin(b*u);return new ye(this.R*a.lng*u,this.R*Math.log((1+E)/(1-E))/2)},unproject:function(a){var u=180/Math.PI;return new Ie((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*u,a.x*u/this.R)},bounds:(function(){var a=si*Math.PI;return new ue([-a,-a],[a,a])})()};function Ds(a,u,p,b){if(W(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=u,this._c=p,this._d=b}Ds.prototype={transform:function(a,u){return this._transform(a.clone(),u)},_transform:function(a,u){return u=u||1,a.x=u*(this._a*a.x+this._b),a.y=u*(this._c*a.y+this._d),a},untransform:function(a,u){return u=u||1,new ye((a.x/u-this._b)/this._a,(a.y/u-this._d)/this._c)}};function Hi(a,u,p,b){return new Ds(a,u,p,b)}var cs=o({},it,{code:"EPSG:3857",projection:_r,transformation:(function(){var a=.5/(Math.PI*_r.R);return Hi(a,.5,-a,.5)})()}),da=o({},cs,{code:"EPSG:900913"});function Nl(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function fa(a,u){var p="",b,E,C,B,X,ae;for(b=0,C=a.length;b<C;b++){for(X=a[b],E=0,B=X.length;E<B;E++)ae=X[E],p+=(E?"L":"M")+ae.x+" "+ae.y;p+=u?Pe.svg?"z":"x":""}return p||"M0 0"}var fn=document.documentElement.style,vr="ActiveXObject"in window,Zt=vr&&!document.addEventListener,Kt="msLaunchUri"in navigator&&!("documentMode"in document),wi=mn("webkit"),Rl=mn("android"),ma=mn("android 2")||mn("android 3"),qc=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),xr=Rl&&mn("Google")&&qc<537&&!("AudioNode"in window),Fi=!!window.opera,rn=!Kt&&mn("chrome"),Fn=mn("gecko")&&!wi&&!Fi&&!vr,An=!rn&&mn("safari"),Cl=mn("phantom"),No="OTransition"in fn,Il=navigator.platform.indexOf("Win")===0,Ti=vr&&"transition"in fn,qi="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ma,ri="MozPerspective"in fn,ai=!window.L_DISABLE_3D&&(Ti||qi||ri)&&!No&&!Cl,oi=typeof orientation<"u"||mn("mobile"),pa=oi&&wi,Ro=oi&&qi,us=!window.PointerEvent&&window.MSPointerEvent,br=!!(window.PointerEvent||us),Ot="ontouchstart"in window||!!window.TouchEvent,jl=!window.L_NO_TOUCH&&(Ot||br),Ls=oi&&Fi,Vs=oi&&Fn,Co=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Io=(function(){var a=!1;try{var u=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",A,u),window.removeEventListener("testPassiveEventSupport",A,u)}catch{}return a})(),hs=(function(){return!!document.createElement("canvas").getContext})(),jo=!!(document.createElementNS&&Nl("svg").createSVGRect),Gi=!!jo&&(function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),zt=!jo&&(function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var u=a.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),an=navigator.platform.indexOf("Mac")===0,ds=navigator.platform.indexOf("Linux")===0;function mn(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Pe={ie:vr,ielt9:Zt,edge:Kt,webkit:wi,android:Rl,android23:ma,androidStock:xr,opera:Fi,chrome:rn,gecko:Fn,safari:An,phantom:Cl,opera12:No,win:Il,ie3d:Ti,webkit3d:qi,gecko3d:ri,any3d:ai,mobile:oi,mobileWebkit:pa,mobileWebkit3d:Ro,msPointer:us,pointer:br,touch:jl,touchNative:Ot,mobileOpera:Ls,mobileGecko:Vs,retina:Co,passiveEvents:Io,canvas:hs,svg:jo,vml:zt,inlineSvg:Gi,mac:an,linux:ds},Ml=Pe.msPointer?"MSPointerDown":"pointerdown",li=Pe.msPointer?"MSPointerMove":"pointermove",fs=Pe.msPointer?"MSPointerUp":"pointerup",wr=Pe.msPointer?"MSPointerCancel":"pointercancel",ci={touchstart:Ml,touchmove:li,touchend:fs,touchcancel:wr},Ei={touchstart:ga,touchmove:Gn,touchend:Gn,touchcancel:Gn},qn={},ms=!1;function Ut(a,u,p){return u==="touchstart"&&Er(),Ei[u]?(p=Ei[u].bind(this,p),a.addEventListener(ci[u],p,!1),p):(console.warn("wrong event specified:",u),A)}function Pl(a,u,p){if(!ci[u]){console.warn("wrong event specified:",u);return}a.removeEventListener(ci[u],p,!1)}function Tr(a){qn[a.pointerId]=a}function $i(a){qn[a.pointerId]&&(qn[a.pointerId]=a)}function Si(a){delete qn[a.pointerId]}function Er(){ms||(document.addEventListener(Ml,Tr,!0),document.addEventListener(li,$i,!0),document.addEventListener(fs,Si,!0),document.addEventListener(wr,Si,!0),ms=!0)}function Gn(a,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var p in qn)u.touches.push(qn[p]);u.changedTouches=[u],a(u)}}function ga(a,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&Mt(u),Gn(a,u)}function Gc(a){var u={},p,b;for(b in a)p=a[b],u[b]=p&&p.bind?p.bind(a):p;return a=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var Sr=200;function Ar(a,u){a.addEventListener("dblclick",u);var p=0,b;function E(C){if(C.detail!==1){b=C.detail;return}if(!(C.pointerType==="mouse"||C.sourceCapabilities&&!C.sourceCapabilities.firesTouchEvents)){var B=_a(C);if(!(B.some(function(ae){return ae instanceof HTMLLabelElement&&ae.attributes.for})&&!B.some(function(ae){return ae instanceof HTMLInputElement||ae instanceof HTMLSelectElement}))){var X=Date.now();X-p<=Sr?(b++,b===2&&u(Gc(C))):b=1,p=X}}}return a.addEventListener("click",E),{dblclick:u,simDblclick:E}}function ui(a,u){a.removeEventListener("dblclick",u.dblclick),a.removeEventListener("click",u.simDblclick)}var ps=zs(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Zi=zs(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ki=Zi==="webkitTransition"||Zi==="OTransition"?Zi+"End":"transitionend";function Nr(a){return typeof a=="string"?document.getElementById(a):a}function Yi(a,u){var p=a.style[u]||a.currentStyle&&a.currentStyle[u];if((!p||p==="auto")&&document.defaultView){var b=document.defaultView.getComputedStyle(a,null);p=b?b[u]:null}return p==="auto"?null:p}function at(a,u,p){var b=document.createElement(a);return b.className=u||"",p&&p.appendChild(b),b}function ut(a){var u=a.parentNode;u&&u.removeChild(a)}function wt(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function $n(a){var u=a.parentNode;u&&u.lastChild!==a&&u.appendChild(a)}function hi(a){var u=a.parentNode;u&&u.firstChild!==a&&u.insertBefore(a,u.firstChild)}function Wi(a,u){if(a.classList!==void 0)return a.classList.contains(u);var p=Bt(a);return p.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(p)}function Ce(a,u){if(a.classList!==void 0)for(var p=M(u),b=0,E=p.length;b<E;b++)a.classList.add(p[b]);else if(!Wi(a,u)){var C=Bt(a);gs(a,(C?C+" ":"")+u)}}function yt(a,u){a.classList!==void 0?a.classList.remove(u):gs(a,P((" "+Bt(a)+" ").replace(" "+u+" "," ")))}function gs(a,u){a.className.baseVal===void 0?a.className=u:a.className.baseVal=u}function Bt(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function pn(a,u){"opacity"in a.style?a.style.opacity=u:"filter"in a.style&&Mo(a,u)}function Mo(a,u){var p=!1,b="DXImageTransform.Microsoft.Alpha";try{p=a.filters.item(b)}catch{if(u===1)return}u=Math.round(u*100),p?(p.Enabled=u!==100,p.Opacity=u):a.style.filter+=" progid:"+b+"(opacity="+u+")"}function zs(a){for(var u=document.documentElement.style,p=0;p<a.length;p++)if(a[p]in u)return a[p];return!1}function Pn(a,u,p){var b=u||new ye(0,0);a.style[ps]=(Pe.ie3d?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(p?" scale("+p+")":"")}function jt(a,u){a._leaflet_pos=u,Pe.any3d?Pn(a,u):(a.style.left=u.x+"px",a.style.top=u.y+"px")}function Qi(a){return a._leaflet_pos||new ye(0,0)}var gn,Zn,Rr;if("onselectstart"in document)gn=function(){ze(window,"selectstart",Mt)},Zn=function(){ht(window,"selectstart",Mt)};else{var ys=zs(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);gn=function(){if(ys){var a=document.documentElement.style;Rr=a[ys],a[ys]="none"}},Zn=function(){ys&&(document.documentElement.style[ys]=Rr,Rr=void 0)}}function Us(){ze(window,"dragstart",Mt)}function ya(){ht(window,"dragstart",Mt)}var Cr,Kn;function Ir(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Bs(),Cr=a,Kn=a.style.outlineStyle,a.style.outlineStyle="none",ze(window,"keydown",Bs))}function Bs(){Cr&&(Cr.style.outlineStyle=Kn,Cr=void 0,Kn=void 0,ht(window,"keydown",Bs))}function _s(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function on(a){var u=a.getBoundingClientRect();return{x:u.width/a.offsetWidth||1,y:u.height/a.offsetHeight||1,boundingClientRect:u}}var Ol={__proto__:null,TRANSFORM:ps,TRANSITION:Zi,TRANSITION_END:Ki,get:Nr,getStyle:Yi,create:at,remove:ut,empty:wt,toFront:$n,toBack:hi,hasClass:Wi,addClass:Ce,removeClass:yt,setClass:gs,getClass:Bt,setOpacity:pn,testProp:zs,setTransform:Pn,setPosition:jt,getPosition:Qi,get disableTextSelection(){return gn},get enableTextSelection(){return Zn},disableImageDrag:Us,enableImageDrag:ya,preventOutline:Ir,restoreOutline:Bs,getSizedParentNode:_s,getScale:on};function ze(a,u,p,b){if(u&&typeof u=="object")for(var E in u)Xi(a,E,u[E],p);else{u=M(u);for(var C=0,B=u.length;C<B;C++)Xi(a,u[C],p,b)}return this}var yn="_leaflet_events";function ht(a,u,p,b){if(arguments.length===1)_n(a),delete a[yn];else if(u&&typeof u=="object")for(var E in u)On(a,E,u[E],p);else if(u=M(u),arguments.length===2)_n(a,function(X){return ve(u,X)!==-1});else for(var C=0,B=u.length;C<B;C++)On(a,u[C],p,b);return this}function _n(a,u){for(var p in a[yn]){var b=p.split(/\d/)[0];(!u||u(b))&&On(a,b,null,null,p)}}var Ai={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Xi(a,u,p,b){var E=u+v(p)+(b?"_"+v(b):"");if(a[yn]&&a[yn][E])return this;var C=function(X){return p.call(b||a,X||window.event)},B=C;!Pe.touchNative&&Pe.pointer&&u.indexOf("touch")===0?C=Ut(a,u,C):Pe.touch&&u==="dblclick"?C=Ar(a,C):"addEventListener"in a?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?a.addEventListener(Ai[u]||u,C,Pe.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(C=function(X){X=X||window.event,vs(a,X)&&B(X)},a.addEventListener(Ai[u],C,!1)):a.addEventListener(u,B,!1):a.attachEvent("on"+u,C),a[yn]=a[yn]||{},a[yn][E]=C}function On(a,u,p,b,E){E=E||u+v(p)+(b?"_"+v(b):"");var C=a[yn]&&a[yn][E];if(!C)return this;!Pe.touchNative&&Pe.pointer&&u.indexOf("touch")===0?Pl(a,u,C):Pe.touch&&u==="dblclick"?ui(a,C):"removeEventListener"in a?a.removeEventListener(Ai[u]||u,C,!1):a.detachEvent("on"+u,C),a[yn][E]=null}function dt(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Hs(a){return Xi(a,"wheel",dt),this}function Fs(a){return ze(a,"mousedown touchstart dblclick contextmenu",dt),a._leaflet_disable_click=!0,this}function Mt(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Yn(a){return Mt(a),dt(a),this}function _a(a){if(a.composedPath)return a.composedPath();for(var u=[],p=a.target;p;)u.push(p),p=p.parentNode;return u}function Gt(a,u){if(!u)return new ye(a.clientX,a.clientY);var p=on(u),b=p.boundingClientRect;return new ye((a.clientX-b.left)/p.x-u.clientLeft,(a.clientY-b.top)/p.y-u.clientTop)}var vn=Pe.linux&&Pe.chrome?window.devicePixelRatio:Pe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function qs(a){return Pe.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/vn:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function vs(a,u){var p=u.relatedTarget;if(!p)return!0;try{for(;p&&p!==a;)p=p.parentNode}catch{return!1}return p!==a}var jr={__proto__:null,on:ze,off:ht,stopPropagation:dt,disableScrollPropagation:Hs,disableClickPropagation:Fs,preventDefault:Mt,stop:Yn,getPropagationPath:_a,getMousePosition:Gt,getWheelDelta:qs,isExternalTarget:vs,addListener:ze,removeListener:ht},Mr=Se.extend({run:function(a,u,p,b){this.stop(),this._el=a,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(b||.5,.2),this._startPos=Qi(a),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=$(this._animate,this),this._step()},_step:function(a){var u=+new Date-this._startTime,p=this._duration*1e3;u<p?this._runFrame(this._easeOut(u/p),a):(this._runFrame(1),this._complete())},_runFrame:function(a,u){var p=this._startPos.add(this._offset.multiplyBy(a));u&&p._round(),jt(this._el,p),this.fire("step")},_complete:function(){Y(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),We=Se.extend({options:{crs:cs,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,u){u=H(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(Ee(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Zi&&Pe.any3d&&!Pe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ze(this._proxy,Ki,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,u,p){if(u=u===void 0?this._zoom:this._limitZoom(u),a=this._limitCenter(Ee(a),u,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&p!==!0){p.animate!==void 0&&(p.zoom=o({animate:p.animate},p.zoom),p.pan=o({animate:p.animate,duration:p.duration},p.pan));var b=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,u,p.zoom):this._tryAnimatedPan(a,p.pan);if(b)return clearTimeout(this._sizeTimer),this}return this._resetView(a,u,p.pan&&p.pan.noMoveStart),this},setZoom:function(a,u){return this._loaded?this.setView(this.getCenter(),a,{zoom:u}):(this._zoom=a,this)},zoomIn:function(a,u){return a=a||(Pe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,u)},zoomOut:function(a,u){return a=a||(Pe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,u)},setZoomAround:function(a,u,p){var b=this.getZoomScale(u),E=this.getSize().divideBy(2),C=a instanceof ye?a:this.latLngToContainerPoint(a),B=C.subtract(E).multiplyBy(1-1/b),X=this.containerPointToLatLng(E.add(B));return this.setView(X,u,{zoom:p})},_getBoundsCenterZoom:function(a,u){u=u||{},a=a.getBounds?a.getBounds():Ae(a);var p=k(u.paddingTopLeft||u.padding||[0,0]),b=k(u.paddingBottomRight||u.padding||[0,0]),E=this.getBoundsZoom(a,!1,p.add(b));if(E=typeof u.maxZoom=="number"?Math.min(u.maxZoom,E):E,E===1/0)return{center:a.getCenter(),zoom:E};var C=b.subtract(p).divideBy(2),B=this.project(a.getSouthWest(),E),X=this.project(a.getNorthEast(),E),ae=this.unproject(B.add(X).divideBy(2).add(C),E);return{center:ae,zoom:E}},fitBounds:function(a,u){if(a=Ae(a),!a.isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(a,u);return this.setView(p.center,p.zoom,u)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,u){return this.setView(a,this._zoom,{pan:u})},panBy:function(a,u){if(a=k(a).round(),u=u||{},!a.x&&!a.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Mr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){Ce(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,p,u.duration||.25,u.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,u,p){if(p=p||{},p.animate===!1||!Pe.any3d)return this.setView(a,u,p);this._stop();var b=this.project(this.getCenter()),E=this.project(a),C=this.getSize(),B=this._zoom;a=Ee(a),u=u===void 0?B:u;var X=Math.max(C.x,C.y),ae=X*this.getZoomScale(B,u),ge=E.distanceTo(b)||1,Ne=1.42,Me=Ne*Ne;function ke(Dt){var is=Dt?-1:1,Ts=Dt?ae:X,Ys=ae*ae-X*X+is*Me*Me*ge*ge,Es=2*Ts*Me*ge,Ko=Ys/Es,Zl=Math.sqrt(Ko*Ko+1)-Ko,Yo=Zl<1e-9?-18:Math.log(Zl);return Yo}function Ge(Dt){return(Math.exp(Dt)-Math.exp(-Dt))/2}function Rt(Dt){return(Math.exp(Dt)+Math.exp(-Dt))/2}function Ht(Dt){return Ge(Dt)/Rt(Dt)}var bn=ke(0);function fi(Dt){return X*(Rt(bn)/Rt(bn+Ne*Dt))}function Ph(Dt){return X*(Rt(bn)*Ht(bn+Ne*Dt)-Ge(bn))/Me}function Oh(Dt){return 1-Math.pow(1-Dt,1.5)}var Zo=Date.now(),ka=(ke(1)-bn)/Ne,kh=p.duration?1e3*p.duration:1e3*ka*.8;function Da(){var Dt=(Date.now()-Zo)/kh,is=Oh(Dt)*ka;Dt<=1?(this._flyToFrame=$(Da,this),this._move(this.unproject(b.add(E.subtract(b).multiplyBy(Ph(is)/ge)),B),this.getScaleZoom(X/fi(is),B),{flyTo:!0})):this._move(a,u)._moveEnd(!0)}return this._moveStart(!0,p.noMoveStart),Da.call(this),this},flyToBounds:function(a,u){var p=this._getBoundsCenterZoom(a,u);return this.flyTo(p.center,p.zoom,u)},setMaxBounds:function(a){return a=Ae(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var u=this.options.minZoom;return this.options.minZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var u=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,u){this._enforcingBounds=!0;var p=this.getCenter(),b=this._limitCenter(p,this._zoom,Ae(a));return p.equals(b)||this.panTo(b,u),this._enforcingBounds=!1,this},panInside:function(a,u){u=u||{};var p=k(u.paddingTopLeft||u.padding||[0,0]),b=k(u.paddingBottomRight||u.padding||[0,0]),E=this.project(this.getCenter()),C=this.project(a),B=this.getPixelBounds(),X=we([B.min.add(p),B.max.subtract(b)]),ae=X.getSize();if(!X.contains(C)){this._enforcingBounds=!0;var ge=C.subtract(X.getCenter()),Ne=X.extend(C).getSize().subtract(ae);E.x+=ge.x<0?-Ne.x:Ne.x,E.y+=ge.y<0?-Ne.y:Ne.y,this.panTo(this.unproject(E),u),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=o({animate:!1,pan:!0},a===!0?{animate:!0}:a);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),b=u.divideBy(2).round(),E=p.divideBy(2).round(),C=b.subtract(E);return!C.x&&!C.y?this:(a.animate&&a.pan?this.panBy(C):(a.pan&&this._rawPanBy(C),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:p}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=o({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=f(this._handleGeolocationResponse,this),p=f(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,p,a):navigator.geolocation.getCurrentPosition(u,p,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var u=a.code,p=a.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var u=a.coords.latitude,p=a.coords.longitude,b=new Ie(u,p),E=b.toBounds(a.coords.accuracy*2),C=this._locateOptions;if(C.setView){var B=this.getBoundsZoom(E);this.setView(b,C.maxZoom?Math.min(B,C.maxZoom):B)}var X={latlng:b,bounds:E,timestamp:a.timestamp};for(var ae in a.coords)typeof a.coords[ae]=="number"&&(X[ae]=a.coords[ae]);this.fire("locationfound",X)}},addHandler:function(a,u){if(!u)return this;var p=this[a]=new u(this);return this._handlers.push(p),this.options[a]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ut(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Y(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)ut(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,u){var p="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),b=at("div",p,u||this._mapPane);return a&&(this._panes[a]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),u=this.unproject(a.getBottomLeft()),p=this.unproject(a.getTopRight());return new be(u,p)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,u,p){a=Ae(a),p=k(p||[0,0]);var b=this.getZoom()||0,E=this.getMinZoom(),C=this.getMaxZoom(),B=a.getNorthWest(),X=a.getSouthEast(),ae=this.getSize().subtract(p),ge=we(this.project(X,b),this.project(B,b)).getSize(),Ne=Pe.any3d?this.options.zoomSnap:1,Me=ae.x/ge.x,ke=ae.y/ge.y,Ge=u?Math.max(Me,ke):Math.min(Me,ke);return b=this.getScaleZoom(Ge,b),Ne&&(b=Math.round(b/(Ne/100))*(Ne/100),b=u?Math.ceil(b/Ne)*Ne:Math.floor(b/Ne)*Ne),Math.max(E,Math.min(C,b))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ye(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,u){var p=this._getTopLeftPoint(a,u);return new ue(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,u){var p=this.options.crs;return u=u===void 0?this._zoom:u,p.scale(a)/p.scale(u)},getScaleZoom:function(a,u){var p=this.options.crs;u=u===void 0?this._zoom:u;var b=p.zoom(a*p.scale(u));return isNaN(b)?1/0:b},project:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(Ee(a),u)},unproject:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(k(a),u)},layerPointToLatLng:function(a){var u=k(a).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(a){var u=this.project(Ee(a))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(Ee(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(Ae(a))},distance:function(a,u){return this.options.crs.distance(Ee(a),Ee(u))},containerPointToLayerPoint:function(a){return k(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return k(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var u=this.containerPointToLayerPoint(k(a));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ee(a)))},mouseEventToContainerPoint:function(a){return Gt(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var u=this._container=Nr(a);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ze(u,"scroll",this._onScroll,this),this._containerId=v(u)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Pe.any3d,Ce(a,"leaflet-container"+(Pe.touch?" leaflet-touch":"")+(Pe.retina?" leaflet-retina":"")+(Pe.ielt9?" leaflet-oldie":"")+(Pe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Yi(a,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),jt(this._mapPane,new ye(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ce(a.markerPane,"leaflet-zoom-hide"),Ce(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,u,p){jt(this._mapPane,new ye(0,0));var b=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var E=this._zoom!==u;this._moveStart(E,p)._move(a,u)._moveEnd(E),this.fire("viewreset"),b&&this.fire("load")},_moveStart:function(a,u){return a&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(a,u,p,b){u===void 0&&(u=this._zoom);var E=this._zoom!==u;return this._zoom=u,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),b?p&&p.pinch&&this.fire("zoom",p):((E||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Y(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){jt(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[v(this._container)]=this;var u=a?ht:ze;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Pe.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Y(this._resizeRequest),this._resizeRequest=$(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,u){for(var p=[],b,E=u==="mouseout"||u==="mouseover",C=a.target||a.srcElement,B=!1;C;){if(b=this._targets[v(C)],b&&(u==="click"||u==="preclick")&&this._draggableMoved(b)){B=!0;break}if(b&&b.listens(u,!0)&&(E&&!vs(C,a)||(p.push(b),E))||C===this._container)break;C=C.parentNode}return!p.length&&!B&&!E&&this.listens(u,!0)&&(p=[this]),p},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var u=a.target||a.srcElement;if(!(!this._loaded||u._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(u))){var p=a.type;p==="mousedown"&&Ir(u),this._fireDOMEvent(a,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,u,p){if(a.type==="click"){var b=o({},a);b.type="preclick",this._fireDOMEvent(b,b.type,p)}var E=this._findEventTargets(a,u);if(p){for(var C=[],B=0;B<p.length;B++)p[B].listens(u,!0)&&C.push(p[B]);E=C.concat(E)}if(E.length){u==="contextmenu"&&Mt(a);var X=E[0],ae={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var ge=X.getLatLng&&(!X._radius||X._radius<=10);ae.containerPoint=ge?this.latLngToContainerPoint(X.getLatLng()):this.mouseEventToContainerPoint(a),ae.layerPoint=this.containerPointToLayerPoint(ae.containerPoint),ae.latlng=ge?X.getLatLng():this.layerPointToLatLng(ae.layerPoint)}for(B=0;B<E.length;B++)if(E[B].fire(u,ae,!0),ae.originalEvent._stopped||E[B].options.bubblingMouseEvents===!1&&ve(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,u=this._handlers.length;a<u;a++)this._handlers[a].disable()},whenReady:function(a,u){return this._loaded?a.call(u||this,{target:this}):this.on("load",a,u),this},_getMapPanePos:function(){return Qi(this._mapPane)||new ye(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,u){var p=a&&u!==void 0?this._getNewPixelOrigin(a,u):this.getPixelOrigin();return p.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,u){var p=this.getSize()._divideBy(2);return this.project(a,u)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,u,p){var b=this._getNewPixelOrigin(p,u);return this.project(a,u)._subtract(b)},_latLngBoundsToNewLayerBounds:function(a,u,p){var b=this._getNewPixelOrigin(p,u);return we([this.project(a.getSouthWest(),u)._subtract(b),this.project(a.getNorthWest(),u)._subtract(b),this.project(a.getSouthEast(),u)._subtract(b),this.project(a.getNorthEast(),u)._subtract(b)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,u,p){if(!p)return a;var b=this.project(a,u),E=this.getSize().divideBy(2),C=new ue(b.subtract(E),b.add(E)),B=this._getBoundsOffset(C,p,u);return Math.abs(B.x)<=1&&Math.abs(B.y)<=1?a:this.unproject(b.add(B),u)},_limitOffset:function(a,u){if(!u)return a;var p=this.getPixelBounds(),b=new ue(p.min.add(a),p.max.add(a));return a.add(this._getBoundsOffset(b,u))},_getBoundsOffset:function(a,u,p){var b=we(this.project(u.getNorthEast(),p),this.project(u.getSouthWest(),p)),E=b.min.subtract(a.min),C=b.max.subtract(a.max),B=this._rebound(E.x,-C.x),X=this._rebound(E.y,-C.y);return new ye(B,X)},_rebound:function(a,u){return a+u>0?Math.round(a-u)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(u))},_limitZoom:function(a){var u=this.getMinZoom(),p=this.getMaxZoom(),b=Pe.any3d?this.options.zoomSnap:1;return b&&(a=Math.round(a/b)*b),Math.max(u,Math.min(p,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){yt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,u){var p=this._getCenterOffset(a)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(p)?!1:(this.panBy(p,u),!0)},_createAnimProxy:function(){var a=this._proxy=at("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(u){var p=ps,b=this._proxy.style[p];Pn(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),b===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ut(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),u=this.getZoom();Pn(this._proxy,this.project(a,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,u,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||p.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var b=this.getZoomScale(u),E=this._getCenterOffset(a)._divideBy(1-1/b);return p.animate!==!0&&!this.getSize().contains(E)?!1:($(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(a,u,!0)},this),!0)},_animateZoom:function(a,u,p,b){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=u,Ce(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:u,noUpdate:b}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&yt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ji(a,u){return new We(a,u)}var ln=_e.extend({options:{position:"topright"},initialize:function(a){H(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var u=this._map;return u&&u.removeControl(this),this.options.position=a,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var u=this._container=this.onAdd(a),p=this.getPosition(),b=a._controlCorners[p];return Ce(u,"leaflet-control"),p.indexOf("bottom")!==-1?b.insertBefore(u,b.firstChild):b.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ut(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Ni=function(a){return new ln(a)};We.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},u="leaflet-",p=this._controlContainer=at("div",u+"control-container",this._container);function b(E,C){var B=u+E+" "+u+C;a[E+C]=at("div",B,p)}b("top","left"),b("top","right"),b("bottom","left"),b("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)ut(this._controlCorners[a]);ut(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var kl=ln.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,u,p,b){return p<b?-1:b<p?1:0}},initialize:function(a,u,p){H(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var b in a)this._addLayer(a[b],b);for(b in u)this._addLayer(u[b],b,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return ln.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,u){return this._addLayer(a,u),this._map?this._update():this},addOverlay:function(a,u){return this._addLayer(a,u,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var u=this._getLayer(v(a));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){Ce(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(Ce(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):yt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return yt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",u=this._container=at("div",a),p=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Fs(u),Hs(u);var b=this._section=at("section",a+"-list");p&&(this._map.on("click",this.collapse,this),ze(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var E=this._layersLink=at("a",a+"-toggle",u);E.href="#",E.title="Layers",E.setAttribute("role","button"),ze(E,{keydown:function(C){C.keyCode===13&&this._expandSafely()},click:function(C){Mt(C),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=at("div",a+"-base",b),this._separator=at("div",a+"-separator",b),this._overlaysList=at("div",a+"-overlays",b),u.appendChild(b)},_getLayer:function(a){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&v(this._layers[u].layer)===a)return this._layers[u]},_addLayer:function(a,u,p){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:u,overlay:p}),this.options.sortLayers&&this._layers.sort(f(function(b,E){return this.options.sortFunction(b.layer,E.layer,b.name,E.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;wt(this._baseLayersList),wt(this._overlaysList),this._layerControlInputs=[];var a,u,p,b,E=0;for(p=0;p<this._layers.length;p++)b=this._layers[p],this._addItem(b),u=u||b.overlay,a=a||!b.overlay,E+=b.overlay?0:1;return this.options.hideSingleBase&&(a=a&&E>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=u&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var u=this._getLayer(v(a.target)),p=u.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;p&&this._map.fire(p,u)},_createRadioElement:function(a,u){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(u?' checked="checked"':"")+"/>",b=document.createElement("div");return b.innerHTML=p,b.firstChild},_addItem:function(a){var u=document.createElement("label"),p=this._map.hasLayer(a.layer),b;a.overlay?(b=document.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=p):b=this._createRadioElement("leaflet-base-layers_"+v(this),p),this._layerControlInputs.push(b),b.layerId=v(a.layer),ze(b,"click",this._onInputClick,this);var E=document.createElement("span");E.innerHTML=" "+a.name;var C=document.createElement("span");u.appendChild(C),C.appendChild(b),C.appendChild(E);var B=a.overlay?this._overlaysList:this._baseLayersList;return B.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,u,p,b=[],E=[];this._handlingClick=!0;for(var C=a.length-1;C>=0;C--)u=a[C],p=this._getLayer(u.layerId).layer,u.checked?b.push(p):u.checked||E.push(p);for(C=0;C<E.length;C++)this._map.hasLayer(E[C])&&this._map.removeLayer(E[C]);for(C=0;C<b.length;C++)this._map.hasLayer(b[C])||this._map.addLayer(b[C]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,u,p,b=this._map.getZoom(),E=a.length-1;E>=0;E--)u=a[E],p=this._getLayer(u.layerId).layer,u.disabled=p.options.minZoom!==void 0&&b<p.options.minZoom||p.options.maxZoom!==void 0&&b>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,ze(a,"click",Mt),this.expand();var u=this;setTimeout(function(){ht(a,"click",Mt),u._preventClick=!1})}}),Dl=function(a,u,p){return new kl(a,u,p)},xs=ln.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var u="leaflet-control-zoom",p=at("div",u+" leaflet-bar"),b=this.options;return this._zoomInButton=this._createButton(b.zoomInText,b.zoomInTitle,u+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(b.zoomOutText,b.zoomOutTitle,u+"-out",p,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,u,p,b,E){var C=at("a",p,b);return C.innerHTML=a,C.href="#",C.title=u,C.setAttribute("role","button"),C.setAttribute("aria-label",u),Fs(C),ze(C,"click",Yn),ze(C,"click",E,this),ze(C,"click",this._refocusOnMap,this),C},_updateDisabled:function(){var a=this._map,u="leaflet-disabled";yt(this._zoomInButton,u),yt(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(Ce(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(Ce(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});We.mergeOptions({zoomControl:!0}),We.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new xs,this.addControl(this.zoomControl))});var va=function(a){return new xs(a)},Po=ln.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var u="leaflet-control-scale",p=at("div",u),b=this.options;return this._addScales(b,u+"-line",p),a.on(b.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),p},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,u,p){a.metric&&(this._mScale=at("div",u,p)),a.imperial&&(this._iScale=at("div",u,p))},_update:function(){var a=this._map,u=a.getSize().y/2,p=a.distance(a.containerPointToLatLng([0,u]),a.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(p)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var u=this._getRoundNum(a),p=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,p,u/a)},_updateImperial:function(a){var u=a*3.2808399,p,b,E;u>5280?(p=u/5280,b=this._getRoundNum(p),this._updateScale(this._iScale,b+" mi",b/p)):(E=this._getRoundNum(u),this._updateScale(this._iScale,E+" ft",E/u))},_updateScale:function(a,u,p){a.style.width=Math.round(this.options.maxWidth*p)+"px",a.innerHTML=u},_getRoundNum:function(a){var u=Math.pow(10,(Math.floor(a)+"").length-1),p=a/u;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:1,u*p}}),Oo=function(a){return new Po(a)},ko='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',xa=ln.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Pe.inlineSvg?ko+" ":"")+"Leaflet</a>"},initialize:function(a){H(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=at("div","leaflet-control-attribution"),Fs(this._container);for(var u in a._layers)a._layers[u].getAttribution&&this.addAttribution(a._layers[u].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var u in this._attributions)this._attributions[u]&&a.push(u);var p=[];this.options.prefix&&p.push(this.options.prefix),a.length&&p.push(a.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});We.mergeOptions({attributionControl:!0}),We.addInitHook(function(){this.options.attributionControl&&new xa().addTo(this)});var ba=function(a){return new xa(a)};ln.Layers=kl,ln.Zoom=xs,ln.Scale=Po,ln.Attribution=xa,Ni.layers=Dl,Ni.zoom=va,Ni.scale=Oo,Ni.attribution=ba;var kn=_e.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});kn.addTo=function(a,u){return a.addHandler(u,this),this};var Ll={Events:se},es=Pe.touch?"touchstart mousedown":"mousedown",Ri=Se.extend({options:{clickTolerance:3},initialize:function(a,u,p,b){H(this,b),this._element=a,this._dragStartTarget=u||a,this._preventOutline=p},enable:function(){this._enabled||(ze(this._dragStartTarget,es,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ri._dragging===this&&this.finishDrag(!0),ht(this._dragStartTarget,es,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!Wi(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Ri._dragging===this&&this.finishDrag();return}if(!(Ri._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Ri._dragging=this,this._preventOutline&&Ir(this._element),Us(),gn(),!this._moving)){this.fire("down");var u=a.touches?a.touches[0]:a,p=_s(this._element);this._startPoint=new ye(u.clientX,u.clientY),this._startPos=Qi(this._element),this._parentScale=on(p);var b=a.type==="mousedown";ze(document,b?"mousemove":"touchmove",this._onMove,this),ze(document,b?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var u=a.touches&&a.touches.length===1?a.touches[0]:a,p=new ye(u.clientX,u.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,Mt(a),this._moved||(this.fire("dragstart"),this._moved=!0,Ce(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ce(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),jt(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){yt(document.body,"leaflet-dragging"),this._lastTarget&&(yt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ht(document,"mousemove touchmove",this._onMove,this),ht(document,"mouseup touchend touchcancel",this._onUp,this),ya(),Zn();var u=this._moved&&this._moving;this._moving=!1,Ri._dragging=!1,u&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Do(a,u,p){var b,E=[1,4,2,8],C,B,X,ae,ge,Ne,Me,ke;for(C=0,Ne=a.length;C<Ne;C++)a[C]._code=ie(a[C],u);for(X=0;X<4;X++){for(Me=E[X],b=[],C=0,Ne=a.length,B=Ne-1;C<Ne;B=C++)ae=a[C],ge=a[B],ae._code&Me?ge._code&Me||(ke=J(ge,ae,Me,u,p),ke._code=ie(ke,u),b.push(ke)):(ge._code&Me&&(ke=J(ge,ae,Me,u,p),ke._code=ie(ke,u),b.push(ke)),b.push(ae));a=b}return a}function Pr(a,u){var p,b,E,C,B,X,ae,ge,Ne;if(!a||a.length===0)throw new Error("latlngs not passed");tt(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Me=Ee([0,0]),ke=Ae(a),Ge=ke.getNorthWest().distanceTo(ke.getSouthWest())*ke.getNorthEast().distanceTo(ke.getNorthWest());Ge<1700&&(Me=wa(a));var Rt=a.length,Ht=[];for(p=0;p<Rt;p++){var bn=Ee(a[p]);Ht.push(u.project(Ee([bn.lat-Me.lat,bn.lng-Me.lng])))}for(X=ae=ge=0,p=0,b=Rt-1;p<Rt;b=p++)E=Ht[p],C=Ht[b],B=E.y*C.x-C.y*E.x,ae+=(E.x+C.x)*B,ge+=(E.y+C.y)*B,X+=B*3;X===0?Ne=Ht[0]:Ne=[ae/X,ge/X];var fi=u.unproject(k(Ne));return Ee([fi.lat+Me.lat,fi.lng+Me.lng])}function wa(a){for(var u=0,p=0,b=0,E=0;E<a.length;E++){var C=Ee(a[E]);u+=C.lat,p+=C.lng,b++}return Ee([u/b,p/b])}var Ta={__proto__:null,clipPolygon:Do,polygonCenter:Pr,centroid:wa};function xn(a,u){if(!u||!a.length)return a.slice();var p=u*u;return a=T(a,p),a=Gs(a,p),a}function Ea(a,u,p){return Math.sqrt(Ue(a,u,p,!0))}function Vl(a,u,p){return Ue(a,u,p)}function Gs(a,u){var p=a.length,b=typeof Uint8Array<"u"?Uint8Array:Array,E=new b(p);E[0]=E[p-1]=1,m(a,E,u,0,p-1);var C,B=[];for(C=0;C<p;C++)E[C]&&B.push(a[C]);return B}function m(a,u,p,b,E){var C=0,B,X,ae;for(X=b+1;X<=E-1;X++)ae=Ue(a[X],a[b],a[E],!0),ae>C&&(B=X,C=ae);C>p&&(u[B]=1,m(a,u,p,b,B),m(a,u,p,B,E))}function T(a,u){for(var p=[a[0]],b=1,E=0,C=a.length;b<C;b++)Te(a[b],a[E])>u&&(p.push(a[b]),E=b);return E<C-1&&p.push(a[C-1]),p}var S;function j(a,u,p,b,E){var C=b?S:ie(a,p),B=ie(u,p),X,ae,ge;for(S=B;;){if(!(C|B))return[a,u];if(C&B)return!1;X=C||B,ae=J(a,u,X,p,E),ge=ie(ae,p),X===C?(a=ae,C=ge):(u=ae,B=ge)}}function J(a,u,p,b,E){var C=u.x-a.x,B=u.y-a.y,X=b.min,ae=b.max,ge,Ne;return p&8?(ge=a.x+C*(ae.y-a.y)/B,Ne=ae.y):p&4?(ge=a.x+C*(X.y-a.y)/B,Ne=X.y):p&2?(ge=ae.x,Ne=a.y+B*(ae.x-a.x)/C):p&1&&(ge=X.x,Ne=a.y+B*(X.x-a.x)/C),new ye(ge,Ne,E)}function ie(a,u){var p=0;return a.x<u.min.x?p|=1:a.x>u.max.x&&(p|=2),a.y<u.min.y?p|=4:a.y>u.max.y&&(p|=8),p}function Te(a,u){var p=u.x-a.x,b=u.y-a.y;return p*p+b*b}function Ue(a,u,p,b){var E=u.x,C=u.y,B=p.x-E,X=p.y-C,ae=B*B+X*X,ge;return ae>0&&(ge=((a.x-E)*B+(a.y-C)*X)/ae,ge>1?(E=p.x,C=p.y):ge>0&&(E+=B*ge,C+=X*ge)),B=a.x-E,X=a.y-C,b?B*B+X*X:new ye(E,C)}function tt(a){return!W(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function pt(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),tt(a)}function kt(a,u){var p,b,E,C,B,X,ae,ge;if(!a||a.length===0)throw new Error("latlngs not passed");tt(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Ne=Ee([0,0]),Me=Ae(a),ke=Me.getNorthWest().distanceTo(Me.getSouthWest())*Me.getNorthEast().distanceTo(Me.getNorthWest());ke<1700&&(Ne=wa(a));var Ge=a.length,Rt=[];for(p=0;p<Ge;p++){var Ht=Ee(a[p]);Rt.push(u.project(Ee([Ht.lat-Ne.lat,Ht.lng-Ne.lng])))}for(p=0,b=0;p<Ge-1;p++)b+=Rt[p].distanceTo(Rt[p+1])/2;if(b===0)ge=Rt[0];else for(p=0,C=0;p<Ge-1;p++)if(B=Rt[p],X=Rt[p+1],E=B.distanceTo(X),C+=E,C>b){ae=(C-b)/E,ge=[X.x-ae*(X.x-B.x),X.y-ae*(X.y-B.y)];break}var bn=u.unproject(k(ge));return Ee([bn.lat+Ne.lat,bn.lng+Ne.lng])}var Wn={__proto__:null,simplify:xn,pointToSegmentDistance:Ea,closestPointOnSegment:Vl,clipSegment:j,_getEdgeIntersection:J,_getBitCode:ie,_sqClosestPointOnSegment:Ue,isFlat:tt,_flat:pt,polylineCenter:kt},di={project:function(a){return new ye(a.lng,a.lat)},unproject:function(a){return new Ie(a.y,a.x)},bounds:new ue([-180,-90],[180,90])},Qn={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ue([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var u=Math.PI/180,p=this.R,b=a.lat*u,E=this.R_MINOR/p,C=Math.sqrt(1-E*E),B=C*Math.sin(b),X=Math.tan(Math.PI/4-b/2)/Math.pow((1-B)/(1+B),C/2);return b=-p*Math.log(Math.max(X,1e-10)),new ye(a.lng*u*p,b)},unproject:function(a){for(var u=180/Math.PI,p=this.R,b=this.R_MINOR/p,E=Math.sqrt(1-b*b),C=Math.exp(-a.y/p),B=Math.PI/2-2*Math.atan(C),X=0,ae=.1,ge;X<15&&Math.abs(ae)>1e-7;X++)ge=E*Math.sin(B),ge=Math.pow((1-ge)/(1+ge),E/2),ae=Math.PI/2-2*Math.atan(C*ge)-B,B+=ae;return new Ie(B*u,a.x*u/p)}},Ci={__proto__:null,LonLat:di,Mercator:Qn,SphericalMercator:_r},Ii=o({},it,{code:"EPSG:3395",projection:Qn,transformation:(function(){var a=.5/(Math.PI*Qn.R);return Hi(a,.5,-a,.5)})()}),Sa=o({},it,{code:"EPSG:4326",projection:di,transformation:Hi(1/180,1,-1/180,.5)}),fm=o({},At,{projection:di,transformation:Hi(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,u){var p=u.lng-a.lng,b=u.lat-a.lat;return Math.sqrt(p*p+b*b)},infinite:!0});At.Earth=it,At.EPSG3395=Ii,At.EPSG3857=cs,At.EPSG900913=da,At.EPSG4326=Sa,At.Simple=fm;var ji=Se.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[v(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[v(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var u=a.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var p=this.getEvents();u.on(p,this),this.once("remove",function(){u.off(p,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});We.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var u=v(a);return this._layers[u]?this:(this._layers[u]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var u=v(a);return this._layers[u]?(this._loaded&&a.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return v(a)in this._layers},eachLayer:function(a,u){for(var p in this._layers)a.call(u,this._layers[p]);return this},_addLayers:function(a){a=a?W(a)?a:[a]:[];for(var u=0,p=a.length;u<p;u++)this.addLayer(a[u])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[v(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var u=v(a);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,u=-1/0,p=this._getZoomSpan();for(var b in this._zoomBoundLayers){var E=this._zoomBoundLayers[b].options;a=E.minZoom===void 0?a:Math.min(a,E.minZoom),u=E.maxZoom===void 0?u:Math.max(u,E.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=a===1/0?void 0:a,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Or=ji.extend({initialize:function(a,u){H(this,u),this._layers={};var p,b;if(a)for(p=0,b=a.length;p<b;p++)this.addLayer(a[p])},addLayer:function(a){var u=this.getLayerId(a);return this._layers[u]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var u=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(a){var u=typeof a=="number"?a:this.getLayerId(a);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var u=Array.prototype.slice.call(arguments,1),p,b;for(p in this._layers)b=this._layers[p],b[a]&&b[a].apply(b,u);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,u){for(var p in this._layers)a.call(u,this._layers[p]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return v(a)}}),Ah=function(a,u){return new Or(a,u)},Xn=Or.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Or.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Or.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new be;for(var u in this._layers){var p=this._layers[u];a.extend(p.getBounds?p.getBounds():p.getLatLng())}return a}}),Lo=function(a,u){return new Xn(a,u)},Aa=_e.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){H(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,u){var p=this._getIconUrl(a);if(!p){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var b=this._createImg(p,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(b,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),b},_setIconStyles:function(a,u){var p=this.options,b=p[u+"Size"];typeof b=="number"&&(b=[b,b]);var E=k(b),C=k(u==="shadow"&&p.shadowAnchor||p.iconAnchor||E&&E.divideBy(2,!0));a.className="leaflet-marker-"+u+" "+(p.className||""),C&&(a.style.marginLeft=-C.x+"px",a.style.marginTop=-C.y+"px"),E&&(a.style.width=E.x+"px",a.style.height=E.y+"px")},_createImg:function(a,u){return u=u||document.createElement("img"),u.src=a,u},_getIconUrl:function(a){return Pe.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function zl(a){return new Aa(a)}var Na=Aa.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof Na.imagePath!="string"&&(Na.imagePath=this._detectIconPath()),(this.options.imagePath||Na.imagePath)+Aa.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var u=function(p,b,E){var C=b.exec(p);return C&&C[E]};return a=u(a,/^url\((['"])?(.+)\1\)$/,2),a&&u(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=at("div","leaflet-default-icon-path",document.body),u=Yi(a,"background-image")||Yi(a,"backgroundImage");if(document.body.removeChild(a),u=this._stripUrl(u),u)return u;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),$c=kn.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Ri(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ce(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&yt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var u=this._marker,p=u._map,b=this._marker.options.autoPanSpeed,E=this._marker.options.autoPanPadding,C=Qi(u._icon),B=p.getPixelBounds(),X=p.getPixelOrigin(),ae=we(B.min._subtract(X).add(E),B.max._subtract(X).subtract(E));if(!ae.contains(C)){var ge=k((Math.max(ae.max.x,C.x)-ae.max.x)/(B.max.x-ae.max.x)-(Math.min(ae.min.x,C.x)-ae.min.x)/(B.min.x-ae.min.x),(Math.max(ae.max.y,C.y)-ae.max.y)/(B.max.y-ae.max.y)-(Math.min(ae.min.y,C.y)-ae.min.y)/(B.min.y-ae.min.y)).multiplyBy(b);p.panBy(ge,{animate:!1}),this._draggable._newPos._add(ge),this._draggable._startPos._add(ge),jt(u._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=$(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(Y(this._panRequest),this._panRequest=$(this._adjustPan.bind(this,a)))},_onDrag:function(a){var u=this._marker,p=u._shadow,b=Qi(u._icon),E=u._map.layerPointToLatLng(b);p&&jt(p,b),u._latlng=E,a.latlng=E,a.oldLatLng=this._oldLatLng,u.fire("move",a).fire("drag",a)},_onDragEnd:function(a){Y(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),Ra=ji.extend({options:{icon:new Na,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,u){H(this,u),this._latlng=Ee(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var u=this._latlng;return this._latlng=Ee(a),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=a.icon.createIcon(this._icon),b=!1;p!==this._icon&&(this._icon&&this._removeIcon(),b=!0,a.title&&(p.title=a.title),p.tagName==="IMG"&&(p.alt=a.alt||"")),Ce(p,u),a.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ze(p,"focus",this._panOnFocus,this);var E=a.icon.createShadow(this._shadow),C=!1;E!==this._shadow&&(this._removeShadow(),C=!0),E&&(Ce(E,u),E.alt=""),this._shadow=E,a.opacity<1&&this._updateOpacity(),b&&this.getPane().appendChild(this._icon),this._initInteraction(),E&&C&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ht(this._icon,"focus",this._panOnFocus,this),ut(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ut(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&jt(this._icon,a),this._shadow&&jt(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(Ce(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),$c)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new $c(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&pn(this._icon,a),this._shadow&&pn(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var u=this.options.icon.options,p=u.iconSize?k(u.iconSize):k(0,0),b=u.iconAnchor?k(u.iconAnchor):k(0,0);a.panInside(this._latlng,{paddingTopLeft:b,paddingBottomRight:p.subtract(b)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Zc(a,u){return new Ra(a,u)}var bs=ji.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return H(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Vo=bs.extend({options:{fill:!0,radius:10},initialize:function(a,u){H(this,u),this._latlng=Ee(a),this._radius=this.options.radius},setLatLng:function(a){var u=this._latlng;return this._latlng=Ee(a),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var u=a&&a.radius||this._radius;return bs.prototype.setStyle.call(this,a),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,u=this._radiusY||a,p=this._clickTolerance(),b=[a+p,u+p];this._pxBounds=new ue(this._point.subtract(b),this._point.add(b))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Nh(a,u){return new Vo(a,u)}var Kc=Vo.extend({initialize:function(a,u,p){if(typeof u=="number"&&(u=o({},p,{radius:u})),H(this,u),this._latlng=Ee(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new be(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:bs.prototype.setStyle,_project:function(){var a=this._latlng.lng,u=this._latlng.lat,p=this._map,b=p.options.crs;if(b.distance===it.distance){var E=Math.PI/180,C=this._mRadius/it.R/E,B=p.project([u+C,a]),X=p.project([u-C,a]),ae=B.add(X).divideBy(2),ge=p.unproject(ae).lat,Ne=Math.acos((Math.cos(C*E)-Math.sin(u*E)*Math.sin(ge*E))/(Math.cos(u*E)*Math.cos(ge*E)))/E;(isNaN(Ne)||Ne===0)&&(Ne=C/Math.cos(Math.PI/180*u)),this._point=ae.subtract(p.getPixelOrigin()),this._radius=isNaN(Ne)?0:ae.x-p.project([ge,a-Ne]).x,this._radiusY=ae.y-B.y}else{var Me=b.unproject(b.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(Me).x}this._updateBounds()}});function mm(a,u,p){return new Kc(a,u,p)}var ws=bs.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,u){H(this,u),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var u=1/0,p=null,b=Ue,E,C,B=0,X=this._parts.length;B<X;B++)for(var ae=this._parts[B],ge=1,Ne=ae.length;ge<Ne;ge++){E=ae[ge-1],C=ae[ge];var Me=b(a,E,C,!0);Me<u&&(u=Me,p=b(a,E,C))}return p&&(p.distance=Math.sqrt(u)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return kt(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,u){return u=u||this._defaultShape(),a=Ee(a),u.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new be,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return tt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var u=[],p=tt(a),b=0,E=a.length;b<E;b++)p?(u[b]=Ee(a[b]),this._bounds.extend(u[b])):u[b]=this._convertLatLngs(a[b]);return u},_project:function(){var a=new ue;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),u=new ye(a,a);this._rawPxBounds&&(this._pxBounds=new ue([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(a,u,p){var b=a[0]instanceof Ie,E=a.length,C,B;if(b){for(B=[],C=0;C<E;C++)B[C]=this._map.latLngToLayerPoint(a[C]),p.extend(B[C]);u.push(B)}else for(C=0;C<E;C++)this._projectLatlngs(a[C],u,p)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,p,b,E,C,B,X,ae;for(p=0,E=0,C=this._rings.length;p<C;p++)for(ae=this._rings[p],b=0,B=ae.length;b<B-1;b++)X=j(ae[b],ae[b+1],a,b,!0),X&&(u[E]=u[E]||[],u[E].push(X[0]),(X[1]!==ae[b+1]||b===B-2)&&(u[E].push(X[1]),E++))}},_simplifyPoints:function(){for(var a=this._parts,u=this.options.smoothFactor,p=0,b=a.length;p<b;p++)a[p]=xn(a[p],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,u){var p,b,E,C,B,X,ae=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(p=0,C=this._parts.length;p<C;p++)for(X=this._parts[p],b=0,B=X.length,E=B-1;b<B;E=b++)if(!(!u&&b===0)&&Ea(a,X[E],X[b])<=ae)return!0;return!1}});function pm(a,u){return new ws(a,u)}ws._flat=pt;var Ca=ws.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Pr(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var u=ws.prototype._convertLatLngs.call(this,a),p=u.length;return p>=2&&u[0]instanceof Ie&&u[0].equals(u[p-1])&&u.pop(),u},_setLatLngs:function(a){ws.prototype._setLatLngs.call(this,a),tt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return tt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,u=this.options.weight,p=new ye(u,u);if(a=new ue(a.min.subtract(p),a.max.add(p)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var b=0,E=this._rings.length,C;b<E;b++)C=Do(this._rings[b],a,!0),C.length&&this._parts.push(C)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var u=!1,p,b,E,C,B,X,ae,ge;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(C=0,ae=this._parts.length;C<ae;C++)for(p=this._parts[C],B=0,ge=p.length,X=ge-1;B<ge;X=B++)b=p[B],E=p[X],b.y>a.y!=E.y>a.y&&a.x<(E.x-b.x)*(a.y-b.y)/(E.y-b.y)+b.x&&(u=!u);return u||ws.prototype._containsPoint.call(this,a,!0)}});function Jn(a,u){return new Ca(a,u)}var ei=Xn.extend({initialize:function(a,u){H(this,u),this._layers={},a&&this.addData(a)},addData:function(a){var u=W(a)?a:a.features,p,b,E;if(u){for(p=0,b=u.length;p<b;p++)E=u[p],(E.geometries||E.geometry||E.features||E.coordinates)&&this.addData(E);return this}var C=this.options;if(C.filter&&!C.filter(a))return this;var B=zo(a,C);return B?(B.feature=Ia(a),B.defaultOptions=B.options,this.resetStyle(B),C.onEachFeature&&C.onEachFeature(a,B),this.addLayer(B)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=o({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(u){this._setLayerStyle(u,a)},this)},_setLayerStyle:function(a,u){a.setStyle&&(typeof u=="function"&&(u=u(a.feature)),a.setStyle(u))}});function zo(a,u){var p=a.type==="Feature"?a.geometry:a,b=p?p.coordinates:null,E=[],C=u&&u.pointToLayer,B=u&&u.coordsToLatLng||Ul,X,ae,ge,Ne;if(!b&&!p)return null;switch(p.type){case"Point":return X=B(b),Yc(C,a,X,u);case"MultiPoint":for(ge=0,Ne=b.length;ge<Ne;ge++)X=B(b[ge]),E.push(Yc(C,a,X,u));return new Xn(E);case"LineString":case"MultiLineString":return ae=Uo(b,p.type==="LineString"?0:1,B),new ws(ae,u);case"Polygon":case"MultiPolygon":return ae=Uo(b,p.type==="Polygon"?1:2,B),new Ca(ae,u);case"GeometryCollection":for(ge=0,Ne=p.geometries.length;ge<Ne;ge++){var Me=zo({geometry:p.geometries[ge],type:"Feature",properties:a.properties},u);Me&&E.push(Me)}return new Xn(E);case"FeatureCollection":for(ge=0,Ne=p.features.length;ge<Ne;ge++){var ke=zo(p.features[ge],u);ke&&E.push(ke)}return new Xn(E);default:throw new Error("Invalid GeoJSON object.")}}function Yc(a,u,p,b){return a?a(u,p):new Ra(p,b&&b.markersInheritOptions&&b)}function Ul(a){return new Ie(a[1],a[0],a[2])}function Uo(a,u,p){for(var b=[],E=0,C=a.length,B;E<C;E++)B=u?Uo(a[E],u-1,p):(p||Ul)(a[E]),b.push(B);return b}function Bo(a,u){return a=Ee(a),a.alt!==void 0?[R(a.lng,u),R(a.lat,u),R(a.alt,u)]:[R(a.lng,u),R(a.lat,u)]}function Bl(a,u,p,b){for(var E=[],C=0,B=a.length;C<B;C++)E.push(u?Bl(a[C],tt(a[C])?0:u-1,p,b):Bo(a[C],b));return!u&&p&&E.length>0&&E.push(E[0].slice()),E}function Mi(a,u){return a.feature?o({},a.feature,{geometry:u}):Ia(u)}function Ia(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var kr={toGeoJSON:function(a){return Mi(this,{type:"Point",coordinates:Bo(this.getLatLng(),a)})}};Ra.include(kr),Kc.include(kr),Vo.include(kr),ws.include({toGeoJSON:function(a){var u=!tt(this._latlngs),p=Bl(this._latlngs,u?1:0,!1,a);return Mi(this,{type:(u?"Multi":"")+"LineString",coordinates:p})}}),Ca.include({toGeoJSON:function(a){var u=!tt(this._latlngs),p=u&&!tt(this._latlngs[0]),b=Bl(this._latlngs,p?2:u?1:0,!0,a);return u||(b=[b]),Mi(this,{type:(p?"Multi":"")+"Polygon",coordinates:b})}}),Or.include({toMultiPoint:function(a){var u=[];return this.eachLayer(function(p){u.push(p.toGeoJSON(a).geometry.coordinates)}),Mi(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(a){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(a);var p=u==="GeometryCollection",b=[];return this.eachLayer(function(E){if(E.toGeoJSON){var C=E.toGeoJSON(a);if(p)b.push(C.geometry);else{var B=Ia(C);B.type==="FeatureCollection"?b.push.apply(b,B.features):b.push(B)}}}),p?Mi(this,{geometries:b,type:"GeometryCollection"}):{type:"FeatureCollection",features:b}}});function Hl(a,u){return new ei(a,u)}var Rh=Hl,ts=ji.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,u,p){this._url=a,this._bounds=Ae(u),H(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ce(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ut(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&$n(this._image),this},bringToBack:function(){return this._map&&hi(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=Ae(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",u=this._image=a?this._url:at("img");if(Ce(u,"leaflet-image-layer"),this._zoomAnimated&&Ce(u,"leaflet-zoom-animated"),this.options.className&&Ce(u,this.options.className),u.onselectstart=A,u.onmousemove=A,u.onload=f(this.fire,this,"load"),u.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(a){var u=this._map.getZoomScale(a.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Pn(this._image,p,u)},_reset:function(){var a=this._image,u=new ue(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=u.getSize();jt(a,u.min),a.style.width=p.x+"px",a.style.height=p.y+"px"},_updateOpacity:function(){pn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),ja=function(a,u,p){return new ts(a,u,p)},Fl=ts.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",u=this._image=a?this._url:at("video");if(Ce(u,"leaflet-image-layer"),this._zoomAnimated&&Ce(u,"leaflet-zoom-animated"),this.options.className&&Ce(u,this.options.className),u.onselectstart=A,u.onmousemove=A,u.onloadeddata=f(this.fire,this,"load"),a){for(var p=u.getElementsByTagName("source"),b=[],E=0;E<p.length;E++)b.push(p[E].src);this._url=p.length>0?b:[u.src];return}W(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var C=0;C<this._url.length;C++){var B=at("source");B.src=this._url[C],u.appendChild(B)}}});function Ch(a,u,p){return new Fl(a,u,p)}var $s=ts.extend({_initImage:function(){var a=this._image=this._url;Ce(a,"leaflet-image-layer"),this._zoomAnimated&&Ce(a,"leaflet-zoom-animated"),this.options.className&&Ce(a,this.options.className),a.onselectstart=A,a.onmousemove=A}});function Ih(a,u,p){return new $s(a,u,p)}var Pi=ji.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,u){a&&(a instanceof Ie||W(a))?(this._latlng=Ee(a),H(this,u)):(H(this,a),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&pn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&pn(this._container,1),this.bringToFront(),this.options.interactive&&(Ce(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(pn(this._container,0),this._removeTimeout=setTimeout(f(ut,void 0,this._container),200)):ut(this._container),this.options.interactive&&(yt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=Ee(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&$n(this._container),this},bringToBack:function(){return this._map&&hi(this._container),this},_prepareOpen:function(a){var u=this._source;if(!u._map)return!1;if(u instanceof Xn){u=null;var p=this._source._layers;for(var b in p)if(p[b]._map){u=p[b];break}if(!u)return!1;this._source=u}if(!a)if(u.getCenter)a=u.getCenter();else if(u.getLatLng)a=u.getLatLng();else if(u.getBounds)a=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")a.innerHTML=u;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),u=k(this.options.offset),p=this._getAnchor();this._zoomAnimated?jt(this._container,a.add(p)):u=u.add(a).add(p);var b=this._containerBottom=-u.y,E=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=b+"px",this._container.style.left=E+"px"}},_getAnchor:function(){return[0,0]}});We.include({_initOverlay:function(a,u,p,b){var E=u;return E instanceof a||(E=new a(b).setContent(u)),p&&E.setLatLng(p),E}}),ji.include({_initOverlay:function(a,u,p,b){var E=p;return E instanceof a?(H(E,b),E._source=this):(E=u&&!b?u:new a(b,this),E.setContent(p)),E}});var Ho=Pi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Pi.prototype.openOn.call(this,a)},onAdd:function(a){Pi.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof bs||this._source.on("preclick",dt))},onRemove:function(a){Pi.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof bs||this._source.off("preclick",dt))},getEvents:function(){var a=Pi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",u=this._container=at("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=at("div",a+"-content-wrapper",u);if(this._contentNode=at("div",a+"-content",p),Fs(u),Hs(this._contentNode),ze(u,"contextmenu",dt),this._tipContainer=at("div",a+"-tip-container",u),this._tip=at("div",a+"-tip",this._tipContainer),this.options.closeButton){var b=this._closeButton=at("a",a+"-close-button",u);b.setAttribute("role","button"),b.setAttribute("aria-label","Close popup"),b.href="#close",b.innerHTML='<span aria-hidden="true">&#215;</span>',ze(b,"click",function(E){Mt(E),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,u=a.style;u.width="",u.whiteSpace="nowrap";var p=a.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),u.width=p+1+"px",u.whiteSpace="",u.height="";var b=a.offsetHeight,E=this.options.maxHeight,C="leaflet-popup-scrolled";E&&b>E?(u.height=E+"px",Ce(a,C)):yt(a,C),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),p=this._getAnchor();jt(this._container,u.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,u=parseInt(Yi(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+u,b=this._containerWidth,E=new ye(this._containerLeft,-p-this._containerBottom);E._add(Qi(this._container));var C=a.layerPointToContainerPoint(E),B=k(this.options.autoPanPadding),X=k(this.options.autoPanPaddingTopLeft||B),ae=k(this.options.autoPanPaddingBottomRight||B),ge=a.getSize(),Ne=0,Me=0;C.x+b+ae.x>ge.x&&(Ne=C.x+b-ge.x+ae.x),C.x-Ne-X.x<0&&(Ne=C.x-X.x),C.y+p+ae.y>ge.y&&(Me=C.y+p-ge.y+ae.y),C.y-Me-X.y<0&&(Me=C.y-X.y),(Ne||Me)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([Ne,Me]))}},_getAnchor:function(){return k(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),gm=function(a,u){return new Ho(a,u)};We.mergeOptions({closePopupOnClick:!0}),We.include({openPopup:function(a,u,p){return this._initOverlay(Ho,a,u,p).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),ji.include({bindPopup:function(a,u){return this._popup=this._initOverlay(Ho,this._popup,a,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof Xn||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){Yn(a);var u=a.layer||a.target;if(this._popup._source===u&&!(u instanceof bs)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=u,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var ql=Pi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Pi.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Pi.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Pi.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",u=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=at("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var u,p,b=this._map,E=this._container,C=b.latLngToContainerPoint(b.getCenter()),B=b.layerPointToContainerPoint(a),X=this.options.direction,ae=E.offsetWidth,ge=E.offsetHeight,Ne=k(this.options.offset),Me=this._getAnchor();X==="top"?(u=ae/2,p=ge):X==="bottom"?(u=ae/2,p=0):X==="center"?(u=ae/2,p=ge/2):X==="right"?(u=0,p=ge/2):X==="left"?(u=ae,p=ge/2):B.x<C.x?(X="right",u=0,p=ge/2):(X="left",u=ae+(Ne.x+Me.x)*2,p=ge/2),a=a.subtract(k(u,p,!0)).add(Ne).add(Me),yt(E,"leaflet-tooltip-right"),yt(E,"leaflet-tooltip-left"),yt(E,"leaflet-tooltip-top"),yt(E,"leaflet-tooltip-bottom"),Ce(E,"leaflet-tooltip-"+X),jt(E,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&pn(this._container,a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(u)},_getAnchor:function(){return k(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ym=function(a,u){return new ql(a,u)};We.include({openTooltip:function(a,u,p){return this._initOverlay(ql,a,u,p).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),ji.include({bindTooltip:function(a,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ql,this._tooltip,a,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var u=a?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[u](p),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof Xn||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&(ze(u,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),ze(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var u=a.latlng,p,b;this._tooltip.options.sticky&&a.originalEvent&&(p=this._map.mouseEventToContainerPoint(a.originalEvent),b=this._map.containerPointToLayerPoint(p),u=this._map.layerPointToLatLng(b)),this._tooltip.setLatLng(u)}});var Wc=Aa.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var u=a&&a.tagName==="DIV"?a:document.createElement("div"),p=this.options;if(p.html instanceof Element?(wt(u),u.appendChild(p.html)):u.innerHTML=p.html!==!1?p.html:"",p.bgPos){var b=k(p.bgPos);u.style.backgroundPosition=-b.x+"px "+-b.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function jh(a){return new Wc(a)}Aa.Default=Na;var Dr=ji.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Pe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){H(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),ut(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&($n(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(hi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=x(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof ye?a:new ye(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var u=this.getPane().children,p=-a(-1/0,1/0),b=0,E=u.length,C;b<E;b++)C=u[b].style.zIndex,u[b]!==this._container&&C&&(p=a(p,+C));isFinite(p)&&(this.options.zIndex=p+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Pe.ielt9){pn(this._container,this.options.opacity);var a=+new Date,u=!1,p=!1;for(var b in this._tiles){var E=this._tiles[b];if(!(!E.current||!E.loaded)){var C=Math.min(1,(a-E.loaded)/200);pn(E.el,C),C<1?u=!0:(E.active?p=!0:this._onOpaqueTile(E),E.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),u&&(Y(this._fadeFrame),this._fadeFrame=$(this._updateOpacity,this))}},_onOpaqueTile:A,_initContainer:function(){this._container||(this._container=at("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,u=this.options.maxZoom;if(a!==void 0){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===a?(this._levels[p].el.style.zIndex=u-Math.abs(a-p),this._onUpdateLevel(p)):(ut(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var b=this._levels[a],E=this._map;return b||(b=this._levels[a]={},b.el=at("div","leaflet-tile-container leaflet-zoom-animated",this._container),b.el.style.zIndex=u,b.origin=E.project(E.unproject(E.getPixelOrigin()),a).round(),b.zoom=a,this._setZoomTransform(b,E.getCenter(),E.getZoom()),A(b.el.offsetWidth),this._onCreateLevel(b)),this._level=b,b}},_onUpdateLevel:A,_onRemoveLevel:A,_onCreateLevel:A,_pruneTiles:function(){if(this._map){var a,u,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)u=this._tiles[a],u.retain=u.current;for(a in this._tiles)if(u=this._tiles[a],u.current&&!u.active){var b=u.coords;this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var u in this._tiles)this._tiles[u].coords.z===a&&this._removeTile(u)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)ut(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,u,p,b){var E=Math.floor(a/2),C=Math.floor(u/2),B=p-1,X=new ye(+E,+C);X.z=+B;var ae=this._tileCoordsToKey(X),ge=this._tiles[ae];return ge&&ge.active?(ge.retain=!0,!0):(ge&&ge.loaded&&(ge.retain=!0),B>b?this._retainParent(E,C,B,b):!1)},_retainChildren:function(a,u,p,b){for(var E=2*a;E<2*a+2;E++)for(var C=2*u;C<2*u+2;C++){var B=new ye(E,C);B.z=p+1;var X=this._tileCoordsToKey(B),ae=this._tiles[X];if(ae&&ae.active){ae.retain=!0;continue}else ae&&ae.loaded&&(ae.retain=!0);p+1<b&&this._retainChildren(E,C,p+1,b)}},_resetView:function(a){var u=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var u=this.options;return u.minNativeZoom!==void 0&&a<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<a?u.maxNativeZoom:a},_setView:function(a,u,p,b){var E=Math.round(u);this.options.maxZoom!==void 0&&E>this.options.maxZoom||this.options.minZoom!==void 0&&E<this.options.minZoom?E=void 0:E=this._clampZoom(E);var C=this.options.updateWhenZooming&&E!==this._tileZoom;(!b||C)&&(this._tileZoom=E,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),E!==void 0&&this._update(a),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(a,u)},_setZoomTransforms:function(a,u){for(var p in this._levels)this._setZoomTransform(this._levels[p],a,u)},_setZoomTransform:function(a,u,p){var b=this._map.getZoomScale(p,a.zoom),E=a.origin.multiplyBy(b).subtract(this._map._getNewPixelOrigin(u,p)).round();Pe.any3d?Pn(a.el,E,b):jt(a.el,E)},_resetGrid:function(){var a=this._map,u=a.options.crs,p=this._tileSize=this.getTileSize(),b=this._tileZoom,E=this._map.getPixelWorldBounds(this._tileZoom);E&&(this._globalTileRange=this._pxBoundsToTileRange(E)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,u.wrapLng[0]],b).x/p.x),Math.ceil(a.project([0,u.wrapLng[1]],b).x/p.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([u.wrapLat[0],0],b).y/p.x),Math.ceil(a.project([u.wrapLat[1],0],b).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var u=this._map,p=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),b=u.getZoomScale(p,this._tileZoom),E=u.project(a,this._tileZoom).floor(),C=u.getSize().divideBy(b*2);return new ue(E.subtract(C),E.add(C))},_update:function(a){var u=this._map;if(u){var p=this._clampZoom(u.getZoom());if(a===void 0&&(a=u.getCenter()),this._tileZoom!==void 0){var b=this._getTiledPixelBounds(a),E=this._pxBoundsToTileRange(b),C=E.getCenter(),B=[],X=this.options.keepBuffer,ae=new ue(E.getBottomLeft().subtract([X,-X]),E.getTopRight().add([X,-X]));if(!(isFinite(E.min.x)&&isFinite(E.min.y)&&isFinite(E.max.x)&&isFinite(E.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ge in this._tiles){var Ne=this._tiles[ge].coords;(Ne.z!==this._tileZoom||!ae.contains(new ye(Ne.x,Ne.y)))&&(this._tiles[ge].current=!1)}if(Math.abs(p-this._tileZoom)>1){this._setView(a,p);return}for(var Me=E.min.y;Me<=E.max.y;Me++)for(var ke=E.min.x;ke<=E.max.x;ke++){var Ge=new ye(ke,Me);if(Ge.z=this._tileZoom,!!this._isValidTile(Ge)){var Rt=this._tiles[this._tileCoordsToKey(Ge)];Rt?Rt.current=!0:B.push(Ge)}}if(B.sort(function(bn,fi){return bn.distanceTo(C)-fi.distanceTo(C)}),B.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ht=document.createDocumentFragment();for(ke=0;ke<B.length;ke++)this._addTile(B[ke],Ht);this._level.el.appendChild(Ht)}}}},_isValidTile:function(a){var u=this._map.options.crs;if(!u.infinite){var p=this._globalTileRange;if(!u.wrapLng&&(a.x<p.min.x||a.x>p.max.x)||!u.wrapLat&&(a.y<p.min.y||a.y>p.max.y))return!1}if(!this.options.bounds)return!0;var b=this._tileCoordsToBounds(a);return Ae(this.options.bounds).overlaps(b)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var u=this._map,p=this.getTileSize(),b=a.scaleBy(p),E=b.add(p),C=u.unproject(b,a.z),B=u.unproject(E,a.z);return[C,B]},_tileCoordsToBounds:function(a){var u=this._tileCoordsToNwSe(a),p=new be(u[0],u[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var u=a.split(":"),p=new ye(+u[0],+u[1]);return p.z=+u[2],p},_removeTile:function(a){var u=this._tiles[a];u&&(ut(u.el),delete this._tiles[a],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Ce(a,"leaflet-tile");var u=this.getTileSize();a.style.width=u.x+"px",a.style.height=u.y+"px",a.onselectstart=A,a.onmousemove=A,Pe.ielt9&&this.options.opacity<1&&pn(a,this.options.opacity)},_addTile:function(a,u){var p=this._getTilePos(a),b=this._tileCoordsToKey(a),E=this.createTile(this._wrapCoords(a),f(this._tileReady,this,a));this._initTile(E),this.createTile.length<2&&$(f(this._tileReady,this,a,null,E)),jt(E,p),this._tiles[b]={el:E,coords:a,current:!0},u.appendChild(E),this.fire("tileloadstart",{tile:E,coords:a})},_tileReady:function(a,u,p){u&&this.fire("tileerror",{error:u,tile:p,coords:a});var b=this._tileCoordsToKey(a);p=this._tiles[b],p&&(p.loaded=+new Date,this._map._fadeAnimated?(pn(p.el,0),Y(this._fadeFrame),this._fadeFrame=$(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),u||(Ce(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Pe.ielt9||!this._map._fadeAnimated?$(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var u=new ye(this._wrapX?w(a.x,this._wrapX):a.x,this._wrapY?w(a.y,this._wrapY):a.y);return u.z=a.z,u},_pxBoundsToTileRange:function(a){var u=this.getTileSize();return new ue(a.min.unscaleBy(u).floor(),a.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function Oi(a){return new Dr(a)}var Lr=Dr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,u){this._url=a,u=H(this,u),u.detectRetina&&Pe.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,u){return this._url===a&&u===void 0&&(u=!0),this._url=a,u||this.redraw(),this},createTile:function(a,u){var p=document.createElement("img");return ze(p,"load",f(this._tileOnLoad,this,u,p)),ze(p,"error",f(this._tileOnError,this,u,p)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(a),p},getTileUrl:function(a){var u={r:Pe.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-a.y;this.options.tms&&(u.y=p),u["-y"]=p}return G(this._url,o(u,this.options))},_tileOnLoad:function(a,u){Pe.ielt9?setTimeout(f(a,this,null,u),0):a(null,u)},_tileOnError:function(a,u,p){var b=this.options.errorTileUrl;b&&u.getAttribute("src")!==b&&(u.src=b),a(p,u)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,u=this.options.maxZoom,p=this.options.zoomReverse,b=this.options.zoomOffset;return p&&(a=u-a),a+b},_getSubdomain:function(a){var u=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var a,u;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(u=this._tiles[a].el,u.onload=A,u.onerror=A,!u.complete)){u.src=le;var p=this._tiles[a].coords;ut(u),delete this._tiles[a],this.fire("tileabort",{tile:u,coords:p})}},_removeTile:function(a){var u=this._tiles[a];if(u)return u.el.setAttribute("src",le),Dr.prototype._removeTile.call(this,a)},_tileReady:function(a,u,p){if(!(!this._map||p&&p.getAttribute("src")===le))return Dr.prototype._tileReady.call(this,a,u,p)}});function ti(a,u){return new Lr(a,u)}var ni=Lr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,u){this._url=a;var p=o({},this.defaultWmsParams);for(var b in u)b in this.options||(p[b]=u[b]);u=H(this,u);var E=u.detectRetina&&Pe.retina?2:1,C=this.getTileSize();p.width=C.x*E,p.height=C.y*E,this.wmsParams=p},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,Lr.prototype.onAdd.call(this,a)},getTileUrl:function(a){var u=this._tileCoordsToNwSe(a),p=this._crs,b=we(p.project(u[0]),p.project(u[1])),E=b.min,C=b.max,B=(this._wmsVersion>=1.3&&this._crs===Sa?[E.y,E.x,C.y,C.x]:[E.x,E.y,C.x,C.y]).join(","),X=Lr.prototype.getTileUrl.call(this,a);return X+V(this.wmsParams,X,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+B},setParams:function(a,u){return o(this.wmsParams,a),u||this.redraw(),this}});function Ma(a,u){return new ni(a,u)}Lr.WMS=ni,ti.wms=Ma;var ki=ji.extend({options:{padding:.1},initialize:function(a){H(this,a),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ce(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,u){var p=this._map.getZoomScale(u,this._zoom),b=this._map.getSize().multiplyBy(.5+this.options.padding),E=this._map.project(this._center,u),C=b.multiplyBy(-p).add(E).subtract(this._map._getNewPixelOrigin(a,u));Pe.any3d?Pn(this._container,C,p):jt(this._container,C)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,u=this._map.getSize(),p=this._map.containerPointToLayerPoint(u.multiplyBy(-a)).round();this._bounds=new ue(p,p.add(u.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Fo=ki.extend({options:{tolerance:0},getEvents:function(){var a=ki.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ki.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");ze(a,"mousemove",this._onMouseMove,this),ze(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ze(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){Y(this._redrawRequest),delete this._ctx,ut(this._container),ht(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var u in this._layers)a=this._layers[u],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ki.prototype._update.call(this);var a=this._bounds,u=this._container,p=a.getSize(),b=Pe.retina?2:1;jt(u,a.min),u.width=b*p.x,u.height=b*p.y,u.style.width=p.x+"px",u.style.height=p.y+"px",Pe.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){ki.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[v(a)]=a;var u=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var u=a._order,p=u.next,b=u.prev;p?p.prev=b:this._drawLast=b,b?b.next=p:this._drawFirst=p,delete a._order,delete this._layers[v(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var u=a.options.dashArray.split(/[, ]+/),p=[],b,E;for(E=0;E<u.length;E++){if(b=Number(u[E]),isNaN(b))return;p.push(b)}a.options._dashArray=p}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||$(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var u=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ue,this._redrawBounds.extend(a._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(a._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var u=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,u=this._redrawBounds;if(this._ctx.save(),u){var p=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var b=this._drawFirst;b;b=b.next)a=b.layer,(!u||a._pxBounds&&a._pxBounds.intersects(u))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,u){if(this._drawing){var p,b,E,C,B=a._parts,X=B.length,ae=this._ctx;if(X){for(ae.beginPath(),p=0;p<X;p++){for(b=0,E=B[p].length;b<E;b++)C=B[p][b],ae[b?"lineTo":"moveTo"](C.x,C.y);u&&ae.closePath()}this._fillStroke(ae,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var u=a._point,p=this._ctx,b=Math.max(Math.round(a._radius),1),E=(Math.max(Math.round(a._radiusY),1)||b)/b;E!==1&&(p.save(),p.scale(1,E)),p.beginPath(),p.arc(u.x,u.y/E,b,0,Math.PI*2,!1),E!==1&&p.restore(),this._fillStroke(p,a)}},_fillStroke:function(a,u){var p=u.options;p.fill&&(a.globalAlpha=p.fillOpacity,a.fillStyle=p.fillColor||p.color,a.fill(p.fillRule||"evenodd")),p.stroke&&p.weight!==0&&(a.setLineDash&&a.setLineDash(u.options&&u.options._dashArray||[]),a.globalAlpha=p.opacity,a.lineWidth=p.weight,a.strokeStyle=p.color,a.lineCap=p.lineCap,a.lineJoin=p.lineJoin,a.stroke())},_onClick:function(a){for(var u=this._map.mouseEventToLayerPoint(a),p,b,E=this._drawFirst;E;E=E.next)p=E.layer,p.options.interactive&&p._containsPoint(u)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(p))&&(b=p);this._fireEvent(b?[b]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,u)}},_handleMouseOut:function(a){var u=this._hoveredLayer;u&&(yt(this._container,"leaflet-interactive"),this._fireEvent([u],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,u){if(!this._mouseHoverThrottled){for(var p,b,E=this._drawFirst;E;E=E.next)p=E.layer,p.options.interactive&&p._containsPoint(u)&&(b=p);b!==this._hoveredLayer&&(this._handleMouseOut(a),b&&(Ce(this._container,"leaflet-interactive"),this._fireEvent([b],a,"mouseover"),this._hoveredLayer=b)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,u,p){this._map._fireDOMEvent(u,p||u.type,a)},_bringToFront:function(a){var u=a._order;if(u){var p=u.next,b=u.prev;if(p)p.prev=b;else return;b?b.next=p:p&&(this._drawFirst=p),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(a)}},_bringToBack:function(a){var u=a._order;if(u){var p=u.next,b=u.prev;if(b)b.next=p;else return;p?p.prev=b:b&&(this._drawLast=b),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(a)}}});function qo(a){return Pe.canvas?new Fo(a):null}var Vr=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Pa={_initContainer:function(){this._container=at("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ki.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var u=a._container=Vr("shape");Ce(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",a._path=Vr("path"),u.appendChild(a._path),this._updateStyle(a),this._layers[v(a)]=a},_addPath:function(a){var u=a._container;this._container.appendChild(u),a.options.interactive&&a.addInteractiveTarget(u)},_removePath:function(a){var u=a._container;ut(u),a.removeInteractiveTarget(u),delete this._layers[v(a)]},_updateStyle:function(a){var u=a._stroke,p=a._fill,b=a.options,E=a._container;E.stroked=!!b.stroke,E.filled=!!b.fill,b.stroke?(u||(u=a._stroke=Vr("stroke")),E.appendChild(u),u.weight=b.weight+"px",u.color=b.color,u.opacity=b.opacity,b.dashArray?u.dashStyle=W(b.dashArray)?b.dashArray.join(" "):b.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=b.lineCap.replace("butt","flat"),u.joinstyle=b.lineJoin):u&&(E.removeChild(u),a._stroke=null),b.fill?(p||(p=a._fill=Vr("fill")),E.appendChild(p),p.color=b.fillColor||b.color,p.opacity=b.fillOpacity):p&&(E.removeChild(p),a._fill=null)},_updateCircle:function(a){var u=a._point.round(),p=Math.round(a._radius),b=Math.round(a._radiusY||p);this._setPath(a,a._empty()?"M0 0":"AL "+u.x+","+u.y+" "+p+","+b+" 0,"+65535*360)},_setPath:function(a,u){a._path.v=u},_bringToFront:function(a){$n(a._container)},_bringToBack:function(a){hi(a._container)}},Go=Pe.vml?Vr:Nl,Zs=ki.extend({_initContainer:function(){this._container=Go("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Go("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ut(this._container),ht(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ki.prototype._update.call(this);var a=this._bounds,u=a.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,p.setAttribute("width",u.x),p.setAttribute("height",u.y)),jt(p,a.min),p.setAttribute("viewBox",[a.min.x,a.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(a){var u=a._path=Go("path");a.options.className&&Ce(u,a.options.className),a.options.interactive&&Ce(u,"leaflet-interactive"),this._updateStyle(a),this._layers[v(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){ut(a._path),a.removeInteractiveTarget(a._path),delete this._layers[v(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var u=a._path,p=a.options;u&&(p.stroke?(u.setAttribute("stroke",p.color),u.setAttribute("stroke-opacity",p.opacity),u.setAttribute("stroke-width",p.weight),u.setAttribute("stroke-linecap",p.lineCap),u.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?u.setAttribute("stroke-dasharray",p.dashArray):u.removeAttribute("stroke-dasharray"),p.dashOffset?u.setAttribute("stroke-dashoffset",p.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),p.fill?(u.setAttribute("fill",p.fillColor||p.color),u.setAttribute("fill-opacity",p.fillOpacity),u.setAttribute("fill-rule",p.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(a,u){this._setPath(a,fa(a._parts,u))},_updateCircle:function(a){var u=a._point,p=Math.max(Math.round(a._radius),1),b=Math.max(Math.round(a._radiusY),1)||p,E="a"+p+","+b+" 0 1,0 ",C=a._empty()?"M0 0":"M"+(u.x-p)+","+u.y+E+p*2+",0 "+E+-p*2+",0 ";this._setPath(a,C)},_setPath:function(a,u){a._path.setAttribute("d",u)},_bringToFront:function(a){$n(a._path)},_bringToBack:function(a){hi(a._path)}});Pe.vml&&Zs.include(Pa);function zr(a){return Pe.svg||Pe.vml?new Zs(a):null}We.include({getRenderer:function(a){var u=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var u=this._paneRenderers[a];return u===void 0&&(u=this._createRenderer({pane:a}),this._paneRenderers[a]=u),u},_createRenderer:function(a){return this.options.preferCanvas&&qo(a)||zr(a)}});var Mh=Ca.extend({initialize:function(a,u){Ca.prototype.initialize.call(this,this._boundsToLatLngs(a),u)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=Ae(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function ii(a,u){return new Mh(a,u)}Zs.create=Go,Zs.pointsToPath=fa,ei.geometryToLayer=zo,ei.coordsToLatLng=Ul,ei.coordsToLatLngs=Uo,ei.latLngToCoords=Bo,ei.latLngsToCoords=Bl,ei.getFeature=Mi,ei.asFeature=Ia,We.mergeOptions({boxZoom:!0});var Gl=kn.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){ze(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ht(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ut(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),gn(),Us(),this._startPoint=this._map.mouseEventToContainerPoint(a),ze(document,{contextmenu:Yn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=at("div","leaflet-zoom-box",this._container),Ce(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var u=new ue(this._point,this._startPoint),p=u.getSize();jt(this._box,u.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(ut(this._box),yt(this._container,"leaflet-crosshair")),Zn(),ya(),ht(document,{contextmenu:Yn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var u=new be(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});We.addInitHook("addHandler","boxZoom",Gl),We.mergeOptions({doubleClickZoom:!0});var ns=kn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var u=this._map,p=u.getZoom(),b=u.options.zoomDelta,E=a.originalEvent.shiftKey?p-b:p+b;u.options.doubleClickZoom==="center"?u.setZoom(E):u.setZoomAround(a.containerPoint,E)}});We.addInitHook("addHandler","doubleClickZoom",ns),We.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Qc=kn.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Ri(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Ce(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){yt(this._map._container,"leaflet-grab"),yt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=Ae(this._map.options.maxBounds);this._offsetLimit=we(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var u=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(u),this._prunePositions(u)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,u){return a-(a-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;a.x<u.min.x&&(a.x=this._viscousLimit(a.x,u.min.x)),a.y<u.min.y&&(a.y=this._viscousLimit(a.y,u.min.y)),a.x>u.max.x&&(a.x=this._viscousLimit(a.x,u.max.x)),a.y>u.max.y&&(a.y=this._viscousLimit(a.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,u=Math.round(a/2),p=this._initialWorldOffset,b=this._draggable._newPos.x,E=(b-u+p)%a+u-p,C=(b+u+p)%a-u-p,B=Math.abs(E+p)<Math.abs(C+p)?E:C;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=B},_onDragEnd:function(a){var u=this._map,p=u.options,b=!p.inertia||a.noInertia||this._times.length<2;if(u.fire("dragend",a),b)u.fire("moveend");else{this._prunePositions(+new Date);var E=this._lastPos.subtract(this._positions[0]),C=(this._lastTime-this._times[0])/1e3,B=p.easeLinearity,X=E.multiplyBy(B/C),ae=X.distanceTo([0,0]),ge=Math.min(p.inertiaMaxSpeed,ae),Ne=X.multiplyBy(ge/ae),Me=ge/(p.inertiaDeceleration*B),ke=Ne.multiplyBy(-Me/2).round();!ke.x&&!ke.y?u.fire("moveend"):(ke=u._limitOffset(ke,u.options.maxBounds),$(function(){u.panBy(ke,{duration:Me,easeLinearity:B,noMoveStart:!0,animate:!0})}))}}});We.addInitHook("addHandler","dragging",Qc),We.mergeOptions({keyboard:!0,keyboardPanDelta:80});var $o=kn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),ze(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ht(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,u=document.documentElement,p=a.scrollTop||u.scrollTop,b=a.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(b,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var u=this._panKeys={},p=this.keyCodes,b,E;for(b=0,E=p.left.length;b<E;b++)u[p.left[b]]=[-1*a,0];for(b=0,E=p.right.length;b<E;b++)u[p.right[b]]=[a,0];for(b=0,E=p.down.length;b<E;b++)u[p.down[b]]=[0,a];for(b=0,E=p.up.length;b<E;b++)u[p.up[b]]=[0,-1*a]},_setZoomDelta:function(a){var u=this._zoomKeys={},p=this.keyCodes,b,E;for(b=0,E=p.zoomIn.length;b<E;b++)u[p.zoomIn[b]]=a;for(b=0,E=p.zoomOut.length;b<E;b++)u[p.zoomOut[b]]=-a},_addHooks:function(){ze(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ht(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var u=a.keyCode,p=this._map,b;if(u in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(b=this._panKeys[u],a.shiftKey&&(b=k(b).multiplyBy(3)),p.options.maxBounds&&(b=p._limitOffset(k(b),p.options.maxBounds)),p.options.worldCopyJump){var E=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(b)));p.panTo(E)}else p.panBy(b)}else if(u in this._zoomKeys)p.setZoom(p.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&p._popup&&p._popup.options.closeOnEscapeKey)p.closePopup();else return;Yn(a)}}});We.addInitHook("addHandler","keyboard",$o),We.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ks=kn.extend({addHooks:function(){ze(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ht(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var u=qs(a),p=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var b=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),b),Yn(a)},_performZoom:function(){var a=this._map,u=a.getZoom(),p=this._map.options.zoomSnap||0;a._stop();var b=this._delta/(this._map.options.wheelPxPerZoomLevel*4),E=4*Math.log(2/(1+Math.exp(-Math.abs(b))))/Math.LN2,C=p?Math.ceil(E/p)*p:E,B=a._limitZoom(u+(this._delta>0?C:-C))-u;this._delta=0,this._startTime=null,B&&(a.options.scrollWheelZoom==="center"?a.setZoom(u+B):a.setZoomAround(this._lastMousePos,u+B))}});We.addInitHook("addHandler","scrollWheelZoom",Ks);var Xc=600;We.mergeOptions({tapHold:Pe.touchNative&&Pe.safari&&Pe.mobile,tapTolerance:15});var $l=kn.extend({addHooks:function(){ze(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ht(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var u=a.touches[0];this._startPos=this._newPos=new ye(u.clientX,u.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(ze(document,"touchend",Mt),ze(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),Xc),ze(document,"touchend touchcancel contextmenu",this._cancel,this),ze(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){ht(document,"touchend",Mt),ht(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),ht(document,"touchend touchcancel contextmenu",this._cancel,this),ht(document,"touchmove",this._onMove,this)},_onMove:function(a){var u=a.touches[0];this._newPos=new ye(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,u){var p=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});p._simulated=!0,u.target.dispatchEvent(p)}});We.addInitHook("addHandler","tapHold",$l),We.mergeOptions({touchZoom:Pe.touch,bounceAtZoomLimits:!0});var Ur=kn.extend({addHooks:function(){Ce(this._map._container,"leaflet-touch-zoom"),ze(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){yt(this._map._container,"leaflet-touch-zoom"),ht(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var u=this._map;if(!(!a.touches||a.touches.length!==2||u._animatingZoom||this._zooming)){var p=u.mouseEventToContainerPoint(a.touches[0]),b=u.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(p.add(b)._divideBy(2))),this._startDist=p.distanceTo(b),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),ze(document,"touchmove",this._onTouchMove,this),ze(document,"touchend touchcancel",this._onTouchEnd,this),Mt(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var u=this._map,p=u.mouseEventToContainerPoint(a.touches[0]),b=u.mouseEventToContainerPoint(a.touches[1]),E=p.distanceTo(b)/this._startDist;if(this._zoom=u.getScaleZoom(E,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&E<1||this._zoom>u.getMaxZoom()&&E>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,E===1)return}else{var C=p._add(b)._divideBy(2)._subtract(this._centerPoint);if(E===1&&C.x===0&&C.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(C),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),Y(this._animRequest);var B=f(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=$(B,this,!0),Mt(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Y(this._animRequest),ht(document,"touchmove",this._onTouchMove,this),ht(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});We.addInitHook("addHandler","touchZoom",Ur),We.BoxZoom=Gl,We.DoubleClickZoom=ns,We.Drag=Qc,We.Keyboard=$o,We.ScrollWheelZoom=Ks,We.TapHold=$l,We.TouchZoom=Ur,t.Bounds=ue,t.Browser=Pe,t.CRS=At,t.Canvas=Fo,t.Circle=Kc,t.CircleMarker=Vo,t.Class=_e,t.Control=ln,t.DivIcon=Wc,t.DivOverlay=Pi,t.DomEvent=jr,t.DomUtil=Ol,t.Draggable=Ri,t.Evented=Se,t.FeatureGroup=Xn,t.GeoJSON=ei,t.GridLayer=Dr,t.Handler=kn,t.Icon=Aa,t.ImageOverlay=ts,t.LatLng=Ie,t.LatLngBounds=be,t.Layer=ji,t.LayerGroup=Or,t.LineUtil=Wn,t.Map=We,t.Marker=Ra,t.Mixin=Ll,t.Path=bs,t.Point=ye,t.PolyUtil=Ta,t.Polygon=Ca,t.Polyline=ws,t.Popup=Ho,t.PosAnimation=Mr,t.Projection=Ci,t.Rectangle=Mh,t.Renderer=ki,t.SVG=Zs,t.SVGOverlay=$s,t.TileLayer=Lr,t.Tooltip=ql,t.Transformation=Ds,t.Util=z,t.VideoOverlay=Fl,t.bind=f,t.bounds=we,t.canvas=qo,t.circle=mm,t.circleMarker=Nh,t.control=Ni,t.divIcon=jh,t.extend=o,t.featureGroup=Lo,t.geoJSON=Hl,t.geoJson=Rh,t.gridLayer=Oi,t.icon=zl,t.imageOverlay=ja,t.latLng=Ee,t.latLngBounds=Ae,t.layerGroup=Ah,t.map=Ji,t.marker=Zc,t.point=k,t.polygon=Jn,t.polyline=pm,t.popup=gm,t.rectangle=ii,t.setOptions=H,t.stamp=v,t.svg=zr,t.svgOverlay=Ih,t.tileLayer=ti,t.tooltip=ym,t.transformation=Hi,t.version=s,t.videoOverlay=Ch;var Oa=window.L;t.noConflict=function(){return window.L=Oa,this},window.L=t}))})(zu,zu.exports)),zu.exports}var go=Y2();function Uf(n,e,t){return Object.freeze({instance:n,context:e,container:t})}function Bf(n,e){return e==null?function(s,o){const c=U.useRef(void 0);return c.current||(c.current=n(s,o)),c}:function(s,o){const c=U.useRef(void 0);c.current||(c.current=n(s,o));const f=U.useRef(s),{instance:y}=c.current;return U.useEffect(function(){f.current!==s&&(e(y,s,f.current),f.current=s)},[y,s,e]),c}}function Xw(n,e){U.useEffect(function(){return(e.layerContainer??e.map).addLayer(n.instance),function(){var c;(c=e.layerContainer)==null||c.removeLayer(n.instance),e.map.removeLayer(n.instance)}},[e,n])}function Jw(n){return function(t){const s=Vf(),o=n(zf(t,s),s);return Yw(s.map,t.attribution),my(o.current,t.eventHandlers),Xw(o.current,s),o}}function W2(n,e){const t=U.useRef(void 0);U.useEffect(function(){if(e.pathOptions!==t.current){const o=e.pathOptions??{};n.instance.setStyle(o),t.current=o}},[n,e])}function Q2(n){return function(t){const s=Vf(),o=n(zf(t,s),s);return my(o.current,t.eventHandlers),Xw(o.current,s),W2(o.current,t),o}}function X2(n,e){const t=Bf(n,e),s=Jw(t);return Qw(s)}function J2(n,e){const t=Bf(n),s=Z2(t,e);return G2(s)}function eR(n,e){const t=Bf(n,e),s=Q2(t);return Qw(s)}function tR(n,e){const t=Bf(n,e),s=Jw(t);return $2(s)}function nR(n,e,t){const{opacity:s,zIndex:o}=e;s!=null&&s!==t.opacity&&n.setOpacity(s),o!=null&&o!==t.zIndex&&n.setZIndex(o)}function iR(){return Vf().map}const sR=eR(function({center:e,children:t,...s},o){const c=new go.Circle(e,s);return Uf(c,Ww(o,{overlayContainer:c}))},H2);function rR({bounds:n,boundsOptions:e,center:t,children:s,className:o,id:c,placeholder:f,style:y,whenReady:v,zoom:x,...w},A){const[R]=U.useState({className:o,id:c,style:y}),[P,M]=U.useState(null),H=U.useRef(void 0);U.useImperativeHandle(A,()=>(P==null?void 0:P.map)??null,[P]);const V=U.useCallback(G=>{if(G!==null&&!H.current){const W=new go.Map(G,w);H.current=W,t!=null&&x!=null?W.setView(t,x):n!=null&&W.fitBounds(n,e),v!=null&&W.whenReady(v),M(q2(W))}},[]);U.useEffect(()=>()=>{P==null||P.map.remove()},[P]);const ce=P?ta.createElement(fy,{value:P},s):f??null;return ta.createElement("div",{...R,ref:V},ce)}const aR=U.forwardRef(rR),oR=X2(function({position:e,...t},s){const o=new go.Marker(e,t);return Uf(o,Ww(s,{overlayContainer:o}))},function(e,t,s){t.position!==s.position&&e.setLatLng(t.position),t.icon!=null&&t.icon!==s.icon&&e.setIcon(t.icon),t.zIndexOffset!=null&&t.zIndexOffset!==s.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),t.opacity!=null&&t.opacity!==s.opacity&&e.setOpacity(t.opacity),e.dragging!=null&&t.draggable!==s.draggable&&(t.draggable===!0?e.dragging.enable():e.dragging.disable())}),bx=J2(function(e,t){const s=new go.Popup(e,t.overlayContainer);return Uf(s,t)},function(e,t,{position:s},o){U.useEffect(function(){const{instance:f}=e;function y(x){x.popup===f&&(f.update(),o(!0))}function v(x){x.popup===f&&o(!1)}return t.map.on({popupopen:y,popupclose:v}),t.overlayContainer==null?(s!=null&&f.setLatLng(s),f.openOn(t.map)):t.overlayContainer.bindPopup(f),function(){var w;t.map.off({popupopen:y,popupclose:v}),(w=t.overlayContainer)==null||w.unbindPopup(),t.map.removeLayer(f)}},[e,t,o,s])}),lR=tR(function({url:e,...t},s){const o=new go.TileLayer(e,zf(t,s));return Uf(o,s)},function(e,t,s){nR(e,t,s);const{url:o}=t;o!=null&&o!==s.url&&e.setUrl(o)}),e1=[{id:"hr_2025_punjab",title:"Catastrophic Flooding in Punjab",type:"flood",severity:"critical",status:"active",location:{latitude:31.53,longitude:75.92,address:"Over 1,400 villages submerged, Punjab",district:"State-wide",state:"Punjab"},description:"Unprecedented monsoon rains led to catastrophic floods, submerging over 1,400 villages. Mass evacuations are underway. Caused by dam overflow and unregulated development.",reportedBy:{id:"gov_punjab_dma",name:"Punjab Disaster Management Authority",type:"official"},reportedAt:new Date(Date.now()-3600*1e3).toISOString(),verifiedAt:new Date(Date.now()-1800*1e3).toISOString(),verifiedBy:"admin@oceanhazard.com",affectedArea:"1,400 villages",estimatedAffectedPopulation:25e5,emergencyContacts:["1077","112"],images:[],weatherConditions:{windSpeed:"25 km/h",waveHeight:"N/A",temperature:"24°C",visibility:"Poor"},tags:["critical","flooding","evacuation_mandatory","monsoon_disaster"]},{id:"hr_2025_hp",title:"Flash Floods & Landslides in Himachal Pradesh",type:"landslide",severity:"high",status:"active",location:{latitude:31.83,longitude:77,address:"Multiple districts, Himachal Pradesh",district:"State-wide",state:"Himachal Pradesh"},description:"Relentless monsoon downpours triggered severe flash floods and landslides, resulting in loss of life and destruction of key transportation networks.",reportedBy:{id:"gov_hp_dma",name:"Himachal Pradesh DMA",type:"official"},reportedAt:new Date(Date.now()-10800*1e3).toISOString(),verifiedAt:new Date(Date.now()-7200*1e3).toISOString(),verifiedBy:"admin@oceanhazard.com",tags:["high","flash_flood","landslide","monsoon"]},{id:"hr_2025_mumbai",title:"Severe Urban & Coastal Flooding in Mumbai",type:"flood",severity:"high",status:"active",location:{latitude:19.07,longitude:72.87,address:"Coastal and low-lying areas, Mumbai",district:"Mumbai",state:"Maharashtra"},description:"Extreme urban and coastal flooding due to tidal surges and poor drainage after intense rainfall. Major disruptions to transport and daily life.",reportedBy:{id:"citizen_mumbai_01",name:"Mumbai Resident",type:"citizen"},reportedAt:new Date(Date.now()-7200*1e3).toISOString(),verifiedAt:new Date(Date.now()-3600*1e3).toISOString(),verifiedBy:"officer@oceanhazard.com",tags:["high","urban_flooding","tidal_surge","mumbai_rains"]},{id:"hr_2025_chennai",title:"Extreme Coastal Flooding in Chennai",type:"flood",severity:"high",status:"active",location:{latitude:13.08,longitude:80.27,address:"Low-lying coastal regions, Chennai",district:"Chennai",state:"Tamil Nadu"},description:"Tidal surges combined with heavy rainfall have caused extreme coastal flooding, revealing the city's vulnerability.",reportedBy:{id:"gov_chennai_corp",name:"Greater Chennai Corporation",type:"official"},reportedAt:new Date(Date.now()-14400*1e3).toISOString(),verifiedAt:new Date(Date.now()-10800*1e3).toISOString(),verifiedBy:"admin@oceanhazard.com",tags:["high","coastal_flooding","chennai_rains"]},{id:"hr_2025_bihar",title:"Ganga River Breaches Danger Mark in Bihar",type:"flood",severity:"high",status:"active",location:{latitude:25.61,longitude:85.15,address:"Riverbanks along Ganga, Bihar",district:"State-wide",state:"Bihar"},description:"The Ganga River has breached danger marks in multiple locations, causing severe crop damage and threatening embankments.",reportedBy:{id:"gov_bihar_wrd",name:"Bihar Water Resource Dept.",type:"official"},reportedAt:new Date(Date.now()-480*60*1e3).toISOString(),verifiedAt:new Date(Date.now()-420*60*1e3).toISOString(),verifiedBy:"admin@oceanhazard.com",tags:["high","river_flood","ganga","agriculture_loss"]},{id:"hr_001",title:"High Tide Alert - Marina Beach",type:"tidal_surge",severity:"high",status:"active",location:{latitude:13.0499,longitude:80.2824,address:"Marina Beach, Chennai, Tamil Nadu",district:"Chennai",state:"Tamil Nadu"},description:"Unusually high tides observed with potential flooding risk in low-lying areas. Water levels 1.5m above normal.",reportedBy:{id:"user_001",name:"Coastal Observer",type:"citizen"},reportedAt:new Date(Date.now()-7200*1e3).toISOString(),verifiedAt:new Date(Date.now()-3600*1e3).toISOString(),verifiedBy:"officer@oceanhazard.com",affectedArea:"2.5 km stretch",estimatedAffectedPopulation:15e3,emergencyContacts:["+91-044-25361721","+91-044-25361722"],images:["marina_hightide_001.jpg","marina_flooding_002.jpg"],weatherConditions:{windSpeed:"45 km/h",waveHeight:"3.2m",temperature:"28°C",visibility:"Moderate"},tags:["urgent","flooding","evacuation_advisory"]},{id:"hr_002",title:"Cyclone Warning - Visakhapatnam Coast",type:"cyclone",severity:"critical",status:"active",location:{latitude:17.7231,longitude:83.3012,address:"Visakhapatnam Beach, Andhra Pradesh",district:"Visakhapatnam",state:"Andhra Pradesh"},description:"Severe cyclonic storm approaching coast. Expected landfall in 8-12 hours. Immediate evacuation recommended.",reportedBy:{id:"user_002",name:"Meteorological Station",type:"official"},reportedAt:new Date(Date.now()-14400*1e3).toISOString(),verifiedAt:new Date(Date.now()-10800*1e3).toISOString(),verifiedBy:"admin@oceanhazard.com",affectedArea:"50 km radius",estimatedAffectedPopulation:5e5,emergencyContacts:["+91-891-2560037","+91-891-2560038"],images:["cyclone_satellite_001.jpg","coastal_preparation_002.jpg"],weatherConditions:{windSpeed:"120 km/h",waveHeight:"8.5m",temperature:"26°C",visibility:"Poor"},tags:["critical","evacuation_mandatory","cyclone","red_alert"]},{id:"hr_003",title:"Oil Spill Detected - Kochi Harbor",type:"pollution",severity:"medium",status:"investigating",location:{latitude:9.9312,longitude:76.2673,address:"Kochi Harbor, Fort Kochi, Kerala",district:"Ernakulam",state:"Kerala"},description:"Oil spill detected near harbor area. Marine life at risk. Cleanup operations initiated.",reportedBy:{id:"user_003",name:"Fisherman Association",type:"citizen"},reportedAt:new Date(Date.now()-360*60*1e3).toISOString(),verifiedAt:new Date(Date.now()-300*60*1e3).toISOString(),verifiedBy:"analyst@oceanhazard.com",affectedArea:"1.2 km²",estimatedAffectedPopulation:5e3,emergencyContacts:["+91-484-2668001","+91-484-2668002"],images:["oil_spill_001.jpg","affected_marine_002.jpg"],weatherConditions:{windSpeed:"15 km/h",waveHeight:"1.1m",temperature:"30°C",visibility:"Good"},tags:["pollution","marine_life","cleanup_required"]},{id:"hr_004",title:"Rough Sea Warning - Goa Beaches",type:"rough_sea",severity:"medium",status:"active",location:{latitude:15.2993,longitude:74.124,address:"Calangute Beach, Goa",district:"North Goa",state:"Goa"},description:"Rough sea conditions with strong currents. Swimming and water sports prohibited.",reportedBy:{id:"user_004",name:"Lifeguard Team",type:"official"},reportedAt:new Date(Date.now()-10800*1e3).toISOString(),verifiedAt:new Date(Date.now()-7200*1e3).toISOString(),verifiedBy:"officer@oceanhazard.com",affectedArea:"15 km coastline",estimatedAffectedPopulation:25e3,emergencyContacts:["+91-832-2419132","+91-832-2419133"],images:["rough_waves_001.jpg","warning_signs_002.jpg"],weatherConditions:{windSpeed:"35 km/h",waveHeight:"2.8m",temperature:"32°C",visibility:"Good"},tags:["swimming_prohibited","tourist_advisory","rough_sea"]},{id:"hr_005",title:"Coastal Erosion Alert - Puducherry",type:"erosion",severity:"low",status:"monitoring",location:{latitude:11.9139,longitude:79.8145,address:"Promenade Beach, Puducherry",district:"Puducherry",state:"Puducherry"},description:"Gradual coastal erosion observed. Protective measures being evaluated.",reportedBy:{id:"user_005",name:"Coastal Research Station",type:"researcher"},reportedAt:new Date(Date.now()-1440*60*1e3).toISOString(),verifiedAt:new Date(Date.now()-1200*60*1e3).toISOString(),verifiedBy:"analyst@oceanhazard.com",affectedArea:"800m coastline",estimatedAffectedPopulation:2e3,emergencyContacts:["+91-413-2334791","+91-413-2334792"],images:["erosion_001.jpg","baseline_comparison_002.jpg"],weatherConditions:{windSpeed:"20 km/h",waveHeight:"1.5m",temperature:"29°C",visibility:"Excellent"},tags:["monitoring","erosion","research"]}],wx=(n=e1)=>{const e=[],t={};return n.forEach(s=>{const o=`${Math.round(s.location.latitude*10)/10}_${Math.round(s.location.longitude*10)/10}`;t[o]||(t[o]=[]),t[o].push(s)}),Object.values(t).forEach(s=>{if(s.length>=2){const o=s.reduce((w,A)=>w+A.location.latitude,0)/s.length,c=s.reduce((w,A)=>w+A.location.longitude,0)/s.length,f=s.filter(w=>w.severity==="critical").length,y=s.filter(w=>w.severity==="high").length,v=s.filter(w=>w.status==="active").length;let x="low";f>0||y>=2?x="high":(y>0||v>=3)&&(x="medium"),e.push({id:`hotspot_${Math.random().toString(36).substr(2,9)}`,center:[o,c],intensity:x,reportCount:s.length,radius:Math.min(5e4,s.length*15e3),reports:s.map(w=>w.id),dominantTypes:[...new Set(s.map(w=>w.type))],lastUpdated:new Date().toISOString()})}}),e};class cR{constructor(){il(this,"reports",[...e1]);il(this,"hotspots",[]);il(this,"listeners",new Set);il(this,"updateInterval",null);il(this,"lastUpdateTime",new Date);this.hotspots=wx(this.reports)}subscribe(e){return this.listeners.add(e),this.listeners.size===1&&this.startRealTimeUpdates(),e(this.reports,this.hotspots),()=>{this.listeners.delete(e),this.listeners.size===0&&this.stopRealTimeUpdates()}}getCurrentData(){return{reports:[...this.reports],hotspots:[...this.hotspots]}}startRealTimeUpdates(){this.updateInterval||(this.updateInterval=setInterval(()=>{this.simulateDataUpdate()},3e4))}stopRealTimeUpdates(){this.updateInterval&&(clearInterval(this.updateInterval),this.updateInterval=null)}simulateDataUpdate(){const e=new Date,t=this.reports.map(s=>{if(Math.random()<.1){const o={lastUpdated:e.toISOString()};return s.status==="active"&&Math.random()<.3?o.status="investigating":s.status==="investigating"&&Math.random()<.2&&(o.status="resolved"),!s.verifiedAt&&Math.random()<.4&&(o.verifiedAt=e.toISOString(),o.verifiedBy="system@oceanhazard.com"),{...s,...o}}return s});if(Math.random()<.2){const s=this.generateNewReport();t.push(s)}this.reports=t,this.hotspots=wx(this.reports),this.lastUpdateTime=e,this.notifyListeners()}generateNewReport(){const e=[{lat:19.076,lng:72.8777,state:"Maharashtra",district:"Mumbai"},{lat:13.0827,lng:80.2707,state:"Tamil Nadu",district:"Chennai"},{lat:9.9312,lng:76.2673,state:"Kerala",district:"Ernakulam"},{lat:17.6868,lng:83.2185,state:"Andhra Pradesh",district:"Visakhapatnam"},{lat:15.2993,lng:74.124,state:"Goa",district:"North Goa"}],t=["flood","cyclone","tidal_surge","rough_sea","pollution","erosion"],s=["low","medium","high","critical"],o=e[Math.floor(Math.random()*e.length)],c=t[Math.floor(Math.random()*t.length)],f=s[Math.floor(Math.random()*s.length)];return{id:`hr_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,title:`${f.charAt(0).toUpperCase()+f.slice(1)} ${c} Alert - ${o.district}`,type:c,severity:f,status:"active",location:{latitude:o.lat+(Math.random()-.5)*.1,longitude:o.lng+(Math.random()-.5)*.1,address:`Near ${o.district}, ${o.state}`,district:o.district,state:o.state},description:`Newly reported ${c} incident requiring immediate attention.`,reportedBy:{id:`user_${Math.random().toString(36).substr(2,9)}`,name:"Citizen Reporter",type:"citizen"},reportedAt:new Date().toISOString(),tags:[f,c,"real_time"]}}notifyListeners(){this.listeners.forEach(e=>{try{e(this.reports,this.hotspots)}catch(t){console.error("Error notifying hazard report listener:",t)}})}getStatistics(){const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),s=new Date(t.getTime()-10080*60*1e3);return{total:this.reports.length,active:this.reports.filter(o=>o.status==="active").length,critical:this.reports.filter(o=>o.severity==="critical").length,today:this.reports.filter(o=>new Date(o.reportedAt)>=t).length,thisWeek:this.reports.filter(o=>new Date(o.reportedAt)>=s).length,lastUpdate:this.lastUpdateTime.toISOString(),byType:this.reports.reduce((o,c)=>(o[c.type]=(o[c.type]||0)+1,o),{}),bySeverity:this.reports.reduce((o,c)=>(o[c.severity]=(o[c.severity]||0)+1,o),{}),byState:this.reports.reduce((o,c)=>(o[c.location.state]=(o[c.location.state]||0)+1,o),{})}}destroy(){this.stopRealTimeUpdates(),this.listeners.clear()}}const dr=new cR;class t1{static async searchLocation(e){if(!e.trim())return[];try{const t=await fetch(`${this.NOMINATIM_BASE_URL}/search?q=${encodeURIComponent(e)}&format=json&countrycodes=in&limit=5&addressdetails=1`,{headers:{"User-Agent":"Taranga Ocean Monitor (oceanmonitor@example.com)"}});if(!t.ok)throw new Error(`Search failed: ${t.status}`);return(await t.json()).map(o=>({display_name:o.display_name,lat:parseFloat(o.lat),lon:parseFloat(o.lon),boundingbox:o.boundingbox}))}catch(t){return console.error("Location search failed:",t),[]}}}il(t1,"NOMINATIM_BASE_URL","https://nominatim.openstreetmap.org");class uR extends ta.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Map rendering error:",e,t)}render(){return this.state.hasError?d.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-8 text-center",children:[d.jsx("div",{className:"text-4xl mb-4",children:"🗺️"}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Map Temporarily Unavailable"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"The interactive map is currently experiencing technical issues."}),d.jsx("button",{onClick:()=>this.setState({hasError:!1,error:null}),className:"btn-primary",children:"Retry Map"}),d.jsx("div",{className:"mt-4 text-sm text-gray-500",children:"Other dashboard features remain fully functional"})]}):this.props.children}}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dR=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),Tx=n=>{const e=dR(n);return e.charAt(0).toUpperCase()+e.slice(1)},n1=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),fR=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=U.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:f,...y},v)=>U.createElement("svg",{ref:v,...mR,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:n1("lucide",o),...!c&&!fR(y)&&{"aria-hidden":"true"},...y},[...f.map(([x,w])=>U.createElement(x,w)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=(n,e)=>{const t=U.forwardRef(({className:s,...o},c)=>U.createElement(pR,{ref:c,iconNode:e,className:n1(`lucide-${hR(Tx(n))}`,`lucide-${n}`,s),...o}));return t.displayName=Tx(n),t};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Xr=Ze("activity",gR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Eg=Ze("bell",yR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Sg=Ze("calendar",_R);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],xR=Ze("camera",vR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],af=Ze("chart-column",bR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Hf=Ze("circle-check-big",wR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],of=Ze("clock",TR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],SR=Ze("credit-card",ER);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],NR=Ze("database",AR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],i1=Ze("dollar-sign",RR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],s1=Ze("download",CR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],jR=Ze("external-link",IR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],py=Ze("eye",MR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],lf=Ze("file-text",PR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],kR=Ze("funnel",OR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],LR=Ze("gift",DR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],cf=Ze("globe",VR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Uu=Ze("heart",zR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],BR=Ze("lock",UR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],FR=Ze("mail",HR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],yo=Ze("map-pin",qR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],uf=Ze("message-square",GR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],ZR=Ze("moon",$R);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],al=Ze("phone",KR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Ex=Ze("radio",YR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],r1=Ze("refresh-cw",WR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],XR=Ze("save",QR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],a1=Ze("search",JR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],tC=Ze("send",eC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],iC=Ze("server",nC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ag=Ze("settings",sC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],o1=Ze("share",rC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Xu=Ze("shield",aC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],lC=Ze("smartphone",oC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],uC=Ze("star",cC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],dC=Ze("sun",hC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Xp=Ze("target",fC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],cl=Ze("trending-up",mC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],js=Ze("triangle-alert",pC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Sx=Ze("truck",gC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],_C=Ze("upload",yC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],xC=Ze("user-check",vC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],wC=Ze("user-x",bC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Jp=Ze("user",TC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ul=Ze("users",EC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ax=Ze("x",SC);try{delete go.Icon.Default.prototype._getIconUrl,go.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.1/images/marker-shadow.png"})}catch(n){console.warn("Leaflet icon fix failed:",n)}const AC=n=>{const e={critical:"#dc2626",high:"#ea580c",medium:"#d97706",low:"#16a34a",default:"#6b7280"},s=`
    <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
      <circle cx="12" cy="12" r="10" fill="${e[n]||e.default}" stroke="white" stroke-width="2"/>
      <text x="12" y="16" text-anchor="middle" font-size="12" fill="white">!</text>
    </svg>
  `.trim(),o=window.btoa(unescape(encodeURIComponent(s)));return new go.Icon({iconUrl:`data:image/svg+xml;base64,${o}`,iconSize:[24,24],iconAnchor:[12,24],popupAnchor:[0,-24]})},NC=({center:n,zoom:e})=>{const t=iR();return U.useEffect(()=>{n&&t.setView(n,e)},[n,e,t]),null},hh=({onReportClick:n,height:e="500px",showControls:t=!0})=>{var z;const[s,o]=U.useState([]),[c,f]=U.useState([]),[y,v]=U.useState({}),[x,w]=U.useState([20.5937,78.9629]),[A,R]=U.useState(5),[P,M]=U.useState(null),[H,V]=U.useState({severity:"all",type:"all",status:"all",showHotspots:!0,showReports:!0}),[ce,G]=U.useState(""),[W,ve]=U.useState([]),[le,xe]=U.useState(!1),[q,O]=U.useState("");U.useEffect(()=>dr.subscribe((qe,se)=>{o(qe),f(se),v(dr.getStatistics()),O(new Date().toLocaleTimeString())}),[]),U.useEffect(()=>{if(ce.length<3){ve([]);return}const _e=setTimeout(async()=>{xe(!0);try{const qe=await t1.searchLocation(ce);ve(qe)}catch(qe){console.error("Search error:",qe),ve([])}finally{xe(!1)}},300);return()=>clearTimeout(_e)},[ce]);const D=s.filter(_e=>!(H.severity!=="all"&&_e.severity!==H.severity||H.type!=="all"&&_e.type!==H.type||H.status!=="all"&&_e.status!==H.status)),Z=_e=>{M(_e),w([_e.location.latitude,_e.location.longitude]),R(12),n&&n(_e)},$=_e=>{w([_e.lat,_e.lon]),R(12),G(""),ve([])},Y=[{name:"All India",coords:[20.5937,78.9629],zoom:5},{name:"Mumbai",coords:[19.076,72.8777],zoom:10},{name:"Chennai",coords:[13.0827,80.2707],zoom:10},{name:"Kochi",coords:[9.9312,76.2673],zoom:10},{name:"Visakhapatnam",coords:[17.6868,83.2185],zoom:10},{name:"Goa",coords:[15.2993,74.124],zoom:10}];return d.jsxs("div",{className:"w-full",children:[t&&d.jsxs("div",{className:"mb-4 p-4 bg-white border border-gray-200 rounded-lg",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(yo,{className:"w-5 h-5 text-blue-600"}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Hazard Monitor"}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Real-time ocean hazard tracking"}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(Xr,{className:"w-3 h-3 text-green-500"}),d.jsx("span",{className:"text-xs text-green-600",children:"Live"}),q&&d.jsxs("span",{className:"text-xs text-gray-500",children:["• Updated ",q]})]})]})]})]}),d.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-lg font-bold text-red-600",children:y.critical}),d.jsx("div",{className:"text-xs text-gray-500",children:"Critical"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-lg font-bold text-orange-600",children:y.active}),d.jsx("div",{className:"text-xs text-gray-500",children:"Active"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-lg font-bold text-blue-600",children:y.total}),d.jsx("div",{className:"text-xs text-gray-500",children:"Total"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-lg font-bold text-green-600",children:c.length}),d.jsx("div",{className:"text-xs text-gray-500",children:"Hotspots"})]})]})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[d.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[d.jsx(a1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Search locations in India...",value:ce,onChange:_e=>G(_e.target.value),className:"input pl-10"}),le&&d.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:d.jsx("div",{className:"loading"})}),W.length>0&&d.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-lg shadow-lg mt-1 z-50 max-h-60 overflow-y-auto",children:W.map((_e,qe)=>d.jsx("button",{onClick:()=>$(_e),className:"w-full text-left px-4 py-3 hover:bg-gray-50 border-b border-gray-100 last:border-b-0",children:d.jsx("div",{className:"font-medium text-gray-900 text-sm",children:_e.display_name})},qe))})]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:Y.map((_e,qe)=>d.jsx("button",{onClick:()=>{w(_e.coords),R(_e.zoom)},className:"btn-secondary px-3 py-1 text-sm",children:_e.name},qe))}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(kR,{className:"w-4 h-4 text-gray-400"}),d.jsxs("select",{value:H.severity,onChange:_e=>V(qe=>({...qe,severity:_e.target.value})),className:"input text-sm px-2 py-1",children:[d.jsx("option",{value:"all",children:"All Severity"}),d.jsx("option",{value:"critical",children:"Critical"}),d.jsx("option",{value:"high",children:"High"}),d.jsx("option",{value:"medium",children:"Medium"}),d.jsx("option",{value:"low",children:"Low"})]}),d.jsxs("select",{value:H.type,onChange:_e=>V(qe=>({...qe,type:_e.target.value})),className:"input text-sm px-2 py-1",children:[d.jsx("option",{value:"all",children:"All Types"}),d.jsx("option",{value:"cyclone",children:"Cyclone"}),d.jsx("option",{value:"flood",children:"Flood"}),d.jsx("option",{value:"tsunami",children:"Tsunami"}),d.jsx("option",{value:"pollution",children:"Pollution"}),d.jsx("option",{value:"erosion",children:"Erosion"})]})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("label",{className:"flex items-center space-x-2",children:[d.jsx("input",{type:"checkbox",checked:H.showReports,onChange:_e=>V(qe=>({...qe,showReports:_e.target.checked})),className:"w-4 h-4"}),d.jsx("span",{className:"text-sm text-gray-700",children:"Reports"})]}),d.jsxs("label",{className:"flex items-center space-x-2",children:[d.jsx("input",{type:"checkbox",checked:H.showHotspots,onChange:_e=>V(qe=>({...qe,showHotspots:_e.target.checked})),className:"w-4 h-4"}),d.jsx("span",{className:"text-sm text-gray-700",children:"Hotspots"})]})]})]})]}),d.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",style:{height:e},children:d.jsx(uR,{children:d.jsxs(aR,{center:x,zoom:A,style:{width:"100%",height:"100%"},children:[d.jsx(NC,{center:x,zoom:A}),d.jsx(lR,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),H.showReports&&D.map(_e=>d.jsx(oR,{position:[_e.location.latitude,_e.location.longitude],icon:AC(_e.severity),eventHandlers:{click:()=>Z(_e)},children:d.jsx(bx,{children:d.jsxs("div",{className:"min-w-[280px]",children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsx("h4",{className:"text-base font-semibold text-gray-900",children:_e.title}),d.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${_e.severity==="critical"?"bg-red-100 text-red-800":_e.severity==="high"?"bg-orange-100 text-orange-800":_e.severity==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:_e.severity.toUpperCase()})]}),d.jsxs("div",{className:"space-y-2 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-500",children:"Type:"}),d.jsx("span",{className:"text-gray-900",children:_e.type.replace("_"," ")})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-500",children:"Status:"}),d.jsx("span",{className:"text-gray-900",children:_e.status})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-500",children:"Location:"}),d.jsx("span",{className:"text-gray-900",children:_e.location.state})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-500",children:"Reported:"}),d.jsx("span",{className:"text-gray-900",children:new Date(_e.reportedAt).toLocaleString()})]})]}),_e.description&&d.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:d.jsx("p",{className:"text-gray-700 text-sm",children:_e.description})}),_e.affectedArea&&d.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[d.jsx(js,{className:"w-4 h-4 text-yellow-600"}),d.jsxs("span",{className:"text-sm text-yellow-700",children:["Affected Area: ",_e.affectedArea]})]})]})})},_e.id)),H.showHotspots&&c.map(_e=>d.jsx(sR,{center:_e.center,radius:_e.radius,fillColor:_e.intensity==="high"?"#dc2626":_e.intensity==="medium"?"#ea580c":"#16a34a",fillOpacity:.2,color:_e.intensity==="high"?"#dc2626":_e.intensity==="medium"?"#ea580c":"#16a34a",weight:2,children:d.jsx(bx,{children:d.jsxs("div",{className:"min-w-[200px]",children:[d.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-2",children:"Hazard Hotspot"}),d.jsxs("div",{className:"space-y-1 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-500",children:"Intensity:"}),d.jsx("span",{className:`font-medium ${_e.intensity==="high"?"text-red-600":_e.intensity==="medium"?"text-orange-600":"text-green-600"}`,children:_e.intensity.toUpperCase()})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-500",children:"Reports:"}),d.jsx("span",{className:"text-gray-900",children:_e.reportCount})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-500",children:"Types:"}),d.jsx("span",{className:"text-blue-600",children:_e.dominantTypes.join(", ")})]})]})]})})},_e.id))]})})}),P&&d.jsx("div",{className:"mt-4 p-4 bg-white border border-gray-200 rounded-lg",children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:P.title}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500",children:"Severity: "}),d.jsx("span",{className:`font-medium ${P.severity==="critical"?"text-red-600":P.severity==="high"?"text-orange-600":P.severity==="medium"?"text-yellow-600":"text-green-600"}`,children:P.severity})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500",children:"Type: "}),d.jsx("span",{className:"text-gray-900",children:P.type.replace("_"," ")})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500",children:"Status: "}),d.jsx("span",{className:"text-gray-900",children:P.status})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-gray-500",children:"Population: "}),d.jsx("span",{className:"text-gray-900",children:((z=P.estimatedAffectedPopulation)==null?void 0:z.toLocaleString())||"N/A"})]})]})]}),d.jsx("button",{onClick:()=>M(null),className:"btn-secondary px-3 py-1 ml-4",children:"✕"})]})})]})},Nx=({user:n})=>{var w;const[e,t]=U.useState([]),[s,o]=U.useState({}),[c,f]=U.useState([]),[y,v]=U.useState("");U.useEffect(()=>dr.subscribe(R=>{t(R),o(dr.getStatistics());const P=19.076,M=72.8777,H=R.filter(V=>Math.sqrt(Math.pow(V.location.latitude-P,2)+Math.pow(V.location.longitude-M,2))<.5&&V.status==="active");f(H),v(new Date().toLocaleTimeString())}),[]);const x=[{time:"2 hours ago",event:"Cyclone warning issued for your area",type:"warning",icon:d.jsx(js,{className:"w-4 h-4"})},{time:"1 day ago",event:"Your hazard report was verified",type:"success",icon:d.jsx(Xu,{className:"w-4 h-4"})},{time:"2 days ago",event:"Emergency drill notification sent",type:"info",icon:d.jsx(Eg,{className:"w-4 h-4"})}];return d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Welcome back, ",(n==null?void 0:n.name)||"Citizen"]}),d.jsx("p",{className:"text-gray-600 mt-2",children:"Stay informed about ocean hazards in your area"}),d.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[d.jsx(Xr,{className:"w-4 h-4 text-green-500"}),d.jsx("span",{className:"text-sm text-green-600",children:"System Active"}),d.jsxs("span",{className:"text-sm text-gray-500",children:["• Last updated ",y]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:"text-sm text-gray-500",children:"Your Location"}),d.jsx("div",{className:"text-lg font-semibold text-gray-900",children:"Mumbai, Maharashtra"})]})]})}),c.length>0&&d.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(js,{className:"w-6 h-6 text-orange-600"}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-semibold text-orange-800",children:[c.length," Active Alert",c.length>1?"s":""," Near You"]}),d.jsxs("p",{className:"text-orange-700",children:[(w=c[0])==null?void 0:w.title," - Stay alert and follow safety guidelines"]})]}),d.jsx("button",{className:"btn-primary",children:"View Details"})]})}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Active Alerts"}),d.jsx(js,{className:"w-5 h-5 text-red-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:s.active||0}),d.jsx("p",{className:"text-gray-500 text-sm",children:"In your region"})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Reports Today"}),d.jsx(lf,{className:"w-5 h-5 text-blue-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:s.today||0}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Across all regions"})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Emergency Contacts"}),d.jsx(al,{className:"w-5 h-5 text-green-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"3"}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Available 24/7"})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Community"}),d.jsx(ul,{className:"w-5 h-5 text-purple-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:"1.2k"}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Active volunteers"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4 sm:gap-6",children:[d.jsxs("div",{className:"card",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Quick Actions"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("button",{className:"w-full btn-primary flex items-center justify-center space-x-3 py-4",children:[d.jsx(lf,{className:"w-5 h-5"}),d.jsx("span",{children:"Report Ocean Hazard"})]}),d.jsxs("button",{className:"w-full btn-secondary flex items-center justify-center space-x-3 py-4",children:[d.jsx(yo,{className:"w-5 h-5"}),d.jsx("span",{children:"View Hazard Map"})]}),d.jsxs("button",{className:"w-full btn-secondary flex items-center justify-center space-x-3 py-4",children:[d.jsx(ul,{className:"w-5 h-5"}),d.jsx("span",{children:"Join as Volunteer"})]}),d.jsxs("button",{className:"w-full btn-secondary flex items-center justify-center space-x-3 py-4",children:[d.jsx(i1,{className:"w-5 h-5"}),d.jsx("span",{children:"Support Relief Efforts"})]})]})]}),d.jsxs("div",{className:"card",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Recent Activity"}),d.jsx("div",{className:"space-y-4",children:x.map((A,R)=>d.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg bg-gray-50",children:[d.jsx("div",{className:`p-1 rounded-full ${A.type==="info"?"bg-blue-100 text-blue-600":A.type==="warning"?"bg-orange-100 text-orange-600":"bg-green-100 text-green-600"}`,children:A.icon}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-gray-900 text-sm font-medium",children:A.event}),d.jsx("p",{className:"text-gray-500 text-xs mt-1",children:A.time})]})]},R))}),d.jsx("button",{className:"w-full mt-4 text-blue-600 text-sm font-medium hover:text-blue-700",children:"View All Activity"})]}),d.jsxs("div",{className:"card",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Emergency Contacts"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-semibold text-red-800",children:"Coast Guard"}),d.jsx("div",{className:"text-sm text-red-600",children:"Emergency Response"})]}),d.jsx("button",{className:"btn-primary bg-red-600 hover:bg-red-700",children:d.jsx(al,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-semibold text-blue-800",children:"Disaster Management"}),d.jsx("div",{className:"text-sm text-blue-600",children:"State Authority"})]}),d.jsx("button",{className:"btn-primary bg-blue-600 hover:bg-blue-700",children:d.jsx(al,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-semibold text-green-800",children:"Local Police"}),d.jsx("div",{className:"text-sm text-green-600",children:"Area Station"})]}),d.jsx("button",{className:"btn-primary bg-green-600 hover:bg-green-700",children:d.jsx(al,{className:"w-4 h-4"})})]})]})]})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Nearby Hazards"}),d.jsx("button",{className:"btn-secondary",children:"View Full Map"})]}),d.jsx("div",{className:"h-80",children:d.jsx(hh,{height:"320px",showControls:!1})})]})]})};function l1(n,e){return function(){return n.apply(e,arguments)}}const{toString:RC}=Object.prototype,{getPrototypeOf:gy}=Object,{iterator:Ff,toStringTag:c1}=Symbol,qf=(n=>e=>{const t=RC.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ks=n=>(n=n.toLowerCase(),e=>qf(e)===n),Gf=n=>e=>typeof e===n,{isArray:Dc}=Array,Ec=Gf("undefined");function dh(n){return n!==null&&!Ec(n)&&n.constructor!==null&&!Ec(n.constructor)&&vi(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const u1=ks("ArrayBuffer");function CC(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&u1(n.buffer),e}const IC=Gf("string"),vi=Gf("function"),h1=Gf("number"),fh=n=>n!==null&&typeof n=="object",jC=n=>n===!0||n===!1,qd=n=>{if(qf(n)!=="object")return!1;const e=gy(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(c1 in n)&&!(Ff in n)},MC=n=>{if(!fh(n)||dh(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},PC=ks("Date"),OC=ks("File"),kC=ks("Blob"),DC=ks("FileList"),LC=n=>fh(n)&&vi(n.pipe),VC=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||vi(n.append)&&((e=qf(n))==="formdata"||e==="object"&&vi(n.toString)&&n.toString()==="[object FormData]"))},zC=ks("URLSearchParams"),[UC,BC,HC,FC]=["ReadableStream","Request","Response","Headers"].map(ks),qC=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function mh(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let s,o;if(typeof n!="object"&&(n=[n]),Dc(n))for(s=0,o=n.length;s<o;s++)e.call(null,n[s],s,n);else{if(dh(n))return;const c=t?Object.getOwnPropertyNames(n):Object.keys(n),f=c.length;let y;for(s=0;s<f;s++)y=c[s],e.call(null,n[y],y,n)}}function d1(n,e){if(dh(n))return null;e=e.toLowerCase();const t=Object.keys(n);let s=t.length,o;for(;s-- >0;)if(o=t[s],e===o.toLowerCase())return o;return null}const ol=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,f1=n=>!Ec(n)&&n!==ol;function Ng(){const{caseless:n,skipUndefined:e}=f1(this)&&this||{},t={},s=(o,c)=>{const f=n&&d1(t,c)||c;qd(t[f])&&qd(o)?t[f]=Ng(t[f],o):qd(o)?t[f]=Ng({},o):Dc(o)?t[f]=o.slice():(!e||!Ec(o))&&(t[f]=o)};for(let o=0,c=arguments.length;o<c;o++)arguments[o]&&mh(arguments[o],s);return t}const GC=(n,e,t,{allOwnKeys:s}={})=>(mh(e,(o,c)=>{t&&vi(o)?n[c]=l1(o,t):n[c]=o},{allOwnKeys:s}),n),$C=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),ZC=(n,e,t,s)=>{n.prototype=Object.create(e.prototype,s),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},KC=(n,e,t,s)=>{let o,c,f;const y={};if(e=e||{},n==null)return e;do{for(o=Object.getOwnPropertyNames(n),c=o.length;c-- >0;)f=o[c],(!s||s(f,n,e))&&!y[f]&&(e[f]=n[f],y[f]=!0);n=t!==!1&&gy(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},YC=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const s=n.indexOf(e,t);return s!==-1&&s===t},WC=n=>{if(!n)return null;if(Dc(n))return n;let e=n.length;if(!h1(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},QC=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&gy(Uint8Array)),XC=(n,e)=>{const s=(n&&n[Ff]).call(n);let o;for(;(o=s.next())&&!o.done;){const c=o.value;e.call(n,c[0],c[1])}},JC=(n,e)=>{let t;const s=[];for(;(t=n.exec(e))!==null;)s.push(t);return s},eI=ks("HTMLFormElement"),tI=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,o){return s.toUpperCase()+o}),Rx=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),nI=ks("RegExp"),m1=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),s={};mh(t,(o,c)=>{let f;(f=e(o,c,n))!==!1&&(s[c]=f||o)}),Object.defineProperties(n,s)},iI=n=>{m1(n,(e,t)=>{if(vi(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const s=n[t];if(vi(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},sI=(n,e)=>{const t={},s=o=>{o.forEach(c=>{t[c]=!0})};return Dc(n)?s(n):s(String(n).split(e)),t},rI=()=>{},aI=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function oI(n){return!!(n&&vi(n.append)&&n[c1]==="FormData"&&n[Ff])}const lI=n=>{const e=new Array(10),t=(s,o)=>{if(fh(s)){if(e.indexOf(s)>=0)return;if(dh(s))return s;if(!("toJSON"in s)){e[o]=s;const c=Dc(s)?[]:{};return mh(s,(f,y)=>{const v=t(f,o+1);!Ec(v)&&(c[y]=v)}),e[o]=void 0,c}}return s};return t(n,0)},cI=ks("AsyncFunction"),uI=n=>n&&(fh(n)||vi(n))&&vi(n.then)&&vi(n.catch),p1=((n,e)=>n?setImmediate:e?((t,s)=>(ol.addEventListener("message",({source:o,data:c})=>{o===ol&&c===t&&s.length&&s.shift()()},!1),o=>{s.push(o),ol.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",vi(ol.postMessage)),hI=typeof queueMicrotask<"u"?queueMicrotask.bind(ol):typeof process<"u"&&process.nextTick||p1,dI=n=>n!=null&&vi(n[Ff]),oe={isArray:Dc,isArrayBuffer:u1,isBuffer:dh,isFormData:VC,isArrayBufferView:CC,isString:IC,isNumber:h1,isBoolean:jC,isObject:fh,isPlainObject:qd,isEmptyObject:MC,isReadableStream:UC,isRequest:BC,isResponse:HC,isHeaders:FC,isUndefined:Ec,isDate:PC,isFile:OC,isBlob:kC,isRegExp:nI,isFunction:vi,isStream:LC,isURLSearchParams:zC,isTypedArray:QC,isFileList:DC,forEach:mh,merge:Ng,extend:GC,trim:qC,stripBOM:$C,inherits:ZC,toFlatObject:KC,kindOf:qf,kindOfTest:ks,endsWith:YC,toArray:WC,forEachEntry:XC,matchAll:JC,isHTMLForm:eI,hasOwnProperty:Rx,hasOwnProp:Rx,reduceDescriptors:m1,freezeMethods:iI,toObjectSet:sI,toCamelCase:tI,noop:rI,toFiniteNumber:aI,findKey:d1,global:ol,isContextDefined:f1,isSpecCompliantForm:oI,toJSONObject:lI,isAsyncFn:cI,isThenable:uI,setImmediate:p1,asap:hI,isIterable:dI};function Qe(n,e,t,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),o&&(this.response=o,this.status=o.status?o.status:null)}oe.inherits(Qe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.status}}});const g1=Qe.prototype,y1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{y1[n]={value:n}});Object.defineProperties(Qe,y1);Object.defineProperty(g1,"isAxiosError",{value:!0});Qe.from=(n,e,t,s,o,c)=>{const f=Object.create(g1);oe.toFlatObject(n,f,function(w){return w!==Error.prototype},x=>x!=="isAxiosError");const y=n&&n.message?n.message:"Error",v=e==null&&n?n.code:e;return Qe.call(f,y,v,t,s,o),n&&f.cause==null&&Object.defineProperty(f,"cause",{value:n,configurable:!0}),f.name=n&&n.name||"Error",c&&Object.assign(f,c),f};const fI=null;function Rg(n){return oe.isPlainObject(n)||oe.isArray(n)}function _1(n){return oe.endsWith(n,"[]")?n.slice(0,-2):n}function Cx(n,e,t){return n?n.concat(e).map(function(o,c){return o=_1(o),!t&&c?"["+o+"]":o}).join(t?".":""):e}function mI(n){return oe.isArray(n)&&!n.some(Rg)}const pI=oe.toFlatObject(oe,{},null,function(e){return/^is[A-Z]/.test(e)});function $f(n,e,t){if(!oe.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=oe.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(H,V){return!oe.isUndefined(V[H])});const s=t.metaTokens,o=t.visitor||w,c=t.dots,f=t.indexes,v=(t.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(e);if(!oe.isFunction(o))throw new TypeError("visitor must be a function");function x(M){if(M===null)return"";if(oe.isDate(M))return M.toISOString();if(oe.isBoolean(M))return M.toString();if(!v&&oe.isBlob(M))throw new Qe("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(M)||oe.isTypedArray(M)?v&&typeof Blob=="function"?new Blob([M]):Buffer.from(M):M}function w(M,H,V){let ce=M;if(M&&!V&&typeof M=="object"){if(oe.endsWith(H,"{}"))H=s?H:H.slice(0,-2),M=JSON.stringify(M);else if(oe.isArray(M)&&mI(M)||(oe.isFileList(M)||oe.endsWith(H,"[]"))&&(ce=oe.toArray(M)))return H=_1(H),ce.forEach(function(W,ve){!(oe.isUndefined(W)||W===null)&&e.append(f===!0?Cx([H],ve,c):f===null?H:H+"[]",x(W))}),!1}return Rg(M)?!0:(e.append(Cx(V,H,c),x(M)),!1)}const A=[],R=Object.assign(pI,{defaultVisitor:w,convertValue:x,isVisitable:Rg});function P(M,H){if(!oe.isUndefined(M)){if(A.indexOf(M)!==-1)throw Error("Circular reference detected in "+H.join("."));A.push(M),oe.forEach(M,function(ce,G){(!(oe.isUndefined(ce)||ce===null)&&o.call(e,ce,oe.isString(G)?G.trim():G,H,R))===!0&&P(ce,H?H.concat(G):[G])}),A.pop()}}if(!oe.isObject(n))throw new TypeError("data must be an object");return P(n),e}function Ix(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function yy(n,e){this._pairs=[],n&&$f(n,this,e)}const v1=yy.prototype;v1.append=function(e,t){this._pairs.push([e,t])};v1.toString=function(e){const t=e?function(s){return e.call(this,s,Ix)}:Ix;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function gI(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function x1(n,e,t){if(!e)return n;const s=t&&t.encode||gI;oe.isFunction(t)&&(t={serialize:t});const o=t&&t.serialize;let c;if(o?c=o(e,t):c=oe.isURLSearchParams(e)?e.toString():new yy(e,t).toString(s),c){const f=n.indexOf("#");f!==-1&&(n=n.slice(0,f)),n+=(n.indexOf("?")===-1?"?":"&")+c}return n}class jx{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){oe.forEach(this.handlers,function(s){s!==null&&e(s)})}}const b1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},yI=typeof URLSearchParams<"u"?URLSearchParams:yy,_I=typeof FormData<"u"?FormData:null,vI=typeof Blob<"u"?Blob:null,xI={isBrowser:!0,classes:{URLSearchParams:yI,FormData:_I,Blob:vI},protocols:["http","https","file","blob","url","data"]},_y=typeof window<"u"&&typeof document<"u",Cg=typeof navigator=="object"&&navigator||void 0,bI=_y&&(!Cg||["ReactNative","NativeScript","NS"].indexOf(Cg.product)<0),wI=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",TI=_y&&window.location.href||"http://localhost",EI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:_y,hasStandardBrowserEnv:bI,hasStandardBrowserWebWorkerEnv:wI,navigator:Cg,origin:TI},Symbol.toStringTag,{value:"Module"})),Bn={...EI,...xI};function SI(n,e){return $f(n,new Bn.classes.URLSearchParams,{visitor:function(t,s,o,c){return Bn.isNode&&oe.isBuffer(t)?(this.append(s,t.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)},...e})}function AI(n){return oe.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function NI(n){const e={},t=Object.keys(n);let s;const o=t.length;let c;for(s=0;s<o;s++)c=t[s],e[c]=n[c];return e}function w1(n){function e(t,s,o,c){let f=t[c++];if(f==="__proto__")return!0;const y=Number.isFinite(+f),v=c>=t.length;return f=!f&&oe.isArray(o)?o.length:f,v?(oe.hasOwnProp(o,f)?o[f]=[o[f],s]:o[f]=s,!y):((!o[f]||!oe.isObject(o[f]))&&(o[f]=[]),e(t,s,o[f],c)&&oe.isArray(o[f])&&(o[f]=NI(o[f])),!y)}if(oe.isFormData(n)&&oe.isFunction(n.entries)){const t={};return oe.forEachEntry(n,(s,o)=>{e(AI(s),o,t,0)}),t}return null}function RI(n,e,t){if(oe.isString(n))try{return(e||JSON.parse)(n),oe.trim(n)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(n)}const ph={transitional:b1,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",o=s.indexOf("application/json")>-1,c=oe.isObject(e);if(c&&oe.isHTMLForm(e)&&(e=new FormData(e)),oe.isFormData(e))return o?JSON.stringify(w1(e)):e;if(oe.isArrayBuffer(e)||oe.isBuffer(e)||oe.isStream(e)||oe.isFile(e)||oe.isBlob(e)||oe.isReadableStream(e))return e;if(oe.isArrayBufferView(e))return e.buffer;if(oe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let y;if(c){if(s.indexOf("application/x-www-form-urlencoded")>-1)return SI(e,this.formSerializer).toString();if((y=oe.isFileList(e))||s.indexOf("multipart/form-data")>-1){const v=this.env&&this.env.FormData;return $f(y?{"files[]":e}:e,v&&new v,this.formSerializer)}}return c||o?(t.setContentType("application/json",!1),RI(e)):e}],transformResponse:[function(e){const t=this.transitional||ph.transitional,s=t&&t.forcedJSONParsing,o=this.responseType==="json";if(oe.isResponse(e)||oe.isReadableStream(e))return e;if(e&&oe.isString(e)&&(s&&!this.responseType||o)){const f=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e,this.parseReviver)}catch(y){if(f)throw y.name==="SyntaxError"?Qe.from(y,Qe.ERR_BAD_RESPONSE,this,null,this.response):y}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Bn.classes.FormData,Blob:Bn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],n=>{ph.headers[n]={}});const CI=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),II=n=>{const e={};let t,s,o;return n&&n.split(`
`).forEach(function(f){o=f.indexOf(":"),t=f.substring(0,o).trim().toLowerCase(),s=f.substring(o+1).trim(),!(!t||e[t]&&CI[t])&&(t==="set-cookie"?e[t]?e[t].push(s):e[t]=[s]:e[t]=e[t]?e[t]+", "+s:s)}),e},Mx=Symbol("internals");function ku(n){return n&&String(n).trim().toLowerCase()}function Gd(n){return n===!1||n==null?n:oe.isArray(n)?n.map(Gd):String(n)}function jI(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=t.exec(n);)e[s[1]]=s[2];return e}const MI=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function eg(n,e,t,s,o){if(oe.isFunction(s))return s.call(this,e,t);if(o&&(e=t),!!oe.isString(e)){if(oe.isString(s))return e.indexOf(s)!==-1;if(oe.isRegExp(s))return s.test(e)}}function PI(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}function OI(n,e){const t=oe.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(n,s+t,{value:function(o,c,f){return this[s].call(this,e,o,c,f)},configurable:!0})})}let xi=class{constructor(e){e&&this.set(e)}set(e,t,s){const o=this;function c(y,v,x){const w=ku(v);if(!w)throw new Error("header name must be a non-empty string");const A=oe.findKey(o,w);(!A||o[A]===void 0||x===!0||x===void 0&&o[A]!==!1)&&(o[A||v]=Gd(y))}const f=(y,v)=>oe.forEach(y,(x,w)=>c(x,w,v));if(oe.isPlainObject(e)||e instanceof this.constructor)f(e,t);else if(oe.isString(e)&&(e=e.trim())&&!MI(e))f(II(e),t);else if(oe.isObject(e)&&oe.isIterable(e)){let y={},v,x;for(const w of e){if(!oe.isArray(w))throw TypeError("Object iterator must return a key-value pair");y[x=w[0]]=(v=y[x])?oe.isArray(v)?[...v,w[1]]:[v,w[1]]:w[1]}f(y,t)}else e!=null&&c(t,e,s);return this}get(e,t){if(e=ku(e),e){const s=oe.findKey(this,e);if(s){const o=this[s];if(!t)return o;if(t===!0)return jI(o);if(oe.isFunction(t))return t.call(this,o,s);if(oe.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ku(e),e){const s=oe.findKey(this,e);return!!(s&&this[s]!==void 0&&(!t||eg(this,this[s],s,t)))}return!1}delete(e,t){const s=this;let o=!1;function c(f){if(f=ku(f),f){const y=oe.findKey(s,f);y&&(!t||eg(s,s[y],y,t))&&(delete s[y],o=!0)}}return oe.isArray(e)?e.forEach(c):c(e),o}clear(e){const t=Object.keys(this);let s=t.length,o=!1;for(;s--;){const c=t[s];(!e||eg(this,this[c],c,e,!0))&&(delete this[c],o=!0)}return o}normalize(e){const t=this,s={};return oe.forEach(this,(o,c)=>{const f=oe.findKey(s,c);if(f){t[f]=Gd(o),delete t[c];return}const y=e?PI(c):String(c).trim();y!==c&&delete t[c],t[y]=Gd(o),s[y]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return oe.forEach(this,(s,o)=>{s!=null&&s!==!1&&(t[o]=e&&oe.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(o=>s.set(o)),s}static accessor(e){const s=(this[Mx]=this[Mx]={accessors:{}}).accessors,o=this.prototype;function c(f){const y=ku(f);s[y]||(OI(o,f),s[y]=!0)}return oe.isArray(e)?e.forEach(c):c(e),this}};xi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(xi.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(s){this[t]=s}}});oe.freezeMethods(xi);function tg(n,e){const t=this||ph,s=e||t,o=xi.from(s.headers);let c=s.data;return oe.forEach(n,function(y){c=y.call(t,c,o.normalize(),e?e.status:void 0)}),o.normalize(),c}function T1(n){return!!(n&&n.__CANCEL__)}function Lc(n,e,t){Qe.call(this,n??"canceled",Qe.ERR_CANCELED,e,t),this.name="CanceledError"}oe.inherits(Lc,Qe,{__CANCEL__:!0});function E1(n,e,t){const s=t.config.validateStatus;!t.status||!s||s(t.status)?n(t):e(new Qe("Request failed with status code "+t.status,[Qe.ERR_BAD_REQUEST,Qe.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function kI(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function DI(n,e){n=n||10;const t=new Array(n),s=new Array(n);let o=0,c=0,f;return e=e!==void 0?e:1e3,function(v){const x=Date.now(),w=s[c];f||(f=x),t[o]=v,s[o]=x;let A=c,R=0;for(;A!==o;)R+=t[A++],A=A%n;if(o=(o+1)%n,o===c&&(c=(c+1)%n),x-f<e)return;const P=w&&x-w;return P?Math.round(R*1e3/P):void 0}}function LI(n,e){let t=0,s=1e3/e,o,c;const f=(x,w=Date.now())=>{t=w,o=null,c&&(clearTimeout(c),c=null),n(...x)};return[(...x)=>{const w=Date.now(),A=w-t;A>=s?f(x,w):(o=x,c||(c=setTimeout(()=>{c=null,f(o)},s-A)))},()=>o&&f(o)]}const hf=(n,e,t=3)=>{let s=0;const o=DI(50,250);return LI(c=>{const f=c.loaded,y=c.lengthComputable?c.total:void 0,v=f-s,x=o(v),w=f<=y;s=f;const A={loaded:f,total:y,progress:y?f/y:void 0,bytes:v,rate:x||void 0,estimated:x&&y&&w?(y-f)/x:void 0,event:c,lengthComputable:y!=null,[e?"download":"upload"]:!0};n(A)},t)},Px=(n,e)=>{const t=n!=null;return[s=>e[0]({lengthComputable:t,total:n,loaded:s}),e[1]]},Ox=n=>(...e)=>oe.asap(()=>n(...e)),VI=Bn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Bn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Bn.origin),Bn.navigator&&/(msie|trident)/i.test(Bn.navigator.userAgent)):()=>!0,zI=Bn.hasStandardBrowserEnv?{write(n,e,t,s,o,c){const f=[n+"="+encodeURIComponent(e)];oe.isNumber(t)&&f.push("expires="+new Date(t).toGMTString()),oe.isString(s)&&f.push("path="+s),oe.isString(o)&&f.push("domain="+o),c===!0&&f.push("secure"),document.cookie=f.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function UI(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function BI(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function S1(n,e,t){let s=!UI(e);return n&&(s||t==!1)?BI(n,e):e}const kx=n=>n instanceof xi?{...n}:n;function pl(n,e){e=e||{};const t={};function s(x,w,A,R){return oe.isPlainObject(x)&&oe.isPlainObject(w)?oe.merge.call({caseless:R},x,w):oe.isPlainObject(w)?oe.merge({},w):oe.isArray(w)?w.slice():w}function o(x,w,A,R){if(oe.isUndefined(w)){if(!oe.isUndefined(x))return s(void 0,x,A,R)}else return s(x,w,A,R)}function c(x,w){if(!oe.isUndefined(w))return s(void 0,w)}function f(x,w){if(oe.isUndefined(w)){if(!oe.isUndefined(x))return s(void 0,x)}else return s(void 0,w)}function y(x,w,A){if(A in e)return s(x,w);if(A in n)return s(void 0,x)}const v={url:c,method:c,data:c,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:y,headers:(x,w,A)=>o(kx(x),kx(w),A,!0)};return oe.forEach(Object.keys({...n,...e}),function(w){const A=v[w]||o,R=A(n[w],e[w],w);oe.isUndefined(R)&&A!==y||(t[w]=R)}),t}const A1=n=>{const e=pl({},n);let{data:t,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:c,headers:f,auth:y}=e;if(e.headers=f=xi.from(f),e.url=x1(S1(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),y&&f.set("Authorization","Basic "+btoa((y.username||"")+":"+(y.password?unescape(encodeURIComponent(y.password)):""))),oe.isFormData(t)){if(Bn.hasStandardBrowserEnv||Bn.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if(oe.isFunction(t.getHeaders)){const v=t.getHeaders(),x=["content-type","content-length"];Object.entries(v).forEach(([w,A])=>{x.includes(w.toLowerCase())&&f.set(w,A)})}}if(Bn.hasStandardBrowserEnv&&(s&&oe.isFunction(s)&&(s=s(e)),s||s!==!1&&VI(e.url))){const v=o&&c&&zI.read(c);v&&f.set(o,v)}return e},HI=typeof XMLHttpRequest<"u",FI=HI&&function(n){return new Promise(function(t,s){const o=A1(n);let c=o.data;const f=xi.from(o.headers).normalize();let{responseType:y,onUploadProgress:v,onDownloadProgress:x}=o,w,A,R,P,M;function H(){P&&P(),M&&M(),o.cancelToken&&o.cancelToken.unsubscribe(w),o.signal&&o.signal.removeEventListener("abort",w)}let V=new XMLHttpRequest;V.open(o.method.toUpperCase(),o.url,!0),V.timeout=o.timeout;function ce(){if(!V)return;const W=xi.from("getAllResponseHeaders"in V&&V.getAllResponseHeaders()),le={data:!y||y==="text"||y==="json"?V.responseText:V.response,status:V.status,statusText:V.statusText,headers:W,config:n,request:V};E1(function(q){t(q),H()},function(q){s(q),H()},le),V=null}"onloadend"in V?V.onloadend=ce:V.onreadystatechange=function(){!V||V.readyState!==4||V.status===0&&!(V.responseURL&&V.responseURL.indexOf("file:")===0)||setTimeout(ce)},V.onabort=function(){V&&(s(new Qe("Request aborted",Qe.ECONNABORTED,n,V)),V=null)},V.onerror=function(ve){const le=ve&&ve.message?ve.message:"Network Error",xe=new Qe(le,Qe.ERR_NETWORK,n,V);xe.event=ve||null,s(xe),V=null},V.ontimeout=function(){let ve=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const le=o.transitional||b1;o.timeoutErrorMessage&&(ve=o.timeoutErrorMessage),s(new Qe(ve,le.clarifyTimeoutError?Qe.ETIMEDOUT:Qe.ECONNABORTED,n,V)),V=null},c===void 0&&f.setContentType(null),"setRequestHeader"in V&&oe.forEach(f.toJSON(),function(ve,le){V.setRequestHeader(le,ve)}),oe.isUndefined(o.withCredentials)||(V.withCredentials=!!o.withCredentials),y&&y!=="json"&&(V.responseType=o.responseType),x&&([R,M]=hf(x,!0),V.addEventListener("progress",R)),v&&V.upload&&([A,P]=hf(v),V.upload.addEventListener("progress",A),V.upload.addEventListener("loadend",P)),(o.cancelToken||o.signal)&&(w=W=>{V&&(s(!W||W.type?new Lc(null,n,V):W),V.abort(),V=null)},o.cancelToken&&o.cancelToken.subscribe(w),o.signal&&(o.signal.aborted?w():o.signal.addEventListener("abort",w)));const G=kI(o.url);if(G&&Bn.protocols.indexOf(G)===-1){s(new Qe("Unsupported protocol "+G+":",Qe.ERR_BAD_REQUEST,n));return}V.send(c||null)})},qI=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let s=new AbortController,o;const c=function(x){if(!o){o=!0,y();const w=x instanceof Error?x:this.reason;s.abort(w instanceof Qe?w:new Lc(w instanceof Error?w.message:w))}};let f=e&&setTimeout(()=>{f=null,c(new Qe(`timeout ${e} of ms exceeded`,Qe.ETIMEDOUT))},e);const y=()=>{n&&(f&&clearTimeout(f),f=null,n.forEach(x=>{x.unsubscribe?x.unsubscribe(c):x.removeEventListener("abort",c)}),n=null)};n.forEach(x=>x.addEventListener("abort",c));const{signal:v}=s;return v.unsubscribe=()=>oe.asap(y),v}},GI=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let s=0,o;for(;s<t;)o=s+e,yield n.slice(s,o),s=o},$I=async function*(n,e){for await(const t of ZI(n))yield*GI(t,e)},ZI=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:s}=await e.read();if(t)break;yield s}}finally{await e.cancel()}},Dx=(n,e,t,s)=>{const o=$I(n,e);let c=0,f,y=v=>{f||(f=!0,s&&s(v))};return new ReadableStream({async pull(v){try{const{done:x,value:w}=await o.next();if(x){y(),v.close();return}let A=w.byteLength;if(t){let R=c+=A;t(R)}v.enqueue(new Uint8Array(w))}catch(x){throw y(x),x}},cancel(v){return y(v),o.return()}},{highWaterMark:2})},Lx=64*1024,{isFunction:jd}=oe,KI=(({Request:n,Response:e})=>({Request:n,Response:e}))(oe.global),{ReadableStream:Vx,TextEncoder:zx}=oe.global,Ux=(n,...e)=>{try{return!!n(...e)}catch{return!1}},YI=n=>{n=oe.merge.call({skipUndefined:!0},KI,n);const{fetch:e,Request:t,Response:s}=n,o=e?jd(e):typeof fetch=="function",c=jd(t),f=jd(s);if(!o)return!1;const y=o&&jd(Vx),v=o&&(typeof zx=="function"?(M=>H=>M.encode(H))(new zx):async M=>new Uint8Array(await new t(M).arrayBuffer())),x=c&&y&&Ux(()=>{let M=!1;const H=new t(Bn.origin,{body:new Vx,method:"POST",get duplex(){return M=!0,"half"}}).headers.has("Content-Type");return M&&!H}),w=f&&y&&Ux(()=>oe.isReadableStream(new s("").body)),A={stream:w&&(M=>M.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(M=>{!A[M]&&(A[M]=(H,V)=>{let ce=H&&H[M];if(ce)return ce.call(H);throw new Qe(`Response type '${M}' is not supported`,Qe.ERR_NOT_SUPPORT,V)})});const R=async M=>{if(M==null)return 0;if(oe.isBlob(M))return M.size;if(oe.isSpecCompliantForm(M))return(await new t(Bn.origin,{method:"POST",body:M}).arrayBuffer()).byteLength;if(oe.isArrayBufferView(M)||oe.isArrayBuffer(M))return M.byteLength;if(oe.isURLSearchParams(M)&&(M=M+""),oe.isString(M))return(await v(M)).byteLength},P=async(M,H)=>{const V=oe.toFiniteNumber(M.getContentLength());return V??R(H)};return async M=>{let{url:H,method:V,data:ce,signal:G,cancelToken:W,timeout:ve,onDownloadProgress:le,onUploadProgress:xe,responseType:q,headers:O,withCredentials:D="same-origin",fetchOptions:Z}=A1(M),$=e||fetch;q=q?(q+"").toLowerCase():"text";let Y=qI([G,W&&W.toAbortSignal()],ve),z=null;const _e=Y&&Y.unsubscribe&&(()=>{Y.unsubscribe()});let qe;try{if(xe&&x&&V!=="get"&&V!=="head"&&(qe=await P(O,ce))!==0){let ue=new t(H,{method:"POST",body:ce,duplex:"half"}),we;if(oe.isFormData(ce)&&(we=ue.headers.get("content-type"))&&O.setContentType(we),ue.body){const[be,Ae]=Px(qe,hf(Ox(xe)));ce=Dx(ue.body,Lx,be,Ae)}}oe.isString(D)||(D=D?"include":"omit");const se=c&&"credentials"in t.prototype,Se={...Z,signal:Y,method:V.toUpperCase(),headers:O.normalize().toJSON(),body:ce,duplex:"half",credentials:se?D:void 0};z=c&&new t(H,Se);let ye=await(c?$(z,Z):$(H,Se));const et=w&&(q==="stream"||q==="response");if(w&&(le||et&&_e)){const ue={};["status","statusText","headers"].forEach(Ie=>{ue[Ie]=ye[Ie]});const we=oe.toFiniteNumber(ye.headers.get("content-length")),[be,Ae]=le&&Px(we,hf(Ox(le),!0))||[];ye=new s(Dx(ye.body,Lx,be,()=>{Ae&&Ae(),_e&&_e()}),ue)}q=q||"text";let k=await A[oe.findKey(A,q)||"text"](ye,M);return!et&&_e&&_e(),await new Promise((ue,we)=>{E1(ue,we,{data:k,headers:xi.from(ye.headers),status:ye.status,statusText:ye.statusText,config:M,request:z})})}catch(se){throw _e&&_e(),se&&se.name==="TypeError"&&/Load failed|fetch/i.test(se.message)?Object.assign(new Qe("Network Error",Qe.ERR_NETWORK,M,z),{cause:se.cause||se}):Qe.from(se,se&&se.code,M,z)}}},WI=new Map,N1=n=>{let e=n?n.env:{};const{fetch:t,Request:s,Response:o}=e,c=[s,o,t];let f=c.length,y=f,v,x,w=WI;for(;y--;)v=c[y],x=w.get(v),x===void 0&&w.set(v,x=y?new Map:YI(e)),w=x;return x};N1();const Ig={http:fI,xhr:FI,fetch:{get:N1}};oe.forEach(Ig,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const Bx=n=>`- ${n}`,QI=n=>oe.isFunction(n)||n===null||n===!1,R1={getAdapter:(n,e)=>{n=oe.isArray(n)?n:[n];const{length:t}=n;let s,o;const c={};for(let f=0;f<t;f++){s=n[f];let y;if(o=s,!QI(s)&&(o=Ig[(y=String(s)).toLowerCase()],o===void 0))throw new Qe(`Unknown adapter '${y}'`);if(o&&(oe.isFunction(o)||(o=o.get(e))))break;c[y||"#"+f]=o}if(!o){const f=Object.entries(c).map(([v,x])=>`adapter ${v} `+(x===!1?"is not supported by the environment":"is not available in the build"));let y=t?f.length>1?`since :
`+f.map(Bx).join(`
`):" "+Bx(f[0]):"as no adapter specified";throw new Qe("There is no suitable adapter to dispatch the request "+y,"ERR_NOT_SUPPORT")}return o},adapters:Ig};function ng(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Lc(null,n)}function Hx(n){return ng(n),n.headers=xi.from(n.headers),n.data=tg.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),R1.getAdapter(n.adapter||ph.adapter,n)(n).then(function(s){return ng(n),s.data=tg.call(n,n.transformResponse,s),s.headers=xi.from(s.headers),s},function(s){return T1(s)||(ng(n),s&&s.response&&(s.response.data=tg.call(n,n.transformResponse,s.response),s.response.headers=xi.from(s.response.headers))),Promise.reject(s)})}const C1="1.12.2",Zf={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Zf[n]=function(s){return typeof s===n||"a"+(e<1?"n ":" ")+n}});const Fx={};Zf.transitional=function(e,t,s){function o(c,f){return"[Axios v"+C1+"] Transitional option '"+c+"'"+f+(s?". "+s:"")}return(c,f,y)=>{if(e===!1)throw new Qe(o(f," has been removed"+(t?" in "+t:"")),Qe.ERR_DEPRECATED);return t&&!Fx[f]&&(Fx[f]=!0,console.warn(o(f," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(c,f,y):!0}};Zf.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function XI(n,e,t){if(typeof n!="object")throw new Qe("options must be an object",Qe.ERR_BAD_OPTION_VALUE);const s=Object.keys(n);let o=s.length;for(;o-- >0;){const c=s[o],f=e[c];if(f){const y=n[c],v=y===void 0||f(y,c,n);if(v!==!0)throw new Qe("option "+c+" must be "+v,Qe.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Qe("Unknown option "+c,Qe.ERR_BAD_OPTION)}}const $d={assertOptions:XI,validators:Zf},er=$d.validators;let hl=class{constructor(e){this.defaults=e||{},this.interceptors={request:new jx,response:new jx}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const c=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?c&&!String(s.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+c):s.stack=c}catch{}}throw s}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=pl(this.defaults,t);const{transitional:s,paramsSerializer:o,headers:c}=t;s!==void 0&&$d.assertOptions(s,{silentJSONParsing:er.transitional(er.boolean),forcedJSONParsing:er.transitional(er.boolean),clarifyTimeoutError:er.transitional(er.boolean)},!1),o!=null&&(oe.isFunction(o)?t.paramsSerializer={serialize:o}:$d.assertOptions(o,{encode:er.function,serialize:er.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),$d.assertOptions(t,{baseUrl:er.spelling("baseURL"),withXsrfToken:er.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let f=c&&oe.merge(c.common,c[t.method]);c&&oe.forEach(["delete","get","head","post","put","patch","common"],M=>{delete c[M]}),t.headers=xi.concat(f,c);const y=[];let v=!0;this.interceptors.request.forEach(function(H){typeof H.runWhen=="function"&&H.runWhen(t)===!1||(v=v&&H.synchronous,y.unshift(H.fulfilled,H.rejected))});const x=[];this.interceptors.response.forEach(function(H){x.push(H.fulfilled,H.rejected)});let w,A=0,R;if(!v){const M=[Hx.bind(this),void 0];for(M.unshift(...y),M.push(...x),R=M.length,w=Promise.resolve(t);A<R;)w=w.then(M[A++],M[A++]);return w}R=y.length;let P=t;for(;A<R;){const M=y[A++],H=y[A++];try{P=M(P)}catch(V){H.call(this,V);break}}try{w=Hx.call(this,P)}catch(M){return Promise.reject(M)}for(A=0,R=x.length;A<R;)w=w.then(x[A++],x[A++]);return w}getUri(e){e=pl(this.defaults,e);const t=S1(e.baseURL,e.url,e.allowAbsoluteUrls);return x1(t,e.params,e.paramsSerializer)}};oe.forEach(["delete","get","head","options"],function(e){hl.prototype[e]=function(t,s){return this.request(pl(s||{},{method:e,url:t,data:(s||{}).data}))}});oe.forEach(["post","put","patch"],function(e){function t(s){return function(c,f,y){return this.request(pl(y||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:c,data:f}))}}hl.prototype[e]=t(),hl.prototype[e+"Form"]=t(!0)});let JI=class I1{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(c){t=c});const s=this;this.promise.then(o=>{if(!s._listeners)return;let c=s._listeners.length;for(;c-- >0;)s._listeners[c](o);s._listeners=null}),this.promise.then=o=>{let c;const f=new Promise(y=>{s.subscribe(y),c=y}).then(o);return f.cancel=function(){s.unsubscribe(c)},f},e(function(c,f,y){s.reason||(s.reason=new Lc(c,f,y),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=s=>{e.abort(s)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new I1(function(o){e=o}),cancel:e}}};function ej(n){return function(t){return n.apply(null,t)}}function tj(n){return oe.isObject(n)&&n.isAxiosError===!0}const jg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(jg).forEach(([n,e])=>{jg[e]=n});function j1(n){const e=new hl(n),t=l1(hl.prototype.request,e);return oe.extend(t,hl.prototype,e,{allOwnKeys:!0}),oe.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return j1(pl(n,o))},t}const bt=j1(ph);bt.Axios=hl;bt.CanceledError=Lc;bt.CancelToken=JI;bt.isCancel=T1;bt.VERSION=C1;bt.toFormData=$f;bt.AxiosError=Qe;bt.Cancel=bt.CanceledError;bt.all=function(e){return Promise.all(e)};bt.spread=ej;bt.isAxiosError=tj;bt.mergeConfig=pl;bt.AxiosHeaders=xi;bt.formToJSON=n=>w1(oe.isHTMLForm(n)?new FormData(n):n);bt.getAdapter=R1.getAdapter;bt.HttpStatusCode=jg;bt.default=bt;const{Axios:F3,AxiosError:q3,CanceledError:G3,isCancel:$3,CancelToken:Z3,VERSION:K3,all:Y3,Cancel:W3,isAxiosError:Q3,spread:X3,toFormData:J3,AxiosHeaders:eL,HttpStatusCode:tL,formToJSON:nL,getAdapter:iL,mergeConfig:sL}=bt,Wr="/api",nj={getAuthHeaders(){const n=localStorage.getItem("authToken");return n?{Authorization:`Bearer ${n}`}:{}},async getNotifications(n={}){var e,t;try{const s=new URLSearchParams;return Object.keys(n).forEach(c=>{n[c]!==void 0&&n[c]!==null&&s.append(c,n[c])}),(await bt.get(`${Wr}/notifications?${s}`,{headers:this.getAuthHeaders()})).data.notifications||[]}catch(s){throw console.error("Error getting notifications:",s),new Error(((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.error)||"Failed to get notifications")}},async getNotification(n){var e,t;try{return(await bt.get(`${Wr}/notifications/${n}`,{headers:this.getAuthHeaders()})).data.notification}catch(s){throw console.error("Error getting notification:",s),new Error(((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.error)||"Failed to get notification")}},async sendNotification(n){var e,t;try{const s=await bt.post(`${Wr}/notifications`,n,{headers:this.getAuthHeaders()});return{success:!0,message:s.data.message,recipients:s.data.recipients}}catch(s){throw console.error("Error sending notification:",s),new Error(((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.error)||"Failed to send notification")}},async markAsRead(n){var e,t;try{return{success:!0,message:(await bt.put(`${Wr}/notifications/${n}/read`,{},{headers:this.getAuthHeaders()})).data.message}}catch(s){throw console.error("Error marking notification as read:",s),new Error(((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.error)||"Failed to mark notification as read")}},async markAllAsRead(){var n,e;try{return{success:!0,message:(await bt.put(`${Wr}/notifications/read-all`,{},{headers:this.getAuthHeaders()})).data.message}}catch(t){throw console.error("Error marking all notifications as read:",t),new Error(((e=(n=t.response)==null?void 0:n.data)==null?void 0:e.error)||"Failed to mark notifications as read")}},async deleteNotification(n){var e,t;try{return{success:!0,message:(await bt.delete(`${Wr}/notifications/${n}`,{headers:this.getAuthHeaders()})).data.message}}catch(s){throw console.error("Error deleting notification:",s),new Error(((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.error)||"Failed to delete notification")}},async getNotificationStats(){try{return(await bt.get(`${Wr}/notifications/stats`,{headers:this.getAuthHeaders()})).data.stats||{}}catch(n){return console.error("Error getting notification stats:",n),{}}},sendRealTimeNotification(n){const e={duration:n.priority==="critical"?1e4:4e3,position:"top-right"};switch(n.type){case"alert":case"critical":Bi.error(n.message,e);break;case"warning":Bi("⚠️ "+n.message,e);break;case"success":Bi.success(n.message,e);break;default:Bi(n.message,e)}},subscribeToNotifications(n){const e=async()=>{try{const s=await this.getNotifications({unreadOnly:!0});n(s),s.forEach(o=>{o.delivered||this.sendRealTimeNotification(o)})}catch(s){console.error("Error polling notifications:",s)}};e();const t=setInterval(e,3e4);return()=>clearInterval(t)},async sendHazardAlert(n){try{const e={type:"alert",priority:"critical",title:"Ocean Hazard Alert",message:n.message,hazardType:n.hazardType,location:n.location,severity:n.severity,actionRequired:n.actionRequired||"Stay alert and follow safety guidelines",expiresAt:n.expiresAt,broadcastToAll:!0};return e.broadcastToAll?await this.broadcastAlert(e):await this.sendNotification({...e,userId:n.userId})}catch(e){throw console.error("Error sending hazard alert:",e),e}},async broadcastAlert(n){var e,t;try{const s=await bt.post(`${Wr}/notifications/broadcast`,n,{headers:this.getAuthHeaders()});return this.sendRealTimeNotification(n),{success:!0,message:s.data.message}}catch(s){throw console.error("Error broadcasting alert:",s),new Error(((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.error)||"Failed to broadcast alert")}},async generateAutomatedAlerts(){var n,e;try{return(await bt.post(`${Wr}/alerts/generate`,{},{headers:this.getAuthHeaders()})).data}catch(t){throw console.error("Error generating automated alerts:",t),new Error(((e=(n=t.response)==null?void 0:n.data)==null?void 0:e.error)||"Failed to generate automated alerts")}},async getAlertStats(){try{const n=await this.getNotifications(null,{type:"alert",limit:100}),e={total:n.length,critical:0,warning:0,info:0,recent:0},t=Date.now()-1440*60*1e3;return n.forEach(s=>{e[s.priority]=(e[s.priority]||0)+1,new Date(s.timestamp).getTime()>t&&e.recent++}),e}catch(n){return console.error("Error getting alert stats:",n),{total:0,critical:0,warning:0,info:0,recent:0}}}},ij=({user:n})=>{const[e,t]=U.useState([]),[s,o]=U.useState({}),[c,f]=U.useState([]),[y,v]=U.useState(""),[x,w]=U.useState("");U.useEffect(()=>dr.subscribe((H,V)=>{t(H),o(dr.getStatistics());const ce=H.filter(G=>G.status==="active"&&(G.severity==="critical"||G.severity==="high"));f(ce),v(new Date().toLocaleTimeString())}),[]);const A=[{name:"Coast Guard Vessels",available:12,deployed:3,status:"operational"},{name:"Emergency Teams",available:8,deployed:2,status:"operational"},{name:"Medical Units",available:15,deployed:1,status:"operational"},{name:"Evacuation Centers",available:25,deployed:0,status:"standby"}],R=(M,H)=>{console.log(`${H} action for incident:`,M.id)},P=async()=>{if(x.trim()!=="")try{await nj.sendHazardAlert({message:x,hazardType:"general",severity:"critical",location:(n==null?void 0:n.district)||"Mumbai Coastal"}),w("")}catch(M){console.error("Error sending alert:",M)}};return d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Operations Command Center"}),d.jsx("p",{className:"text-gray-600 mt-2",children:"Real-time incident management and resource coordination"}),d.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[d.jsx(Xr,{className:"w-4 h-4 text-green-500"}),d.jsx("span",{className:"text-sm text-green-600",children:"All Systems Operational"}),d.jsxs("span",{className:"text-sm text-gray-500",children:["• Last updated ",y]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:"text-sm text-gray-500",children:"Command Zone"}),d.jsx("div",{className:"text-lg font-semibold text-gray-900",children:(n==null?void 0:n.district)||"Mumbai Coastal"}),d.jsx("div",{className:"text-sm text-gray-600",children:(n==null?void 0:n.state)||"Maharashtra"})]})]})}),c.length>0&&d.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(js,{className:"w-6 h-6 text-red-600"}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-semibold text-red-800",children:[c.length," Critical Incident",c.length>1?"s":""," Requiring Attention"]}),d.jsxs("p",{className:"text-red-700",children:["Immediate response needed for ",c.filter(M=>M.severity==="critical").length," critical situations"]})]}),d.jsx("button",{className:"btn-primary bg-red-600 hover:bg-red-700",children:"Command Response"})]})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Active Incidents"}),d.jsx(js,{className:"w-5 h-5 text-red-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:s.active||0}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Requiring response"})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Critical Alerts"}),d.jsx(Xu,{className:"w-5 h-5 text-orange-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:s.critical||0}),d.jsx("p",{className:"text-gray-500 text-sm",children:"High priority"})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Resources Deployed"}),d.jsx(Sx,{className:"w-5 h-5 text-blue-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"6"}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Teams in field"})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Response Time"}),d.jsx(of,{className:"w-5 h-5 text-green-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"12m"}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Average today"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Active Incidents"}),d.jsx("button",{className:"btn-secondary",children:"View All"})]}),d.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:c.slice(0,5).map(M=>d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[d.jsx("div",{className:"flex items-start justify-between mb-3",children:d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-gray-900",children:M.title}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:M.description}),d.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm",children:[d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${M.severity==="critical"?"bg-red-100 text-red-800":M.severity==="high"?"bg-orange-100 text-orange-800":"bg-yellow-100 text-yellow-800"}`,children:M.severity.toUpperCase()}),d.jsxs("span",{className:"text-gray-500",children:[d.jsx(yo,{className:"w-3 h-3 inline mr-1"}),M.location.district]}),d.jsx("span",{className:"text-gray-500",children:new Date(M.reportedAt).toLocaleTimeString()})]})]})}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{onClick:()=>R(M,"acknowledge"),className:"btn-secondary text-sm px-3 py-1",children:"Acknowledge"}),d.jsx("button",{onClick:()=>R(M,"dispatch"),className:"btn-primary text-sm px-3 py-1",children:"Dispatch Team"}),d.jsx("button",{onClick:()=>R(M,"escalate"),className:"btn-secondary text-sm px-3 py-1 border-orange-300 text-orange-700 hover:bg-orange-50",children:"Escalate"})]})]},M.id))})]}),d.jsxs("div",{className:"card",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Resource Status"}),d.jsx("div",{className:"space-y-4",children:A.map((M,H)=>d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("h4",{className:"font-semibold text-gray-900",children:M.name}),d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${M.status==="operational"?"bg-green-100 text-green-800":M.status==="standby"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:M.status.toUpperCase()})]}),d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsxs("div",{className:"flex space-x-4",children:[d.jsxs("span",{className:"text-green-600",children:[d.jsx(Hf,{className:"w-4 h-4 inline mr-1"}),M.available," Available"]}),d.jsxs("span",{className:"text-blue-600",children:[d.jsx(Xr,{className:"w-4 h-4 inline mr-1"}),M.deployed," Deployed"]})]}),d.jsx("button",{className:"text-blue-600 hover:text-blue-700 font-medium",children:"Manage"})]})]},H))})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"card",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Quick Commands"}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("textarea",{className:"w-full input",placeholder:"Enter alert message...",value:x,onChange:M=>w(M.target.value)}),d.jsxs("button",{onClick:P,className:"w-full btn-primary flex items-center justify-center space-x-3 py-3",children:[d.jsx(js,{className:"w-5 h-5"}),d.jsx("span",{children:"Issue Public Alert"})]}),d.jsxs("button",{className:"w-full btn-secondary flex items-center justify-center space-x-3 py-3",children:[d.jsx(Ex,{className:"w-5 h-5"}),d.jsx("span",{children:"Contact Field Teams"})]}),d.jsxs("button",{className:"w-full btn-secondary flex items-center justify-center space-x-3 py-3",children:[d.jsx(Sx,{className:"w-5 h-5"}),d.jsx("span",{children:"Deploy Resources"})]}),d.jsxs("button",{className:"w-full btn-secondary flex items-center justify-center space-x-3 py-3",children:[d.jsx(lf,{className:"w-5 h-5"}),d.jsx("span",{children:"Generate Report"})]})]})]}),d.jsxs("div",{className:"card",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Communications"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-semibold text-green-800",children:"Coast Guard HQ"}),d.jsx("div",{className:"text-sm text-green-600",children:"Online • Ready"})]}),d.jsx("button",{className:"btn-primary bg-green-600 hover:bg-green-700",children:d.jsx(al,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-semibold text-blue-800",children:"Field Team Alpha"}),d.jsx("div",{className:"text-sm text-blue-600",children:"In transit • ETA 15m"})]}),d.jsx("button",{className:"btn-primary bg-blue-600 hover:bg-blue-700",children:d.jsx(Ex,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-semibold text-purple-800",children:"State Control"}),d.jsx("div",{className:"text-sm text-purple-600",children:"Standby • Monitoring"})]}),d.jsx("button",{className:"btn-primary bg-purple-600 hover:bg-purple-700",children:d.jsx(al,{className:"w-4 h-4"})})]})]})]}),d.jsxs("div",{className:"card",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Situational Awareness"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[d.jsx("div",{className:"font-semibold text-blue-800",children:"Weather Update"}),d.jsx("div",{className:"text-sm text-blue-600 mt-1",children:"Moderate winds expected. Sea conditions: Rough. Visibility: Good"})]}),d.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[d.jsx("div",{className:"font-semibold text-green-800",children:"Traffic Status"}),d.jsx("div",{className:"text-sm text-green-600 mt-1",children:"All evacuation routes clear. Emergency lanes available"})]}),d.jsxs("div",{className:"bg-yellow-50 p-3 rounded-lg",children:[d.jsx("div",{className:"font-semibold text-yellow-800",children:"Public Readiness"}),d.jsx("div",{className:"text-sm text-yellow-600 mt-1",children:"85% evacuation compliance. 3 shelter requests pending"})]})]})]})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Operations Map"}),d.jsx("button",{className:"btn-secondary",children:"Full Screen View"})]}),d.jsx("div",{className:"h-96",children:d.jsx(hh,{height:"384px",showControls:!0})})]})]})};let sj=class{constructor(){this.isGenerating=!1,this.generationInterval=null,this.reportCount=0,this.config={platforms:["twitter","facebook","instagram","youtube"],hazardTypes:["cyclone","tsunami","flood","storm","high_waves","coastal_erosion"],locations:[{name:"Chennai",lat:13.0827,lng:80.2707,radius:.5},{name:"Mumbai",lat:19.076,lng:72.8777,radius:.5},{name:"Kochi",lat:9.9312,lng:76.2673,radius:.5},{name:"Visakhapatnam",lat:17.6868,lng:83.2185,radius:.5},{name:"Goa",lat:15.2993,lng:74.124,radius:.5},{name:"Puducherry",lat:11.9139,lng:79.8145,radius:.5},{name:"Kolkata",lat:22.5726,lng:88.3639,radius:.5},{name:"Thiruvananthapuram",lat:8.5241,lng:76.9366,radius:.5}],authors:["CoastalWatch","WeatherAlert","OceanSafety","MarineGuard","BeachPatrol","StormTracker","TideMonitor","CoastGuardOfficial","FishermanAlert","MarineWeather","CoastalResident","WeatherWatcher2024"]}}generateSyntheticPost(e={}){const{hazardType:t=this.getRandomItem(this.config.hazardTypes),location:s=this.getRandomItem(this.config.locations),platform:o=this.getRandomItem(this.config.platforms),author:c=this.getRandomItem(this.config.authors),severity:f=this.getRandomSeverity(),sentiment:y=this.getRandomSentiment()}=e,v=this.generateCoordinatesInRadius(s.lat,s.lng,s.radius),x=this.generateContent(t,s.name,y,f),w=this.calculateSentimentScore(x,y),A=this.extractKeywords(x,t),R=this.generateEngagement(y,f);return{id:`synthetic_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,platform:o,content:x,author:c,timestamp:new Date(Date.now()-Math.random()*24*60*60*1e3).toISOString(),sentiment:{label:y,score:w},keywords:A,isHazardRelated:!0,location:{name:s.name,lat:v.lat,lng:v.lng},relevanceScore:this.calculateRelevanceScore(A,y,f),engagement:R,isSynthetic:!0,generatedAt:new Date().toISOString(),hazardType:t,severity:f}}generateMultiplePosts(e=5,t={}){const s=[];for(let o=0;o<e;o++)s.push(this.generateSyntheticPost(t));return s}startGeneration(e=5,t=3,s){if(this.isGenerating){console.warn("Synthetic report generation is already running");return}return this.isGenerating=!0,console.log(`Starting synthetic report generation: ${t} posts every ${e} minutes`),this.generationInterval=setInterval(()=>{const o=this.generateMultiplePosts(t);this.reportCount+=o.length,s&&typeof s=="function"&&s(o),console.log(`Generated ${o.length} synthetic reports. Total: ${this.reportCount}`)},e*60*1e3),this.generationInterval}stopGeneration(){this.generationInterval&&(clearInterval(this.generationInterval),this.generationInterval=null),this.isGenerating=!1,console.log(`Stopped synthetic report generation. Total generated: ${this.reportCount}`)}getStatus(){return{isGenerating:this.isGenerating,reportCount:this.reportCount,intervalId:this.generationInterval}}getRandomItem(e){return e[Math.floor(Math.random()*e.length)]}getRandomSeverity(){const e=["low","medium","high","critical"],t=[.3,.4,.2,.1],s=Math.random();let o=0;for(let c=0;c<e.length;c++)if(o+=t[c],s<=o)return e[c];return"medium"}getRandomSentiment(){const e=["positive","neutral","negative"],t=[.1,.3,.6],s=Math.random();let o=0;for(let c=0;c<e.length;c++)if(o+=t[c],s<=o)return e[c];return"negative"}generateCoordinatesInRadius(e,t,s){const o=s/111.32,c=Math.random(),f=Math.random(),y=o*Math.sqrt(c),v=2*Math.PI*f,x=y*Math.cos(v),w=y*Math.sin(v);return{lat:e+w,lng:t+x}}generateContent(e,t,s,o){const c={cyclone:{negative:[`Cyclone warning issued for ${t} coast. Strong winds and heavy rainfall expected. Stay indoors and follow safety guidelines. #CycloneAlert`,`Emergency alert: Cyclone approaching ${t}. Fishermen advised to return to shore immediately. Coastal areas on high alert. #WeatherEmergency`,`Severe cyclonic storm developing near ${t}. Expected to make landfall in next 24 hours. Evacuation preparations underway. #CycloneWarning`],neutral:[`Weather update: Cyclonic conditions developing near ${t}. Monitoring the situation closely. #WeatherUpdate`,`Cyclone watch issued for ${t} coastal region. Residents advised to stay informed. #WeatherAlert`],positive:[`Cyclone threat for ${t} appears to be weakening. Weather conditions improving. #WeatherUpdate`]},tsunami:{negative:[`TSUNAMI WARNING: ${t} coast under threat. Move to higher ground immediately. Emergency services activated. #TsunamiAlert`,`Earthquake detected - Tsunami watch issued for ${t}. Coastal evacuation in progress. #EmergencyAlert`,`URGENT: Tsunami waves approaching ${t}. Height estimated at 3-5 meters. Seek immediate shelter inland. #TsunamiWarning`],neutral:[`Tsunami advisory issued for ${t} following seismic activity. Monitoring wave patterns. #TsunamiWatch`,`Seismic event detected near ${t}. Tsunami evaluation in progress. #EarthquakeAlert`],positive:[`Tsunami threat for ${t} has been cancelled. All clear signal given. #AllClear`]},flood:{negative:[`FLOOD WARNING: ${t} experiencing heavy flooding. Low-lying areas underwater. Emergency response teams deployed. #FloodAlert`,`Flash flood emergency in ${t}. Rivers overflowing, roads impassable. Stay away from water bodies. #WeatherEmergency`,`Coastal flooding reported in ${t}. Storm surge causing significant water rise. Evacuation recommended. #CoastalFlood`],neutral:[`Flood watch issued for ${t} area. Heavy rainfall expected. Monitor local conditions. #WeatherWatch`,`Rising water levels observed in ${t}. Flood preparations advised. #FloodWatch`],positive:[`Flood waters in ${t} are receding. Situation improving gradually. #WeatherUpdate`]},storm:{negative:[`Severe storm warning for ${t}. Gale force winds and heavy rain expected. Secure loose objects and stay indoors. #StormAlert`,`Dangerous storm conditions in ${t}. Power outages reported, fallen trees blocking roads. Emergency services responding. #StormWarning`,`Storm emergency: ${t} under attack from severe weather. Lightning strikes and strong winds causing damage. #SevereWeather`],neutral:[`Storm watch issued for ${t} region. Thunderstorms possible in coming hours. #WeatherWatch`,`Weather advisory: Storm developing near ${t}. Monitor for updates. #StormWatch`],positive:[`Storm over ${t} has passed. Weather conditions returning to normal. #WeatherUpdate`]}},f=c[e]||c.cyclone,y=f[s]||f.negative;return this.getRandomItem(y)}calculateSentimentScore(e,t){const s=["warning","alert","emergency","danger","flood","storm","cyclone","tsunami","evacuation","damage"],o=["clear","safe","improving","normal","passed","receding","cancelled"];let c=0;const f=e.toLowerCase();return s.forEach(y=>{f.includes(y)&&(c-=2)}),o.forEach(y=>{f.includes(y)&&(c+=1)}),t==="negative"?c-=3:t==="positive"&&(c+=2),Math.max(-10,Math.min(10,c))}extractKeywords(e,t){const s=["tsunami","cyclone","storm","flood","wave","surge","tide","coastal","marine","ocean","sea","beach","erosion","current","warning","alert","emergency","evacuation","rescue","safety","fishermen","vessel","boat","harbor","port","coast guard","imd","incois","meteorological","weather","wind","pressure"],o=[t],c=e.toLowerCase();return s.forEach(f=>{c.includes(f)&&!o.includes(f)&&o.push(f)}),o}generateEngagement(e,t){let s=Math.floor(Math.random()*100)+50,o=Math.floor(Math.random()*50)+10,c=Math.floor(Math.random()*30)+5;return e==="negative"&&(s*=2,o*=3,c*=2),(t==="critical"||t==="high")&&(s*=1.5,o*=2,c*=1.5),{likes:Math.floor(s),shares:Math.floor(o),comments:Math.floor(c)}}calculateRelevanceScore(e,t,s){let o=e.length*15;return t==="negative"&&(o+=20),s==="critical"?o+=30:s==="high"?o+=20:s==="medium"&&(o+=10),Math.min(100,Math.round(o))}};const ig=new sj,rj=()=>{};var qx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},aj=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const o=n[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=n[t++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=n[t++],f=n[t++],y=n[t++],v=((o&7)<<18|(c&63)<<12|(f&63)<<6|y&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const c=n[t++],f=n[t++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},P1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const c=n[o],f=o+1<n.length,y=f?n[o+1]:0,v=o+2<n.length,x=v?n[o+2]:0,w=c>>2,A=(c&3)<<4|y>>4;let R=(y&15)<<2|x>>6,P=x&63;v||(P=64,f||(R=64)),s.push(t[w],t[A],t[R],t[P])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(M1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):aj(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const c=t[n.charAt(o++)],y=o<n.length?t[n.charAt(o)]:0;++o;const x=o<n.length?t[n.charAt(o)]:64;++o;const A=o<n.length?t[n.charAt(o)]:64;if(++o,c==null||y==null||x==null||A==null)throw new oj;const R=c<<2|y>>4;if(s.push(R),x!==64){const P=y<<4&240|x>>2;if(s.push(P),A!==64){const M=x<<6&192|A;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class oj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lj=function(n){const e=M1(n);return P1.encodeByteArray(e,!0)},df=function(n){return lj(n).replace(/\./g,"")},O1=function(n){try{return P1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj=()=>cj().__FIREBASE_DEFAULTS__,hj=()=>{if(typeof process>"u"||typeof qx>"u")return;const n=qx.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},dj=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&O1(n[1]);return e&&JSON.parse(e)},Kf=()=>{try{return rj()||uj()||hj()||dj()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},k1=n=>{var e,t;return(t=(e=Kf())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},D1=n=>{const e=k1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},L1=()=>{var n;return(n=Kf())==null?void 0:n.config},V1=n=>{var e;return(e=Kf())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vy(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,c=n.sub||n.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...n};return[df(JSON.stringify(t)),df(JSON.stringify(f)),""].join(".")}const Gu={};function mj(){const n={prod:[],emulator:[]};for(const e of Object.keys(Gu))Gu[e]?n.emulator.push(e):n.prod.push(e);return n}function pj(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Gx=!1;function xy(n,e){if(typeof window>"u"||typeof document>"u"||!bl(window.location.host)||Gu[n]===e||Gu[n]||Gx)return;Gu[n]=e;function t(R){return`__firebase__banner__${R}`}const s="__firebase__banner",c=mj().prod.length>0;function f(){const R=document.getElementById(s);R&&R.remove()}function y(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function v(R,P){R.setAttribute("width","24"),R.setAttribute("id",P),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function x(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{Gx=!0,f()},R}function w(R,P){R.setAttribute("id",P),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function A(){const R=pj(s),P=t("text"),M=document.getElementById(P)||document.createElement("span"),H=t("learnmore"),V=document.getElementById(H)||document.createElement("a"),ce=t("preprendIcon"),G=document.getElementById(ce)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const W=R.element;y(W),w(V,H);const ve=x();v(G,ce),W.append(G,M,V,ve),document.body.appendChild(W)}c?(M.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hn())}function yj(){var e;const n=(e=Kf())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _j(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vj(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function xj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bj(){const n=Hn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function wj(){return!yj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Tj(){try{return typeof indexedDB=="object"}catch{return!1}}function Ej(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var c;e(((c=o.error)==null?void 0:c.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj="FirebaseError";class gr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=Sj,Object.setPrototypeOf(this,gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gh.prototype.create)}}class gh{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?Aj(c,s):"Error",y=`${this.serviceName}: ${f} (${o}).`;return new gr(o,y,s)}}function Aj(n,e){return n.replace(Nj,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Nj=/\{\$([^}]+)}/g;function Rj(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function gl(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const c=n[o],f=e[o];if($x(c)&&$x(f)){if(!gl(c,f))return!1}else if(c!==f)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function $x(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Cj(n,e){const t=new Ij(n,e);return t.subscribe.bind(t)}class Ij{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");jj(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=sg),o.error===void 0&&(o.error=sg),o.complete===void 0&&(o.complete=sg);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jj(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function sg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(n){return n&&n._delegate?n._delegate:n}class _o{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new fj;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Oj(e))try{this.getOrInitializeService({instanceIdentifier:rl})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=rl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=rl){return this.instances.has(e)}getOptions(e=rl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[c,f]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);s===y&&f.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Pj(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=rl){return this.component?this.component.multipleInstances?e:rl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Pj(n){return n===rl?void 0:n}function Oj(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Mj(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ot||(ot={}));const Dj={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},Lj=ot.INFO,Vj={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},zj=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=Vj[e];if(o)console[o](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class by{constructor(e){this.name=e,this._logLevel=Lj,this._logHandler=zj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Dj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const Uj=(n,e)=>e.some(t=>n instanceof t);let Zx,Kx;function Bj(){return Zx||(Zx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Hj(){return Kx||(Kx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const U1=new WeakMap,Mg=new WeakMap,B1=new WeakMap,rg=new WeakMap,wy=new WeakMap;function Fj(n){const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("success",c),n.removeEventListener("error",f)},c=()=>{t(uo(n.result)),o()},f=()=>{s(n.error),o()};n.addEventListener("success",c),n.addEventListener("error",f)});return e.then(t=>{t instanceof IDBCursor&&U1.set(t,n)}).catch(()=>{}),wy.set(e,n),e}function qj(n){if(Mg.has(n))return;const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("complete",c),n.removeEventListener("error",f),n.removeEventListener("abort",f)},c=()=>{t(),o()},f=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",c),n.addEventListener("error",f),n.addEventListener("abort",f)});Mg.set(n,e)}let Pg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Mg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||B1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return uo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Gj(n){Pg=n(Pg)}function $j(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(ag(this),e,...t);return B1.set(s,e.sort?e.sort():[e]),uo(s)}:Hj().includes(n)?function(...e){return n.apply(ag(this),e),uo(U1.get(this))}:function(...e){return uo(n.apply(ag(this),e))}}function Zj(n){return typeof n=="function"?$j(n):(n instanceof IDBTransaction&&qj(n),Uj(n,Bj())?new Proxy(n,Pg):n)}function uo(n){if(n instanceof IDBRequest)return Fj(n);if(rg.has(n))return rg.get(n);const e=Zj(n);return e!==n&&(rg.set(n,e),wy.set(e,n)),e}const ag=n=>wy.get(n);function Kj(n,e,{blocked:t,upgrade:s,blocking:o,terminated:c}={}){const f=indexedDB.open(n,e),y=uo(f);return s&&f.addEventListener("upgradeneeded",v=>{s(uo(f.result),v.oldVersion,v.newVersion,uo(f.transaction),v)}),t&&f.addEventListener("blocked",v=>t(v.oldVersion,v.newVersion,v)),y.then(v=>{c&&v.addEventListener("close",()=>c()),o&&v.addEventListener("versionchange",x=>o(x.oldVersion,x.newVersion,x))}).catch(()=>{}),y}const Yj=["get","getKey","getAll","getAllKeys","count"],Wj=["put","add","delete","clear"],og=new Map;function Yx(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(og.get(e))return og.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=Wj.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Yj.includes(t)))return;const c=async function(f,...y){const v=this.transaction(f,o?"readwrite":"readonly");let x=v.store;return s&&(x=x.index(y.shift())),(await Promise.all([x[t](...y),o&&v.done]))[0]};return og.set(e,c),c}Gj(n=>({...n,get:(e,t,s)=>Yx(e,t)||n.get(e,t,s),has:(e,t)=>!!Yx(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Xj(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function Xj(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Og="@firebase/app",Wx="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new by("@firebase/app"),Jj="@firebase/app-compat",eM="@firebase/analytics-compat",tM="@firebase/analytics",nM="@firebase/app-check-compat",iM="@firebase/app-check",sM="@firebase/auth",rM="@firebase/auth-compat",aM="@firebase/database",oM="@firebase/data-connect",lM="@firebase/database-compat",cM="@firebase/functions",uM="@firebase/functions-compat",hM="@firebase/installations",dM="@firebase/installations-compat",fM="@firebase/messaging",mM="@firebase/messaging-compat",pM="@firebase/performance",gM="@firebase/performance-compat",yM="@firebase/remote-config",_M="@firebase/remote-config-compat",vM="@firebase/storage",xM="@firebase/storage-compat",bM="@firebase/firestore",wM="@firebase/ai",TM="@firebase/firestore-compat",EM="firebase",SM="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg="[DEFAULT]",AM={[Og]:"fire-core",[Jj]:"fire-core-compat",[tM]:"fire-analytics",[eM]:"fire-analytics-compat",[iM]:"fire-app-check",[nM]:"fire-app-check-compat",[sM]:"fire-auth",[rM]:"fire-auth-compat",[aM]:"fire-rtdb",[oM]:"fire-data-connect",[lM]:"fire-rtdb-compat",[cM]:"fire-fn",[uM]:"fire-fn-compat",[hM]:"fire-iid",[dM]:"fire-iid-compat",[fM]:"fire-fcm",[mM]:"fire-fcm-compat",[pM]:"fire-perf",[gM]:"fire-perf-compat",[yM]:"fire-rc",[_M]:"fire-rc-compat",[vM]:"fire-gcs",[xM]:"fire-gcs-compat",[bM]:"fire-fst",[TM]:"fire-fst-compat",[wM]:"fire-vertex","fire-js":"fire-js",[EM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff=new Map,NM=new Map,Dg=new Map;function Qx(n,e){try{n.container.addComponent(e)}catch(t){aa.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function yl(n){const e=n.name;if(Dg.has(e))return aa.debug(`There were multiple attempts to register component ${e}.`),!1;Dg.set(e,n);for(const t of ff.values())Qx(t,n);for(const t of NM.values())Qx(t,n);return!0}function Yf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ns(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ho=new gh("app","Firebase",RM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new _o("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ho.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=SM;function H1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:kg,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ho.create("bad-app-name",{appName:String(o)});if(t||(t=L1()),!t)throw ho.create("no-options");const c=ff.get(o);if(c){if(gl(t,c.options)&&gl(s,c.config))return c;throw ho.create("duplicate-app",{appName:o})}const f=new kj(o);for(const v of Dg.values())f.addComponent(v);const y=new CM(t,s,f);return ff.set(o,y),y}function Ty(n=kg){const e=ff.get(n);if(!e&&n===kg&&L1())return H1();if(!e)throw ho.create("no-app",{appName:n});return e}function sr(n,e,t){let s=AM[n]??n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),aa.warn(f.join(" "));return}yl(new _o(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM="firebase-heartbeat-database",jM=1,Ju="firebase-heartbeat-store";let lg=null;function F1(){return lg||(lg=Kj(IM,jM,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ju)}catch(t){console.warn(t)}}}}).catch(n=>{throw ho.create("idb-open",{originalErrorMessage:n.message})})),lg}async function MM(n){try{const t=(await F1()).transaction(Ju),s=await t.objectStore(Ju).get(q1(n));return await t.done,s}catch(e){if(e instanceof gr)aa.warn(e.message);else{const t=ho.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});aa.warn(t.message)}}}async function Xx(n,e){try{const s=(await F1()).transaction(Ju,"readwrite");await s.objectStore(Ju).put(e,q1(n)),await s.done}catch(t){if(t instanceof gr)aa.warn(t.message);else{const s=ho.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});aa.warn(s.message)}}}function q1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=1024,OM=30;class kM{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new LM(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Jx();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>OM){const f=VM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){aa.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Jx(),{heartbeatsToSend:s,unsentEntries:o}=DM(this._heartbeatsCache.heartbeats),c=df(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(t){return aa.warn(t),""}}}function Jx(){return new Date().toISOString().substring(0,10)}function DM(n,e=PM){const t=[];let s=n.slice();for(const o of n){const c=t.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),eb(t)>e){c.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),eb(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class LM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Tj()?Ej().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await MM(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Xx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Xx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function eb(n){return df(JSON.stringify({version:2,heartbeats:n})).length}function VM(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zM(n){yl(new _o("platform-logger",e=>new Qj(e),"PRIVATE")),yl(new _o("heartbeat",e=>new kM(e),"PRIVATE")),sr(Og,Wx,n),sr(Og,Wx,"esm2020"),sr("fire-js","")}zM("");var tb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fo,G1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(q,O){function D(){}D.prototype=O.prototype,q.F=O.prototype,q.prototype=new D,q.prototype.constructor=q,q.D=function(Z,$,Y){for(var z=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)z[_e-2]=arguments[_e];return O.prototype[$].apply(Z,z)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(q,O,D){D||(D=0);const Z=Array(16);if(typeof O=="string")for(var $=0;$<16;++$)Z[$]=O.charCodeAt(D++)|O.charCodeAt(D++)<<8|O.charCodeAt(D++)<<16|O.charCodeAt(D++)<<24;else for($=0;$<16;++$)Z[$]=O[D++]|O[D++]<<8|O[D++]<<16|O[D++]<<24;O=q.g[0],D=q.g[1],$=q.g[2];let Y=q.g[3],z;z=O+(Y^D&($^Y))+Z[0]+3614090360&4294967295,O=D+(z<<7&4294967295|z>>>25),z=Y+($^O&(D^$))+Z[1]+3905402710&4294967295,Y=O+(z<<12&4294967295|z>>>20),z=$+(D^Y&(O^D))+Z[2]+606105819&4294967295,$=Y+(z<<17&4294967295|z>>>15),z=D+(O^$&(Y^O))+Z[3]+3250441966&4294967295,D=$+(z<<22&4294967295|z>>>10),z=O+(Y^D&($^Y))+Z[4]+4118548399&4294967295,O=D+(z<<7&4294967295|z>>>25),z=Y+($^O&(D^$))+Z[5]+1200080426&4294967295,Y=O+(z<<12&4294967295|z>>>20),z=$+(D^Y&(O^D))+Z[6]+2821735955&4294967295,$=Y+(z<<17&4294967295|z>>>15),z=D+(O^$&(Y^O))+Z[7]+4249261313&4294967295,D=$+(z<<22&4294967295|z>>>10),z=O+(Y^D&($^Y))+Z[8]+1770035416&4294967295,O=D+(z<<7&4294967295|z>>>25),z=Y+($^O&(D^$))+Z[9]+2336552879&4294967295,Y=O+(z<<12&4294967295|z>>>20),z=$+(D^Y&(O^D))+Z[10]+4294925233&4294967295,$=Y+(z<<17&4294967295|z>>>15),z=D+(O^$&(Y^O))+Z[11]+2304563134&4294967295,D=$+(z<<22&4294967295|z>>>10),z=O+(Y^D&($^Y))+Z[12]+1804603682&4294967295,O=D+(z<<7&4294967295|z>>>25),z=Y+($^O&(D^$))+Z[13]+4254626195&4294967295,Y=O+(z<<12&4294967295|z>>>20),z=$+(D^Y&(O^D))+Z[14]+2792965006&4294967295,$=Y+(z<<17&4294967295|z>>>15),z=D+(O^$&(Y^O))+Z[15]+1236535329&4294967295,D=$+(z<<22&4294967295|z>>>10),z=O+($^Y&(D^$))+Z[1]+4129170786&4294967295,O=D+(z<<5&4294967295|z>>>27),z=Y+(D^$&(O^D))+Z[6]+3225465664&4294967295,Y=O+(z<<9&4294967295|z>>>23),z=$+(O^D&(Y^O))+Z[11]+643717713&4294967295,$=Y+(z<<14&4294967295|z>>>18),z=D+(Y^O&($^Y))+Z[0]+3921069994&4294967295,D=$+(z<<20&4294967295|z>>>12),z=O+($^Y&(D^$))+Z[5]+3593408605&4294967295,O=D+(z<<5&4294967295|z>>>27),z=Y+(D^$&(O^D))+Z[10]+38016083&4294967295,Y=O+(z<<9&4294967295|z>>>23),z=$+(O^D&(Y^O))+Z[15]+3634488961&4294967295,$=Y+(z<<14&4294967295|z>>>18),z=D+(Y^O&($^Y))+Z[4]+3889429448&4294967295,D=$+(z<<20&4294967295|z>>>12),z=O+($^Y&(D^$))+Z[9]+568446438&4294967295,O=D+(z<<5&4294967295|z>>>27),z=Y+(D^$&(O^D))+Z[14]+3275163606&4294967295,Y=O+(z<<9&4294967295|z>>>23),z=$+(O^D&(Y^O))+Z[3]+4107603335&4294967295,$=Y+(z<<14&4294967295|z>>>18),z=D+(Y^O&($^Y))+Z[8]+1163531501&4294967295,D=$+(z<<20&4294967295|z>>>12),z=O+($^Y&(D^$))+Z[13]+2850285829&4294967295,O=D+(z<<5&4294967295|z>>>27),z=Y+(D^$&(O^D))+Z[2]+4243563512&4294967295,Y=O+(z<<9&4294967295|z>>>23),z=$+(O^D&(Y^O))+Z[7]+1735328473&4294967295,$=Y+(z<<14&4294967295|z>>>18),z=D+(Y^O&($^Y))+Z[12]+2368359562&4294967295,D=$+(z<<20&4294967295|z>>>12),z=O+(D^$^Y)+Z[5]+4294588738&4294967295,O=D+(z<<4&4294967295|z>>>28),z=Y+(O^D^$)+Z[8]+2272392833&4294967295,Y=O+(z<<11&4294967295|z>>>21),z=$+(Y^O^D)+Z[11]+1839030562&4294967295,$=Y+(z<<16&4294967295|z>>>16),z=D+($^Y^O)+Z[14]+4259657740&4294967295,D=$+(z<<23&4294967295|z>>>9),z=O+(D^$^Y)+Z[1]+2763975236&4294967295,O=D+(z<<4&4294967295|z>>>28),z=Y+(O^D^$)+Z[4]+1272893353&4294967295,Y=O+(z<<11&4294967295|z>>>21),z=$+(Y^O^D)+Z[7]+4139469664&4294967295,$=Y+(z<<16&4294967295|z>>>16),z=D+($^Y^O)+Z[10]+3200236656&4294967295,D=$+(z<<23&4294967295|z>>>9),z=O+(D^$^Y)+Z[13]+681279174&4294967295,O=D+(z<<4&4294967295|z>>>28),z=Y+(O^D^$)+Z[0]+3936430074&4294967295,Y=O+(z<<11&4294967295|z>>>21),z=$+(Y^O^D)+Z[3]+3572445317&4294967295,$=Y+(z<<16&4294967295|z>>>16),z=D+($^Y^O)+Z[6]+76029189&4294967295,D=$+(z<<23&4294967295|z>>>9),z=O+(D^$^Y)+Z[9]+3654602809&4294967295,O=D+(z<<4&4294967295|z>>>28),z=Y+(O^D^$)+Z[12]+3873151461&4294967295,Y=O+(z<<11&4294967295|z>>>21),z=$+(Y^O^D)+Z[15]+530742520&4294967295,$=Y+(z<<16&4294967295|z>>>16),z=D+($^Y^O)+Z[2]+3299628645&4294967295,D=$+(z<<23&4294967295|z>>>9),z=O+($^(D|~Y))+Z[0]+4096336452&4294967295,O=D+(z<<6&4294967295|z>>>26),z=Y+(D^(O|~$))+Z[7]+1126891415&4294967295,Y=O+(z<<10&4294967295|z>>>22),z=$+(O^(Y|~D))+Z[14]+2878612391&4294967295,$=Y+(z<<15&4294967295|z>>>17),z=D+(Y^($|~O))+Z[5]+4237533241&4294967295,D=$+(z<<21&4294967295|z>>>11),z=O+($^(D|~Y))+Z[12]+1700485571&4294967295,O=D+(z<<6&4294967295|z>>>26),z=Y+(D^(O|~$))+Z[3]+2399980690&4294967295,Y=O+(z<<10&4294967295|z>>>22),z=$+(O^(Y|~D))+Z[10]+4293915773&4294967295,$=Y+(z<<15&4294967295|z>>>17),z=D+(Y^($|~O))+Z[1]+2240044497&4294967295,D=$+(z<<21&4294967295|z>>>11),z=O+($^(D|~Y))+Z[8]+1873313359&4294967295,O=D+(z<<6&4294967295|z>>>26),z=Y+(D^(O|~$))+Z[15]+4264355552&4294967295,Y=O+(z<<10&4294967295|z>>>22),z=$+(O^(Y|~D))+Z[6]+2734768916&4294967295,$=Y+(z<<15&4294967295|z>>>17),z=D+(Y^($|~O))+Z[13]+1309151649&4294967295,D=$+(z<<21&4294967295|z>>>11),z=O+($^(D|~Y))+Z[4]+4149444226&4294967295,O=D+(z<<6&4294967295|z>>>26),z=Y+(D^(O|~$))+Z[11]+3174756917&4294967295,Y=O+(z<<10&4294967295|z>>>22),z=$+(O^(Y|~D))+Z[2]+718787259&4294967295,$=Y+(z<<15&4294967295|z>>>17),z=D+(Y^($|~O))+Z[9]+3951481745&4294967295,q.g[0]=q.g[0]+O&4294967295,q.g[1]=q.g[1]+($+(z<<21&4294967295|z>>>11))&4294967295,q.g[2]=q.g[2]+$&4294967295,q.g[3]=q.g[3]+Y&4294967295}s.prototype.v=function(q,O){O===void 0&&(O=q.length);const D=O-this.blockSize,Z=this.C;let $=this.h,Y=0;for(;Y<O;){if($==0)for(;Y<=D;)o(this,q,Y),Y+=this.blockSize;if(typeof q=="string"){for(;Y<O;)if(Z[$++]=q.charCodeAt(Y++),$==this.blockSize){o(this,Z),$=0;break}}else for(;Y<O;)if(Z[$++]=q[Y++],$==this.blockSize){o(this,Z),$=0;break}}this.h=$,this.o+=O},s.prototype.A=function(){var q=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);q[0]=128;for(var O=1;O<q.length-8;++O)q[O]=0;O=this.o*8;for(var D=q.length-8;D<q.length;++D)q[D]=O&255,O/=256;for(this.v(q),q=Array(16),O=0,D=0;D<4;++D)for(let Z=0;Z<32;Z+=8)q[O++]=this.g[D]>>>Z&255;return q};function c(q,O){var D=y;return Object.prototype.hasOwnProperty.call(D,q)?D[q]:D[q]=O(q)}function f(q,O){this.h=O;const D=[];let Z=!0;for(let $=q.length-1;$>=0;$--){const Y=q[$]|0;Z&&Y==O||(D[$]=Y,Z=!1)}this.g=D}var y={};function v(q){return-128<=q&&q<128?c(q,function(O){return new f([O|0],O<0?-1:0)}):new f([q|0],q<0?-1:0)}function x(q){if(isNaN(q)||!isFinite(q))return A;if(q<0)return V(x(-q));const O=[];let D=1;for(let Z=0;q>=D;Z++)O[Z]=q/D|0,D*=4294967296;return new f(O,0)}function w(q,O){if(q.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(q.charAt(0)=="-")return V(w(q.substring(1),O));if(q.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=x(Math.pow(O,8));let Z=A;for(let Y=0;Y<q.length;Y+=8){var $=Math.min(8,q.length-Y);const z=parseInt(q.substring(Y,Y+$),O);$<8?($=x(Math.pow(O,$)),Z=Z.j($).add(x(z))):(Z=Z.j(D),Z=Z.add(x(z)))}return Z}var A=v(0),R=v(1),P=v(16777216);n=f.prototype,n.m=function(){if(H(this))return-V(this).m();let q=0,O=1;for(let D=0;D<this.g.length;D++){const Z=this.i(D);q+=(Z>=0?Z:4294967296+Z)*O,O*=4294967296}return q},n.toString=function(q){if(q=q||10,q<2||36<q)throw Error("radix out of range: "+q);if(M(this))return"0";if(H(this))return"-"+V(this).toString(q);const O=x(Math.pow(q,6));var D=this;let Z="";for(;;){const $=ve(D,O).g;D=ce(D,$.j(O));let Y=((D.g.length>0?D.g[0]:D.h)>>>0).toString(q);if(D=$,M(D))return Y+Z;for(;Y.length<6;)Y="0"+Y;Z=Y+Z}},n.i=function(q){return q<0?0:q<this.g.length?this.g[q]:this.h};function M(q){if(q.h!=0)return!1;for(let O=0;O<q.g.length;O++)if(q.g[O]!=0)return!1;return!0}function H(q){return q.h==-1}n.l=function(q){return q=ce(this,q),H(q)?-1:M(q)?0:1};function V(q){const O=q.g.length,D=[];for(let Z=0;Z<O;Z++)D[Z]=~q.g[Z];return new f(D,~q.h).add(R)}n.abs=function(){return H(this)?V(this):this},n.add=function(q){const O=Math.max(this.g.length,q.g.length),D=[];let Z=0;for(let $=0;$<=O;$++){let Y=Z+(this.i($)&65535)+(q.i($)&65535),z=(Y>>>16)+(this.i($)>>>16)+(q.i($)>>>16);Z=z>>>16,Y&=65535,z&=65535,D[$]=z<<16|Y}return new f(D,D[D.length-1]&-2147483648?-1:0)};function ce(q,O){return q.add(V(O))}n.j=function(q){if(M(this)||M(q))return A;if(H(this))return H(q)?V(this).j(V(q)):V(V(this).j(q));if(H(q))return V(this.j(V(q)));if(this.l(P)<0&&q.l(P)<0)return x(this.m()*q.m());const O=this.g.length+q.g.length,D=[];for(var Z=0;Z<2*O;Z++)D[Z]=0;for(Z=0;Z<this.g.length;Z++)for(let $=0;$<q.g.length;$++){const Y=this.i(Z)>>>16,z=this.i(Z)&65535,_e=q.i($)>>>16,qe=q.i($)&65535;D[2*Z+2*$]+=z*qe,G(D,2*Z+2*$),D[2*Z+2*$+1]+=Y*qe,G(D,2*Z+2*$+1),D[2*Z+2*$+1]+=z*_e,G(D,2*Z+2*$+1),D[2*Z+2*$+2]+=Y*_e,G(D,2*Z+2*$+2)}for(q=0;q<O;q++)D[q]=D[2*q+1]<<16|D[2*q];for(q=O;q<2*O;q++)D[q]=0;return new f(D,0)};function G(q,O){for(;(q[O]&65535)!=q[O];)q[O+1]+=q[O]>>>16,q[O]&=65535,O++}function W(q,O){this.g=q,this.h=O}function ve(q,O){if(M(O))throw Error("division by zero");if(M(q))return new W(A,A);if(H(q))return O=ve(V(q),O),new W(V(O.g),V(O.h));if(H(O))return O=ve(q,V(O)),new W(V(O.g),O.h);if(q.g.length>30){if(H(q)||H(O))throw Error("slowDivide_ only works with positive integers.");for(var D=R,Z=O;Z.l(q)<=0;)D=le(D),Z=le(Z);var $=xe(D,1),Y=xe(Z,1);for(Z=xe(Z,2),D=xe(D,2);!M(Z);){var z=Y.add(Z);z.l(q)<=0&&($=$.add(D),Y=z),Z=xe(Z,1),D=xe(D,1)}return O=ce(q,$.j(O)),new W($,O)}for($=A;q.l(O)>=0;){for(D=Math.max(1,Math.floor(q.m()/O.m())),Z=Math.ceil(Math.log(D)/Math.LN2),Z=Z<=48?1:Math.pow(2,Z-48),Y=x(D),z=Y.j(O);H(z)||z.l(q)>0;)D-=Z,Y=x(D),z=Y.j(O);M(Y)&&(Y=R),$=$.add(Y),q=ce(q,z)}return new W($,q)}n.B=function(q){return ve(this,q).h},n.and=function(q){const O=Math.max(this.g.length,q.g.length),D=[];for(let Z=0;Z<O;Z++)D[Z]=this.i(Z)&q.i(Z);return new f(D,this.h&q.h)},n.or=function(q){const O=Math.max(this.g.length,q.g.length),D=[];for(let Z=0;Z<O;Z++)D[Z]=this.i(Z)|q.i(Z);return new f(D,this.h|q.h)},n.xor=function(q){const O=Math.max(this.g.length,q.g.length),D=[];for(let Z=0;Z<O;Z++)D[Z]=this.i(Z)^q.i(Z);return new f(D,this.h^q.h)};function le(q){const O=q.g.length+1,D=[];for(let Z=0;Z<O;Z++)D[Z]=q.i(Z)<<1|q.i(Z-1)>>>31;return new f(D,q.h)}function xe(q,O){const D=O>>5;O%=32;const Z=q.g.length-D,$=[];for(let Y=0;Y<Z;Y++)$[Y]=O>0?q.i(Y+D)>>>O|q.i(Y+D+1)<<32-O:q.i(Y+D);return new f($,q.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,G1=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=x,f.fromString=w,fo=f}).apply(typeof tb<"u"?tb:typeof self<"u"?self:typeof window<"u"?window:{});var Md=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $1,Bu,Z1,Zd,Lg,K1,Y1,W1;(function(){var n,e=Object.defineProperty;function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Md=="object"&&Md];for(var T=0;T<m.length;++T){var S=m[T];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var s=t(this);function o(m,T){if(T)e:{var S=s;m=m.split(".");for(var j=0;j<m.length-1;j++){var J=m[j];if(!(J in S))break e;S=S[J]}m=m[m.length-1],j=S[m],T=T(j),T!=j&&T!=null&&e(S,m,{configurable:!0,writable:!0,value:T})}}o("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(m){return m||function(T){var S=[],j;for(j in T)Object.prototype.hasOwnProperty.call(T,j)&&S.push([j,T[j]]);return S}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function y(m){var T=typeof m;return T=="object"&&m!=null||T=="function"}function v(m,T,S){return m.call.apply(m.bind,arguments)}function x(m,T,S){return x=v,x.apply(null,arguments)}function w(m,T){var S=Array.prototype.slice.call(arguments,1);return function(){var j=S.slice();return j.push.apply(j,arguments),m.apply(this,j)}}function A(m,T){function S(){}S.prototype=T.prototype,m.Z=T.prototype,m.prototype=new S,m.prototype.constructor=m,m.Ob=function(j,J,ie){for(var Te=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)Te[Ue-2]=arguments[Ue];return T.prototype[J].apply(j,Te)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function P(m){const T=m.length;if(T>0){const S=Array(T);for(let j=0;j<T;j++)S[j]=m[j];return S}return[]}function M(m,T){for(let j=1;j<arguments.length;j++){const J=arguments[j];var S=typeof J;if(S=S!="object"?S:J?Array.isArray(J)?"array":S:"null",S=="array"||S=="object"&&typeof J.length=="number"){S=m.length||0;const ie=J.length||0;m.length=S+ie;for(let Te=0;Te<ie;Te++)m[S+Te]=J[Te]}else m.push(J)}}class H{constructor(T,S){this.i=T,this.j=S,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function V(m){f.setTimeout(()=>{throw m},0)}function ce(){var m=q;let T=null;return m.g&&(T=m.g,m.g=m.g.next,m.g||(m.h=null),T.next=null),T}class G{constructor(){this.h=this.g=null}add(T,S){const j=W.get();j.set(T,S),this.h?this.h.next=j:this.g=j,this.h=j}}var W=new H(()=>new ve,m=>m.reset());class ve{constructor(){this.next=this.g=this.h=null}set(T,S){this.h=T,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let le,xe=!1,q=new G,O=()=>{const m=Promise.resolve(void 0);le=()=>{m.then(D)}};function D(){for(var m;m=ce();){try{m.h.call(m.g)}catch(S){V(S)}var T=W;T.j(m),T.h<100&&(T.h++,m.next=T.g,T.g=m)}xe=!1}function Z(){this.u=this.u,this.C=this.C}Z.prototype.u=!1,Z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},Z.prototype[Symbol.dispose]=function(){this.dispose()},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(m,T){this.type=m,this.g=this.target=T,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var Y=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var m=!1,T=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const S=()=>{};f.addEventListener("test",S,T),f.removeEventListener("test",S,T)}catch{}return m})();function z(m){return/^[\s\xa0]*$/.test(m)}function _e(m,T){$.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,T)}A(_e,$),_e.prototype.init=function(m,T){const S=this.type=m.type,j=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=T,T=m.relatedTarget,T||(S=="mouseover"?T=m.fromElement:S=="mouseout"&&(T=m.toElement)),this.relatedTarget=T,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&_e.Z.h.call(this)},_e.prototype.h=function(){_e.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var qe="closure_listenable_"+(Math.random()*1e6|0),se=0;function Se(m,T,S,j,J){this.listener=m,this.proxy=null,this.src=T,this.type=S,this.capture=!!j,this.ha=J,this.key=++se,this.da=this.fa=!1}function ye(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function et(m,T,S){for(const j in m)T.call(S,m[j],j,m)}function k(m,T){for(const S in m)T.call(void 0,m[S],S,m)}function ue(m){const T={};for(const S in m)T[S]=m[S];return T}const we="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function be(m,T){let S,j;for(let J=1;J<arguments.length;J++){j=arguments[J];for(S in j)m[S]=j[S];for(let ie=0;ie<we.length;ie++)S=we[ie],Object.prototype.hasOwnProperty.call(j,S)&&(m[S]=j[S])}}function Ae(m){this.src=m,this.g={},this.h=0}Ae.prototype.add=function(m,T,S,j,J){const ie=m.toString();m=this.g[ie],m||(m=this.g[ie]=[],this.h++);const Te=Ee(m,T,j,J);return Te>-1?(T=m[Te],S||(T.fa=!1)):(T=new Se(T,this.src,ie,!!j,J),T.fa=S,m.push(T)),T};function Ie(m,T){const S=T.type;if(S in m.g){var j=m.g[S],J=Array.prototype.indexOf.call(j,T,void 0),ie;(ie=J>=0)&&Array.prototype.splice.call(j,J,1),ie&&(ye(T),m.g[S].length==0&&(delete m.g[S],m.h--))}}function Ee(m,T,S,j){for(let J=0;J<m.length;++J){const ie=m[J];if(!ie.da&&ie.listener==T&&ie.capture==!!S&&ie.ha==j)return J}return-1}var At="closure_lm_"+(Math.random()*1e6|0),it={};function si(m,T,S,j,J){if(Array.isArray(T)){for(let ie=0;ie<T.length;ie++)si(m,T[ie],S,j,J);return null}return S=vr(S),m&&m[qe]?m.J(T,S,y(j)?!!j.capture:!1,J):_r(m,T,S,!1,j,J)}function _r(m,T,S,j,J,ie){if(!T)throw Error("Invalid event type");const Te=y(J)?!!J.capture:!!J;let Ue=fa(m);if(Ue||(m[At]=Ue=new Ae(m)),S=Ue.add(T,S,j,Te,ie),S.proxy)return S;if(j=Ds(),S.proxy=j,j.src=m,j.listener=S,m.addEventListener)Y||(J=Te),J===void 0&&(J=!1),m.addEventListener(T.toString(),j,J);else if(m.attachEvent)m.attachEvent(da(T.toString()),j);else if(m.addListener&&m.removeListener)m.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Ds(){function m(S){return T.call(m.src,m.listener,S)}const T=Nl;return m}function Hi(m,T,S,j,J){if(Array.isArray(T))for(var ie=0;ie<T.length;ie++)Hi(m,T[ie],S,j,J);else j=y(j)?!!j.capture:!!j,S=vr(S),m&&m[qe]?(m=m.i,ie=String(T).toString(),ie in m.g&&(T=m.g[ie],S=Ee(T,S,j,J),S>-1&&(ye(T[S]),Array.prototype.splice.call(T,S,1),T.length==0&&(delete m.g[ie],m.h--)))):m&&(m=fa(m))&&(T=m.g[T.toString()],m=-1,T&&(m=Ee(T,S,j,J)),(S=m>-1?T[m]:null)&&cs(S))}function cs(m){if(typeof m!="number"&&m&&!m.da){var T=m.src;if(T&&T[qe])Ie(T.i,m);else{var S=m.type,j=m.proxy;T.removeEventListener?T.removeEventListener(S,j,m.capture):T.detachEvent?T.detachEvent(da(S),j):T.addListener&&T.removeListener&&T.removeListener(j),(S=fa(T))?(Ie(S,m),S.h==0&&(S.src=null,T[At]=null)):ye(m)}}}function da(m){return m in it?it[m]:it[m]="on"+m}function Nl(m,T){if(m.da)m=!0;else{T=new _e(T,this);const S=m.listener,j=m.ha||m.src;m.fa&&cs(m),m=S.call(j,T)}return m}function fa(m){return m=m[At],m instanceof Ae?m:null}var fn="__closure_events_fn_"+(Math.random()*1e9>>>0);function vr(m){return typeof m=="function"?m:(m[fn]||(m[fn]=function(T){return m.handleEvent(T)}),m[fn])}function Zt(){Z.call(this),this.i=new Ae(this),this.M=this,this.G=null}A(Zt,Z),Zt.prototype[qe]=!0,Zt.prototype.removeEventListener=function(m,T,S,j){Hi(this,m,T,S,j)};function Kt(m,T){var S,j=m.G;if(j)for(S=[];j;j=j.G)S.push(j);if(m=m.M,j=T.type||T,typeof T=="string")T=new $(T,m);else if(T instanceof $)T.target=T.target||m;else{var J=T;T=new $(j,m),be(T,J)}J=!0;let ie,Te;if(S)for(Te=S.length-1;Te>=0;Te--)ie=T.g=S[Te],J=wi(ie,j,!0,T)&&J;if(ie=T.g=m,J=wi(ie,j,!0,T)&&J,J=wi(ie,j,!1,T)&&J,S)for(Te=0;Te<S.length;Te++)ie=T.g=S[Te],J=wi(ie,j,!1,T)&&J}Zt.prototype.N=function(){if(Zt.Z.N.call(this),this.i){var m=this.i;for(const T in m.g){const S=m.g[T];for(let j=0;j<S.length;j++)ye(S[j]);delete m.g[T],m.h--}}this.G=null},Zt.prototype.J=function(m,T,S,j){return this.i.add(String(m),T,!1,S,j)},Zt.prototype.K=function(m,T,S,j){return this.i.add(String(m),T,!0,S,j)};function wi(m,T,S,j){if(T=m.i.g[String(T)],!T)return!0;T=T.concat();let J=!0;for(let ie=0;ie<T.length;++ie){const Te=T[ie];if(Te&&!Te.da&&Te.capture==S){const Ue=Te.listener,tt=Te.ha||Te.src;Te.fa&&Ie(m.i,Te),J=Ue.call(tt,j)!==!1&&J}}return J&&!j.defaultPrevented}function Rl(m,T){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=x(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:f.setTimeout(m,T||0)}function ma(m){m.g=Rl(()=>{m.g=null,m.i&&(m.i=!1,ma(m))},m.l);const T=m.h;m.h=null,m.m.apply(null,T)}class qc extends Z{constructor(T,S){super(),this.m=T,this.l=S,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:ma(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xr(m){Z.call(this),this.h=m,this.g={}}A(xr,Z);var Fi=[];function rn(m){et(m.g,function(T,S){this.g.hasOwnProperty(S)&&cs(T)},m),m.g={}}xr.prototype.N=function(){xr.Z.N.call(this),rn(this)},xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fn=f.JSON.stringify,An=f.JSON.parse,Cl=class{stringify(m){return f.JSON.stringify(m,void 0)}parse(m){return f.JSON.parse(m,void 0)}};function No(){}function Il(){}var Ti={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qi(){$.call(this,"d")}A(qi,$);function ri(){$.call(this,"c")}A(ri,$);var ai={},oi=null;function pa(){return oi=oi||new Zt}ai.Ia="serverreachability";function Ro(m){$.call(this,ai.Ia,m)}A(Ro,$);function us(m){const T=pa();Kt(T,new Ro(T))}ai.STAT_EVENT="statevent";function br(m,T){$.call(this,ai.STAT_EVENT,m),this.stat=T}A(br,$);function Ot(m){const T=pa();Kt(T,new br(T,m))}ai.Ja="timingevent";function jl(m,T){$.call(this,ai.Ja,m),this.size=T}A(jl,$);function Ls(m,T){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){m()},T)}function Vs(){this.g=!0}Vs.prototype.ua=function(){this.g=!1};function Co(m,T,S,j,J,ie){m.info(function(){if(m.g)if(ie){var Te="",Ue=ie.split("&");for(let pt=0;pt<Ue.length;pt++){var tt=Ue[pt].split("=");if(tt.length>1){const kt=tt[0];tt=tt[1];const Wn=kt.split("_");Te=Wn.length>=2&&Wn[1]=="type"?Te+(kt+"="+tt+"&"):Te+(kt+"=redacted&")}}}else Te=null;else Te=ie;return"XMLHTTP REQ ("+j+") [attempt "+J+"]: "+T+`
`+S+`
`+Te})}function Io(m,T,S,j,J,ie,Te){m.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+J+"]: "+T+`
`+S+`
`+ie+" "+Te})}function hs(m,T,S,j){m.info(function(){return"XMLHTTP TEXT ("+T+"): "+Gi(m,S)+(j?" "+j:"")})}function jo(m,T){m.info(function(){return"TIMEOUT: "+T})}Vs.prototype.info=function(){};function Gi(m,T){if(!m.g)return T;if(!T)return null;try{const ie=JSON.parse(T);if(ie){for(m=0;m<ie.length;m++)if(Array.isArray(ie[m])){var S=ie[m];if(!(S.length<2)){var j=S[1];if(Array.isArray(j)&&!(j.length<1)){var J=j[0];if(J!="noop"&&J!="stop"&&J!="close")for(let Te=1;Te<j.length;Te++)j[Te]=""}}}}return Fn(ie)}catch{return T}}var zt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},an={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ds;function mn(){}A(mn,No),mn.prototype.g=function(){return new XMLHttpRequest},ds=new mn;function Pe(m){return encodeURIComponent(String(m))}function Ml(m){var T=1;m=m.split(":");const S=[];for(;T>0&&m.length;)S.push(m.shift()),T--;return m.length&&S.push(m.join(":")),S}function li(m,T,S,j){this.j=m,this.i=T,this.l=S,this.S=j||1,this.V=new xr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new fs}function fs(){this.i=null,this.g="",this.h=!1}var wr={},ci={};function Ei(m,T,S){m.M=1,m.A=yt(wt(T)),m.u=S,m.R=!0,qn(m,null)}function qn(m,T){m.F=Date.now(),Tr(m),m.B=wt(m.A);var S=m.B,j=m.S;Array.isArray(j)||(j=[String(j)]),ya(S.i,"t",j),m.C=0,S=m.j.L,m.h=new fs,m.g=Pr(m.j,S?T:null,!m.u),m.P>0&&(m.O=new qc(x(m.Y,m,m.g),m.P)),T=m.V,S=m.g,j=m.ba;var J="readystatechange";Array.isArray(J)||(J&&(Fi[0]=J.toString()),J=Fi);for(let ie=0;ie<J.length;ie++){const Te=si(S,J[ie],j||T.handleEvent,!1,T.h||T);if(!Te)break;T.g[Te.key]=Te}T=m.J?ue(m.J):{},m.u?(m.v||(m.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,T)):(m.v="GET",m.g.ea(m.B,m.v,null,T)),us(),Co(m.i,m.v,m.B,m.l,m.S,m.u)}li.prototype.ba=function(m){m=m.target;const T=this.O;T&&vn(m)==3?T.j():this.Y(m)},li.prototype.Y=function(m){try{if(m==this.g)e:{const Ue=vn(this.g),tt=this.g.ya(),pt=this.g.ca();if(!(Ue<3)&&(Ue!=3||this.g&&(this.h.h||this.g.la()||qs(this.g)))){this.K||Ue!=4||tt==7||(tt==8||pt<=0?us(3):us(2)),Si(this);var T=this.g.ca();this.X=T;var S=ms(this);if(this.o=T==200,Io(this.i,this.v,this.B,this.l,this.S,Ue,T),this.o){if(this.U&&!this.L){t:{if(this.g){var j,J=this.g;if((j=J.g?J.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(j)){var ie=j;break t}}ie=null}if(m=ie)hs(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ga(this,m);else{this.o=!1,this.m=3,Ot(12),Gn(this),Er(this);break e}}if(this.R){m=!0;let kt;for(;!this.K&&this.C<S.length;)if(kt=Pl(this,S),kt==ci){Ue==4&&(this.m=4,Ot(14),m=!1),hs(this.i,this.l,null,"[Incomplete Response]");break}else if(kt==wr){this.m=4,Ot(15),hs(this.i,this.l,S,"[Invalid Chunk]"),m=!1;break}else hs(this.i,this.l,kt,null),ga(this,kt);if(Ut(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||S.length!=0||this.h.h||(this.m=1,Ot(16),m=!1),this.o=this.o&&m,!m)hs(this.i,this.l,S,"[Invalid Chunked Response]"),Gn(this),Er(this);else if(S.length>0&&!this.W){this.W=!0;var Te=this.j;Te.g==this&&Te.aa&&!Te.P&&(Te.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),ko(Te),Te.P=!0,Ot(11))}}else hs(this.i,this.l,S,null),ga(this,S);Ue==4&&Gn(this),this.o&&!this.K&&(Ue==4?kn(this.j,this):(this.o=!1,Tr(this)))}else vs(this.g),T==400&&S.indexOf("Unknown SID")>0?(this.m=3,Ot(12)):(this.m=0,Ot(13)),Gn(this),Er(this)}}}catch{}finally{}};function ms(m){if(!Ut(m))return m.g.la();const T=qs(m.g);if(T==="")return"";let S="";const j=T.length,J=vn(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return Gn(m),Er(m),"";m.h.i=new f.TextDecoder}for(let ie=0;ie<j;ie++)m.h.h=!0,S+=m.h.i.decode(T[ie],{stream:!(J&&ie==j-1)});return T.length=0,m.h.g+=S,m.C=0,m.h.g}function Ut(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function Pl(m,T){var S=m.C,j=T.indexOf(`
`,S);return j==-1?ci:(S=Number(T.substring(S,j)),isNaN(S)?wr:(j+=1,j+S>T.length?ci:(T=T.slice(j,j+S),m.C=j+S,T)))}li.prototype.cancel=function(){this.K=!0,Gn(this)};function Tr(m){m.T=Date.now()+m.H,$i(m,m.H)}function $i(m,T){if(m.D!=null)throw Error("WatchDog timer not null");m.D=Ls(x(m.aa,m),T)}function Si(m){m.D&&(f.clearTimeout(m.D),m.D=null)}li.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(jo(this.i,this.B),this.M!=2&&(us(),Ot(17)),Gn(this),this.m=2,Er(this)):$i(this,this.T-m)};function Er(m){m.j.I==0||m.K||kn(m.j,m)}function Gn(m){Si(m);var T=m.O;T&&typeof T.dispose=="function"&&T.dispose(),m.O=null,rn(m.V),m.g&&(T=m.g,m.g=null,T.abort(),T.dispose())}function ga(m,T){try{var S=m.j;if(S.I!=0&&(S.g==m||ps(S.h,m))){if(!m.L&&ps(S.h,m)&&S.I==3){try{var j=S.Ba.g.parse(T)}catch{j=null}if(Array.isArray(j)&&j.length==3){var J=j;if(J[0]==0){e:if(!S.v){if(S.g)if(S.g.F+3e3<m.F)ba(S),Ji(S);else break e;Oo(S),Ot(18)}}else S.xa=J[1],0<S.xa-S.K&&J[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=Ls(x(S.Va,S),6e3));ui(S.h)<=1&&S.ta&&(S.ta=void 0)}else es(S,11)}else if((m.L||S.g==m)&&ba(S),!z(T))for(J=S.Ba.g.parse(T),T=0;T<J.length;T++){let pt=J[T];const kt=pt[0];if(!(kt<=S.K))if(S.K=kt,pt=pt[1],S.I==2)if(pt[0]=="c"){S.M=pt[1],S.ba=pt[2];const Wn=pt[3];Wn!=null&&(S.ka=Wn,S.j.info("VER="+S.ka));const di=pt[4];di!=null&&(S.za=di,S.j.info("SVER="+S.za));const Qn=pt[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(j=1.5*Qn,S.O=j,S.j.info("backChannelRequestTimeoutMs_="+j)),j=S;const Ci=m.g;if(Ci){const Ii=Ci.g?Ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ii){var ie=j.h;ie.g||Ii.indexOf("spdy")==-1&&Ii.indexOf("quic")==-1&&Ii.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(Zi(ie,ie.h),ie.h=null))}if(j.G){const Sa=Ci.g?Ci.g.getResponseHeader("X-HTTP-Session-Id"):null;Sa&&(j.wa=Sa,Ce(j.J,j.G,Sa))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-m.F,S.j.info("Handshake RTT: "+S.T+"ms")),j=S;var Te=m;if(j.na=Do(j,j.L?j.ba:null,j.W),Te.L){Ki(j.h,Te);var Ue=Te,tt=j.O;tt&&(Ue.H=tt),Ue.D&&(Si(Ue),Tr(Ue)),j.g=Te}else Po(j);S.i.length>0&&Ni(S)}else pt[0]!="stop"&&pt[0]!="close"||es(S,7);else S.I==3&&(pt[0]=="stop"||pt[0]=="close"?pt[0]=="stop"?es(S,7):We(S):pt[0]!="noop"&&S.l&&S.l.qa(pt),S.A=0)}}us(4)}catch{}}var Gc=class{constructor(m,T){this.g=m,this.map=T}};function Sr(m){this.l=m||10,f.PerformanceNavigationTiming?(m=f.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ar(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function ui(m){return m.h?1:m.g?m.g.size:0}function ps(m,T){return m.h?m.h==T:m.g?m.g.has(T):!1}function Zi(m,T){m.g?m.g.add(T):m.h=T}function Ki(m,T){m.h&&m.h==T?m.h=null:m.g&&m.g.has(T)&&m.g.delete(T)}Sr.prototype.cancel=function(){if(this.i=Nr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Nr(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let T=m.i;for(const S of m.g.values())T=T.concat(S.G);return T}return P(m.i)}var Yi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function at(m,T){if(m){m=m.split("&");for(let S=0;S<m.length;S++){const j=m[S].indexOf("=");let J,ie=null;j>=0?(J=m[S].substring(0,j),ie=m[S].substring(j+1)):J=m[S],T(J,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}function ut(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;m instanceof ut?(this.l=m.l,$n(this,m.j),this.o=m.o,this.g=m.g,hi(this,m.u),this.h=m.h,Wi(this,Cr(m.i)),this.m=m.m):m&&(T=String(m).match(Yi))?(this.l=!1,$n(this,T[1]||"",!0),this.o=gs(T[2]||""),this.g=gs(T[3]||"",!0),hi(this,T[4]),this.h=gs(T[5]||"",!0),Wi(this,T[6]||"",!0),this.m=gs(T[7]||"")):(this.l=!1,this.i=new gn(null,this.l))}ut.prototype.toString=function(){const m=[];var T=this.j;T&&m.push(Bt(T,Mo,!0),":");var S=this.g;return(S||T=="file")&&(m.push("//"),(T=this.o)&&m.push(Bt(T,Mo,!0),"@"),m.push(Pe(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&m.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&m.push("/"),m.push(Bt(S,S.charAt(0)=="/"?Pn:zs,!0))),(S=this.i.toString())&&m.push("?",S),(S=this.m)&&m.push("#",Bt(S,Qi)),m.join("")},ut.prototype.resolve=function(m){const T=wt(this);let S=!!m.j;S?$n(T,m.j):S=!!m.o,S?T.o=m.o:S=!!m.g,S?T.g=m.g:S=m.u!=null;var j=m.h;if(S)hi(T,m.u);else if(S=!!m.h){if(j.charAt(0)!="/")if(this.g&&!this.h)j="/"+j;else{var J=T.h.lastIndexOf("/");J!=-1&&(j=T.h.slice(0,J+1)+j)}if(J=j,J==".."||J==".")j="";else if(J.indexOf("./")!=-1||J.indexOf("/.")!=-1){j=J.lastIndexOf("/",0)==0,J=J.split("/");const ie=[];for(let Te=0;Te<J.length;){const Ue=J[Te++];Ue=="."?j&&Te==J.length&&ie.push(""):Ue==".."?((ie.length>1||ie.length==1&&ie[0]!="")&&ie.pop(),j&&Te==J.length&&ie.push("")):(ie.push(Ue),j=!0)}j=ie.join("/")}else j=J}return S?T.h=j:S=m.i.toString()!=="",S?Wi(T,Cr(m.i)):S=!!m.m,S&&(T.m=m.m),T};function wt(m){return new ut(m)}function $n(m,T,S){m.j=S?gs(T,!0):T,m.j&&(m.j=m.j.replace(/:$/,""))}function hi(m,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);m.u=T}else m.u=null}function Wi(m,T,S){T instanceof gn?(m.i=T,Ir(m.i,m.l)):(S||(T=Bt(T,jt)),m.i=new gn(T,m.l))}function Ce(m,T,S){m.i.set(T,S)}function yt(m){return Ce(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function gs(m,T){return m?T?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Bt(m,T,S){return typeof m=="string"?(m=encodeURI(m).replace(T,pn),S&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function pn(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Mo=/[#\/\?@]/g,zs=/[#\?:]/g,Pn=/[#\?]/g,jt=/[#\?@]/g,Qi=/#/g;function gn(m,T){this.h=this.g=null,this.i=m||null,this.j=!!T}function Zn(m){m.g||(m.g=new Map,m.h=0,m.i&&at(m.i,function(T,S){m.add(decodeURIComponent(T.replace(/\+/g," ")),S)}))}n=gn.prototype,n.add=function(m,T){Zn(this),this.i=null,m=Kn(this,m);let S=this.g.get(m);return S||this.g.set(m,S=[]),S.push(T),this.h+=1,this};function Rr(m,T){Zn(m),T=Kn(m,T),m.g.has(T)&&(m.i=null,m.h-=m.g.get(T).length,m.g.delete(T))}function ys(m,T){return Zn(m),T=Kn(m,T),m.g.has(T)}n.forEach=function(m,T){Zn(this),this.g.forEach(function(S,j){S.forEach(function(J){m.call(T,J,j,this)},this)},this)};function Us(m,T){Zn(m);let S=[];if(typeof T=="string")ys(m,T)&&(S=S.concat(m.g.get(Kn(m,T))));else for(m=Array.from(m.g.values()),T=0;T<m.length;T++)S=S.concat(m[T]);return S}n.set=function(m,T){return Zn(this),this.i=null,m=Kn(this,m),ys(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[T]),this.h+=1,this},n.get=function(m,T){return m?(m=Us(this,m),m.length>0?String(m[0]):T):T};function ya(m,T,S){Rr(m,T),S.length>0&&(m.i=null,m.g.set(Kn(m,T),P(S)),m.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],T=Array.from(this.g.keys());for(let j=0;j<T.length;j++){var S=T[j];const J=Pe(S);S=Us(this,S);for(let ie=0;ie<S.length;ie++){let Te=J;S[ie]!==""&&(Te+="="+Pe(S[ie])),m.push(Te)}}return this.i=m.join("&")};function Cr(m){const T=new gn;return T.i=m.i,m.g&&(T.g=new Map(m.g),T.h=m.h),T}function Kn(m,T){return T=String(T),m.j&&(T=T.toLowerCase()),T}function Ir(m,T){T&&!m.j&&(Zn(m),m.i=null,m.g.forEach(function(S,j){const J=j.toLowerCase();j!=J&&(Rr(this,j),ya(this,J,S))},m)),m.j=T}function Bs(m,T){const S=new Vs;if(f.Image){const j=new Image;j.onload=w(on,S,"TestLoadImage: loaded",!0,T,j),j.onerror=w(on,S,"TestLoadImage: error",!1,T,j),j.onabort=w(on,S,"TestLoadImage: abort",!1,T,j),j.ontimeout=w(on,S,"TestLoadImage: timeout",!1,T,j),f.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=m}else T(!1)}function _s(m,T){const S=new Vs,j=new AbortController,J=setTimeout(()=>{j.abort(),on(S,"TestPingServer: timeout",!1,T)},1e4);fetch(m,{signal:j.signal}).then(ie=>{clearTimeout(J),ie.ok?on(S,"TestPingServer: ok",!0,T):on(S,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(J),on(S,"TestPingServer: error",!1,T)})}function on(m,T,S,j,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),j(S)}catch{}}function Ol(){this.g=new Cl}function ze(m){this.i=m.Sb||null,this.h=m.ab||!1}A(ze,No),ze.prototype.g=function(){return new yn(this.i,this.h)};function yn(m,T){Zt.call(this),this.H=m,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(yn,Zt),n=yn.prototype,n.open=function(m,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=T,this.readyState=1,Ai(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(T.body=m),(this.H||f).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_n(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Ai(this)),this.g&&(this.readyState=3,Ai(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ht(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function ht(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var T=m.value?m.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!m.done}))&&(this.response=this.responseText+=T)}m.done?_n(this):Ai(this),this.readyState==3&&ht(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,_n(this))},n.Na=function(m){this.g&&(this.response=m,_n(this))},n.ga=function(){this.g&&_n(this)};function _n(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Ai(m)}n.setRequestHeader=function(m,T){this.A.append(m,T)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],T=this.h.entries();for(var S=T.next();!S.done;)S=S.value,m.push(S[0]+": "+S[1]),S=T.next();return m.join(`\r
`)};function Ai(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(yn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Xi(m){let T="";return et(m,function(S,j){T+=j,T+=":",T+=S,T+=`\r
`}),T}function On(m,T,S){e:{for(j in S){var j=!1;break e}j=!0}j||(S=Xi(S),typeof m=="string"?S!=null&&Pe(S):Ce(m,T,S))}function dt(m){Zt.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(dt,Zt);var Hs=/^https?$/i,Fs=["POST","PUT"];n=dt.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,T,S,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);T=T?T.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ds.g(),this.g.onreadystatechange=R(x(this.Ca,this));try{this.B=!0,this.g.open(T,String(m),!0),this.B=!1}catch(ie){Mt(this,ie);return}if(m=S||"",S=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var J in j)S.set(J,j[J]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const ie of j.keys())S.set(ie,j.get(ie));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(S.keys()).find(ie=>ie.toLowerCase()=="content-type"),J=f.FormData&&m instanceof f.FormData,!(Array.prototype.indexOf.call(Fs,T,void 0)>=0)||j||J||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,Te]of S)this.g.setRequestHeader(ie,Te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(ie){Mt(this,ie)}};function Mt(m,T){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=T,m.o=5,Yn(m),Gt(m)}function Yn(m){m.A||(m.A=!0,Kt(m,"complete"),Kt(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,Kt(this,"complete"),Kt(this,"abort"),Gt(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gt(this,!0)),dt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?_a(this):this.Xa())},n.Xa=function(){_a(this)};function _a(m){if(m.h&&typeof c<"u"){if(m.v&&vn(m)==4)setTimeout(m.Ca.bind(m),0);else if(Kt(m,"readystatechange"),vn(m)==4){m.h=!1;try{const ie=m.ca();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var S;if(!(S=T)){var j;if(j=ie===0){let Te=String(m.D).match(Yi)[1]||null;!Te&&f.self&&f.self.location&&(Te=f.self.location.protocol.slice(0,-1)),j=!Hs.test(Te?Te.toLowerCase():"")}S=j}if(S)Kt(m,"complete"),Kt(m,"success");else{m.o=6;try{var J=vn(m)>2?m.g.statusText:""}catch{J=""}m.l=J+" ["+m.ca()+"]",Yn(m)}}finally{Gt(m)}}}}function Gt(m,T){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const S=m.g;m.g=null,T||Kt(m,"ready");try{S.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function vn(m){return m.g?m.g.readyState:0}n.ca=function(){try{return vn(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var T=this.g.responseText;return m&&T.indexOf(m)==0&&(T=T.substring(m.length)),An(T)}};function qs(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function vs(m){const T={};m=(m.g&&vn(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<m.length;j++){if(z(m[j]))continue;var S=Ml(m[j]);const J=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ie=T[J]||[];T[J]=ie,ie.push(S)}k(T,function(j){return j.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function jr(m,T,S){return S&&S.internalChannelParams&&S.internalChannelParams[m]||T}function Mr(m){this.za=0,this.i=[],this.j=new Vs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=jr("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=jr("baseRetryDelayMs",5e3,m),this.Za=jr("retryDelaySeedMs",1e4,m),this.Ta=jr("forwardChannelMaxRetries",2,m),this.va=jr("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new Sr(m&&m.concurrentRequestLimit),this.Ba=new Ol,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Mr.prototype,n.ka=8,n.I=1,n.connect=function(m,T,S,j){Ot(0),this.W=m,this.H=T||{},S&&j!==void 0&&(this.H.OSID=S,this.H.OAID=j),this.F=this.X,this.J=Do(this,null,this.W),Ni(this)};function We(m){if(ln(m),m.I==3){var T=m.V++,S=wt(m.J);if(Ce(S,"SID",m.M),Ce(S,"RID",T),Ce(S,"TYPE","terminate"),xs(m,S),T=new li(m,m.j,T),T.M=2,T.A=yt(wt(S)),S=!1,f.navigator&&f.navigator.sendBeacon)try{S=f.navigator.sendBeacon(T.A.toString(),"")}catch{}!S&&f.Image&&(new Image().src=T.A,S=!0),S||(T.g=Pr(T.j,null),T.g.ea(T.A)),T.F=Date.now(),Tr(T)}Ri(m)}function Ji(m){m.g&&(ko(m),m.g.cancel(),m.g=null)}function ln(m){Ji(m),m.v&&(f.clearTimeout(m.v),m.v=null),ba(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&f.clearTimeout(m.m),m.m=null)}function Ni(m){if(!Ar(m.h)&&!m.m){m.m=!0;var T=m.Ea;le||O(),xe||(le(),xe=!0),q.add(T,m),m.D=0}}function kl(m,T){return ui(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=T.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=Ls(x(m.Ea,m,T),Ll(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const J=new li(this,this.j,m);let ie=this.o;if(this.U&&(ie?(ie=ue(ie),be(ie,this.U)):ie=this.U),this.u!==null||this.R||(J.J=ie,ie=null),this.S)e:{for(var T=0,S=0;S<this.i.length;S++){t:{var j=this.i[S];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(T+=j,T>4096){T=S;break e}if(T===4096||S===this.i.length-1){T=S+1;break e}}T=1e3}else T=1e3;T=va(this,J,T),S=wt(this.J),Ce(S,"RID",m),Ce(S,"CVER",22),this.G&&Ce(S,"X-HTTP-Session-Id",this.G),xs(this,S),ie&&(this.R?T="headers="+Pe(Xi(ie))+"&"+T:this.u&&On(S,this.u,ie)),Zi(this.h,J),this.Ra&&Ce(S,"TYPE","init"),this.S?(Ce(S,"$req",T),Ce(S,"SID","null"),J.U=!0,Ei(J,S,null)):Ei(J,S,T),this.I=2}}else this.I==3&&(m?Dl(this,m):this.i.length==0||Ar(this.h)||Dl(this))};function Dl(m,T){var S;T?S=T.l:S=m.V++;const j=wt(m.J);Ce(j,"SID",m.M),Ce(j,"RID",S),Ce(j,"AID",m.K),xs(m,j),m.u&&m.o&&On(j,m.u,m.o),S=new li(m,m.j,S,m.D+1),m.u===null&&(S.J=m.o),T&&(m.i=T.G.concat(m.i)),T=va(m,S,1e3),S.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Zi(m.h,S),Ei(S,j,T)}function xs(m,T){m.H&&et(m.H,function(S,j){Ce(T,j,S)}),m.l&&et({},function(S,j){Ce(T,j,S)})}function va(m,T,S){S=Math.min(m.i.length,S);const j=m.l?x(m.l.Ka,m.l,m):null;e:{var J=m.i;let Ue=-1;for(;;){const tt=["count="+S];Ue==-1?S>0?(Ue=J[0].g,tt.push("ofs="+Ue)):Ue=0:tt.push("ofs="+Ue);let pt=!0;for(let kt=0;kt<S;kt++){var ie=J[kt].g;const Wn=J[kt].map;if(ie-=Ue,ie<0)Ue=Math.max(0,J[kt].g-100),pt=!1;else try{ie="req"+ie+"_"||"";try{var Te=Wn instanceof Map?Wn:Object.entries(Wn);for(const[di,Qn]of Te){let Ci=Qn;y(Qn)&&(Ci=Fn(Qn)),tt.push(ie+di+"="+encodeURIComponent(Ci))}}catch(di){throw tt.push(ie+"type="+encodeURIComponent("_badmap")),di}}catch{j&&j(Wn)}}if(pt){Te=tt.join("&");break e}}Te=void 0}return m=m.i.splice(0,S),T.G=m,Te}function Po(m){if(!m.g&&!m.v){m.Y=1;var T=m.Da;le||O(),xe||(le(),xe=!0),q.add(T,m),m.A=0}}function Oo(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=Ls(x(m.Da,m),Ll(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,xa(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=Ls(x(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ot(10),Ji(this),xa(this))};function ko(m){m.B!=null&&(f.clearTimeout(m.B),m.B=null)}function xa(m){m.g=new li(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var T=wt(m.na);Ce(T,"RID","rpc"),Ce(T,"SID",m.M),Ce(T,"AID",m.K),Ce(T,"CI",m.F?"0":"1"),!m.F&&m.ia&&Ce(T,"TO",m.ia),Ce(T,"TYPE","xmlhttp"),xs(m,T),m.u&&m.o&&On(T,m.u,m.o),m.O&&(m.g.H=m.O);var S=m.g;m=m.ba,S.M=1,S.A=yt(wt(T)),S.u=null,S.R=!0,qn(S,m)}n.Va=function(){this.C!=null&&(this.C=null,Ji(this),Oo(this),Ot(19))};function ba(m){m.C!=null&&(f.clearTimeout(m.C),m.C=null)}function kn(m,T){var S=null;if(m.g==T){ba(m),ko(m),m.g=null;var j=2}else if(ps(m.h,T))S=T.G,Ki(m.h,T),j=1;else return;if(m.I!=0){if(T.o)if(j==1){S=T.u?T.u.length:0,T=Date.now()-T.F;var J=m.D;j=pa(),Kt(j,new jl(j,S)),Ni(m)}else Po(m);else if(J=T.m,J==3||J==0&&T.X>0||!(j==1&&kl(m,T)||j==2&&Oo(m)))switch(S&&S.length>0&&(T=m.h,T.i=T.i.concat(S)),J){case 1:es(m,5);break;case 4:es(m,10);break;case 3:es(m,6);break;default:es(m,2)}}}function Ll(m,T){let S=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(S*=2),S*T}function es(m,T){if(m.j.info("Error code "+T),T==2){var S=x(m.bb,m),j=m.Ua;const J=!j;j=new ut(j||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||$n(j,"https"),yt(j),J?Bs(j.toString(),S):_s(j.toString(),S)}else Ot(2);m.I=0,m.l&&m.l.pa(T),Ri(m),ln(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function Ri(m){if(m.I=0,m.ja=[],m.l){const T=Nr(m.h);(T.length!=0||m.i.length!=0)&&(M(m.ja,T),M(m.ja,m.i),m.h.i.length=0,P(m.i),m.i.length=0),m.l.oa()}}function Do(m,T,S){var j=S instanceof ut?wt(S):new ut(S);if(j.g!="")T&&(j.g=T+"."+j.g),hi(j,j.u);else{var J=f.location;j=J.protocol,T=T?T+"."+J.hostname:J.hostname,J=+J.port;const ie=new ut(null);j&&$n(ie,j),T&&(ie.g=T),J&&hi(ie,J),S&&(ie.h=S),j=ie}return S=m.G,T=m.wa,S&&T&&Ce(j,S,T),Ce(j,"VER",m.ka),xs(m,j),j}function Pr(m,T,S){if(T&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=m.Aa&&!m.ma?new dt(new ze({ab:S})):new dt(m.ma),T.Fa(m.L),T}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function wa(){}n=wa.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ta(){}Ta.prototype.g=function(m,T){return new xn(m,T)};function xn(m,T){Zt.call(this),this.g=new Mr(T),this.l=m,this.h=T&&T.messageUrlParams||null,m=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(m?m["X-WebChannel-Content-Type"]=T.messageContentType:m={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(m?m["X-WebChannel-Client-Profile"]=T.sa:m={"X-WebChannel-Client-Profile":T.sa}),this.g.U=m,(m=T&&T.Qb)&&!z(m)&&(this.g.u=m),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!z(T)&&(this.g.G=T,m=this.h,m!==null&&T in m&&(m=this.h,T in m&&delete m[T])),this.j=new Gs(this)}A(xn,Zt),xn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){We(this.g)},xn.prototype.o=function(m){var T=this.g;if(typeof m=="string"){var S={};S.__data__=m,m=S}else this.v&&(S={},S.__data__=Fn(m),m=S);T.i.push(new Gc(T.Ya++,m)),T.I==3&&Ni(T)},xn.prototype.N=function(){this.g.l=null,delete this.j,We(this.g),delete this.g,xn.Z.N.call(this)};function Ea(m){qi.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var T=m.__sm__;if(T){e:{for(const S in T){m=S;break e}m=void 0}(this.i=m)&&(m=this.i,T=T!==null&&m in T?T[m]:void 0),this.data=T}else this.data=m}A(Ea,qi);function Vl(){ri.call(this),this.status=1}A(Vl,ri);function Gs(m){this.g=m}A(Gs,wa),Gs.prototype.ra=function(){Kt(this.g,"a")},Gs.prototype.qa=function(m){Kt(this.g,new Ea(m))},Gs.prototype.pa=function(m){Kt(this.g,new Vl)},Gs.prototype.oa=function(){Kt(this.g,"b")},Ta.prototype.createWebChannel=Ta.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,W1=function(){return new Ta},Y1=function(){return pa()},K1=ai,Lg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},zt.NO_ERROR=0,zt.TIMEOUT=8,zt.HTTP_ERROR=6,Zd=zt,an.COMPLETE="complete",Z1=an,Il.EventType=Ti,Ti.OPEN="a",Ti.CLOSE="b",Ti.ERROR="c",Ti.MESSAGE="d",Zt.prototype.listen=Zt.prototype.J,Bu=Il,dt.prototype.listenOnce=dt.prototype.K,dt.prototype.getLastError=dt.prototype.Ha,dt.prototype.getLastErrorCode=dt.prototype.ya,dt.prototype.getStatus=dt.prototype.ca,dt.prototype.getResponseJson=dt.prototype.La,dt.prototype.getResponseText=dt.prototype.la,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Fa,$1=dt}).apply(typeof Md<"u"?Md:typeof self<"u"?self:typeof window<"u"?window:{});const nb="@firebase/firestore",ib="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zn.UNAUTHENTICATED=new zn(null),zn.GOOGLE_CREDENTIALS=new zn("google-credentials-uid"),zn.FIRST_PARTY=new zn("first-party-uid"),zn.MOCK_USER=new zn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l=new by("@firebase/firestore");function pc(){return _l.logLevel}function je(n,...e){if(_l.logLevel<=ot.DEBUG){const t=e.map(Ey);_l.debug(`Firestore (${Vc}): ${n}`,...t)}}function oa(n,...e){if(_l.logLevel<=ot.ERROR){const t=e.map(Ey);_l.error(`Firestore (${Vc}): ${n}`,...t)}}function Sc(n,...e){if(_l.logLevel<=ot.WARN){const t=e.map(Ey);_l.warn(`Firestore (${Vc}): ${n}`,...t)}}function Ey(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,Q1(n,s,t)}function Q1(n,e,t){let s=`FIRESTORE (${Vc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw oa(s),new Error(s)}function _t(n,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,n||Q1(e,o,s)}function Ye(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends gr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(zn.UNAUTHENTICATED)))}shutdown(){}}class BM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class HM{constructor(e){this.t=e,this.currentUser=zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){_t(this.o===void 0,42304);let s=this.i;const o=v=>this.i!==s?(s=this.i,t(v)):Promise.resolve();let c=new mo;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new mo,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const v=c;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},y=v=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new mo)}}),0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(_t(typeof s.accessToken=="string",31837,{l:s}),new X1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _t(e===null||typeof e=="string",2055,{h:e}),new zn(e)}}class FM{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=zn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qM{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new FM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(zn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class sb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ns(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){_t(this.o===void 0,3512);const s=c=>{c.error!=null&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,je("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new sb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(_t(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new sb(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $M(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=$M(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<t&&(s+=e.charAt(o[c]%62))}return s}}function lt(n,e){return n<e?-1:n>e?1:0}function Vg(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const o=n.charAt(s),c=e.charAt(s);if(o!==c)return cg(o)===cg(c)?lt(o,c):cg(o)?1:-1}return lt(n.length,e.length)}const ZM=55296,KM=57343;function cg(n){const e=n.charCodeAt(0);return e>=ZM&&e<=KM}function Ac(n,e,t){return n.length===e.length&&n.every(((s,o)=>t(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="__name__";class nr{constructor(e,t,s){t===void 0?t=0:t>e.length&&He(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&He(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return nr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof nr?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const c=nr.compareSegments(e.get(o),t.get(o));if(c!==0)return c}return lt(e.length,t.length)}static compareSegments(e,t){const s=nr.isNumericId(e),o=nr.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?nr.extractNumericId(e).compare(nr.extractNumericId(t)):Vg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fo.fromString(e.substring(4,e.length-2))}}class It extends nr{construct(e,t,s){return new It(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Re(fe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new It(t)}static emptyPath(){return new It([])}}const YM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jn extends nr{construct(e,t,s){return new jn(e,t,s)}static isValidIdentifier(e){return YM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rb}static keyField(){return new jn([rb])}static fromServerFormat(e){const t=[];let s="",o=0;const c=()=>{if(s.length===0)throw new Re(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new Re(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new Re(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,o+=2}else y==="`"?(f=!f,o++):y!=="."||f?(s+=y,o++):(c(),o++)}if(c(),f)throw new Re(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jn(t)}static emptyPath(){return new jn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.path=e}static fromPath(e){return new Le(It.fromString(e))}static fromName(e){return new Le(It.fromString(e).popFirst(5))}static empty(){return new Le(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&It.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return It.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Le(new It(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(n,e,t){if(!t)throw new Re(fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function WM(n,e,t,s){if(e===!0&&s===!0)throw new Re(fe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ab(n){if(!Le.isDocumentKey(n))throw new Re(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ob(n){if(Le.isDocumentKey(n))throw new Re(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function eT(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Wf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":He(12329,{type:typeof n})}function ia(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Re(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Wf(n);throw new Re(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function QM(n,e){if(e<=0)throw new Re(fe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(n,e){const t={typeString:n};return e&&(t.value=e),t}function _h(n,e){if(!eT(n))throw new Re(fe.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const f=n[s];if(o&&typeof f!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&f!==c.value){t=`Expected '${s}' field to equal '${c.value}'`;break}}if(t)throw new Re(fe.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=-62135596800,cb=1e6;class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*cb);return new Pt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<lb)throw new Re(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cb}_compareTo(e){return this.seconds===e.seconds?lt(this.nanoseconds,e.nanoseconds):lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Pt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_h(e,Pt._jsonSchema))return new Pt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-lb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Pt._jsonSchemaVersion="firestore/timestamp/1.0",Pt._jsonSchema={type:nn("string",Pt._jsonSchemaVersion),seconds:nn("number"),nanoseconds:nn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new Pt(0,0))}static max(){return new Ke(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=-1;function XM(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=Ke.fromTimestamp(s===1e9?new Pt(t+1,0):new Pt(t,s));return new vo(o,Le.empty(),e)}function JM(n){return new vo(n.readTime,n.key,eh)}class vo{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new vo(Ke.min(),Le.empty(),eh)}static max(){return new vo(Ke.max(),Le.empty(),eh)}}function eP(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Le.comparator(n.documentKey,e.documentKey),t!==0?t:lt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zc(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==tP)throw n;je("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&He(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pe(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof pe?t:pe.resolve(t)}catch(t){return pe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):pe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):pe.reject(t)}static resolve(e){return new pe(((t,s)=>{t(e)}))}static reject(e){return new pe(((t,s)=>{s(e)}))}static waitFor(e){return new pe(((t,s)=>{let o=0,c=0,f=!1;e.forEach((y=>{++o,y.next((()=>{++c,f&&c===o&&t()}),(v=>s(v)))})),f=!0,c===o&&t()}))}static or(e){let t=pe.resolve(!1);for(const s of e)t=t.next((o=>o?pe.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,c)=>{s.push(t.call(this,o,c))})),this.waitFor(s)}static mapArray(e,t){return new pe(((s,o)=>{const c=e.length,f=new Array(c);let y=0;for(let v=0;v<c;v++){const x=v;t(e[x]).next((w=>{f[x]=w,++y,y===c&&s(f)}),(w=>o(w)))}}))}static doWhile(e,t){return new pe(((s,o)=>{const c=()=>{e()===!0?t().next((()=>{c()}),o):s()};c()}))}}function iP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Uc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay=-1;function Xf(n){return n==null}function mf(n){return n===0&&1/n==-1/0}function sP(n){return typeof n=="number"&&Number.isInteger(n)&&!mf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="";function rP(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ub(e)),e=aP(n.get(t),e);return ub(e)}function aP(n,e){let t=e;const s=n.length;for(let o=0;o<s;o++){const c=n.charAt(o);switch(c){case"\0":t+="";break;case tT:t+="";break;default:t+=c}}return t}function ub(n){return n+tT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Tl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function nT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,t){this.comparator=e,this.root=t||In.EMPTY}insert(e,t){return new qt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,In.BLACK,null,null))}remove(e){return new qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,In.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pd(this.root,e,this.comparator,!0)}}class Pd{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class In{constructor(e,t,s,o,c){this.key=e,this.value=t,this.color=s??In.RED,this.left=o??In.EMPTY,this.right=c??In.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,c){return new In(e??this.key,t??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,s),null):c===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return In.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return In.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,In.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,In.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw He(43730,{key:this.key,value:this.value});if(this.right.isRed())throw He(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw He(27949);return e+(this.isRed()?0:1)}}In.EMPTY=null,In.RED=!0,In.BLACK=!1;In.EMPTY=new class{constructor(){this.size=0}get key(){throw He(57766)}get value(){throw He(16141)}get color(){throw He(16727)}get left(){throw He(29726)}get right(){throw He(36894)}copy(e,t,s,o,c){return this}insert(e,t,s){return new In(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.comparator=e,this.data=new qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new db(this.data.getIterator())}getIteratorFrom(e){return new db(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof dn)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new dn(this.comparator);return t.data=e,t}}class db{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this.fields=e,e.sort(jn.comparator)}static empty(){return new Rs([])}unionWith(e){let t=new dn(jn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Rs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ac(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new iT("Invalid base64 string: "+c):c}})(e);return new Mn(t)}static fromUint8Array(e){const t=(function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c})(e);return new Mn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mn.EMPTY_BYTE_STRING=new Mn("");const oP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xo(n){if(_t(!!n,39018),typeof n=="string"){let e=0;const t=oP.exec(n);if(_t(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Qt(n.seconds),nanos:Qt(n.nanos)}}function Qt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function bo(n){return typeof n=="string"?Mn.fromBase64String(n):Mn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="server_timestamp",rT="__type__",aT="__previous_value__",oT="__local_write_time__";function Ny(n){var t,s;return((s=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[rT])==null?void 0:s.stringValue)===sT}function Jf(n){const e=n.mapValue.fields[aT];return Ny(e)?Jf(e):e}function th(n){const e=xo(n.mapValue.fields[oT].timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e,t,s,o,c,f,y,v,x,w){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=x,this.isUsingEmulator=w}}const pf="(default)";class nh{constructor(e,t){this.projectId=e,this.database=t||pf}static empty(){return new nh("","")}get isDefaultDatabase(){return this.database===pf}isEqual(e){return e instanceof nh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="__type__",cP="__max__",Od={mapValue:{}},cT="__vector__",gf="value";function wo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ny(n)?4:hP(n)?9007199254740991:uP(n)?10:11:He(28295,{value:n})}function fr(n,e){if(n===e)return!0;const t=wo(n);if(t!==wo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return th(n).isEqual(th(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=xo(o.timestampValue),y=xo(c.timestampValue);return f.seconds===y.seconds&&f.nanos===y.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,c){return bo(o.bytesValue).isEqual(bo(c.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,c){return Qt(o.geoPointValue.latitude)===Qt(c.geoPointValue.latitude)&&Qt(o.geoPointValue.longitude)===Qt(c.geoPointValue.longitude)})(n,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Qt(o.integerValue)===Qt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=Qt(o.doubleValue),y=Qt(c.doubleValue);return f===y?mf(f)===mf(y):isNaN(f)&&isNaN(y)}return!1})(n,e);case 9:return Ac(n.arrayValue.values||[],e.arrayValue.values||[],fr);case 10:case 11:return(function(o,c){const f=o.mapValue.fields||{},y=c.mapValue.fields||{};if(hb(f)!==hb(y))return!1;for(const v in f)if(f.hasOwnProperty(v)&&(y[v]===void 0||!fr(f[v],y[v])))return!1;return!0})(n,e);default:return He(52216,{left:n})}}function ih(n,e){return(n.values||[]).find((t=>fr(t,e)))!==void 0}function Nc(n,e){if(n===e)return 0;const t=wo(n),s=wo(e);if(t!==s)return lt(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return lt(n.booleanValue,e.booleanValue);case 2:return(function(c,f){const y=Qt(c.integerValue||c.doubleValue),v=Qt(f.integerValue||f.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(n,e);case 3:return fb(n.timestampValue,e.timestampValue);case 4:return fb(th(n),th(e));case 5:return Vg(n.stringValue,e.stringValue);case 6:return(function(c,f){const y=bo(c),v=bo(f);return y.compareTo(v)})(n.bytesValue,e.bytesValue);case 7:return(function(c,f){const y=c.split("/"),v=f.split("/");for(let x=0;x<y.length&&x<v.length;x++){const w=lt(y[x],v[x]);if(w!==0)return w}return lt(y.length,v.length)})(n.referenceValue,e.referenceValue);case 8:return(function(c,f){const y=lt(Qt(c.latitude),Qt(f.latitude));return y!==0?y:lt(Qt(c.longitude),Qt(f.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return mb(n.arrayValue,e.arrayValue);case 10:return(function(c,f){var R,P,M,H;const y=c.fields||{},v=f.fields||{},x=(R=y[gf])==null?void 0:R.arrayValue,w=(P=v[gf])==null?void 0:P.arrayValue,A=lt(((M=x==null?void 0:x.values)==null?void 0:M.length)||0,((H=w==null?void 0:w.values)==null?void 0:H.length)||0);return A!==0?A:mb(x,w)})(n.mapValue,e.mapValue);case 11:return(function(c,f){if(c===Od.mapValue&&f===Od.mapValue)return 0;if(c===Od.mapValue)return 1;if(f===Od.mapValue)return-1;const y=c.fields||{},v=Object.keys(y),x=f.fields||{},w=Object.keys(x);v.sort(),w.sort();for(let A=0;A<v.length&&A<w.length;++A){const R=Vg(v[A],w[A]);if(R!==0)return R;const P=Nc(y[v[A]],x[w[A]]);if(P!==0)return P}return lt(v.length,w.length)})(n.mapValue,e.mapValue);default:throw He(23264,{he:t})}}function fb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return lt(n,e);const t=xo(n),s=xo(e),o=lt(t.seconds,s.seconds);return o!==0?o:lt(t.nanos,s.nanos)}function mb(n,e){const t=n.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const c=Nc(t[o],s[o]);if(c)return c}return lt(t.length,s.length)}function Rc(n){return zg(n)}function zg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const s=xo(t);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return bo(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Le.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let s="[",o=!0;for(const c of t.values||[])o?o=!1:s+=",",s+=zg(c);return s+"]"})(n.arrayValue):"mapValue"in n?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",c=!0;for(const f of s)c?c=!1:o+=",",o+=`${f}:${zg(t.fields[f])}`;return o+"}"})(n.mapValue):He(61005,{value:n})}function Kd(n){switch(wo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jf(n);return e?16+Kd(e):16;case 5:return 2*n.stringValue.length;case 6:return bo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+Kd(c)),0)})(n.arrayValue);case 10:case 11:return(function(s){let o=0;return Tl(s.fields,((c,f)=>{o+=c.length+Kd(f)})),o})(n.mapValue);default:throw He(13486,{value:n})}}function pb(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Ug(n){return!!n&&"integerValue"in n}function Ry(n){return!!n&&"arrayValue"in n}function gb(n){return!!n&&"nullValue"in n}function yb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Yd(n){return!!n&&"mapValue"in n}function uP(n){var t,s;return((s=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[lT])==null?void 0:s.stringValue)===cT}function $u(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Tl(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=$u(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$u(n.arrayValue.values[t]);return e}return{...n}}function hP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===cP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e){this.value=e}static empty(){return new os({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Yd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$u(t)}setAll(e){let t=jn.emptyPath(),s={},o=[];e.forEach(((f,y)=>{if(!t.isImmediateParentOf(y)){const v=this.getFieldsMap(t);this.applyChanges(v,s,o),s={},o=[],t=y.popLast()}f?s[y.lastSegment()]=$u(f):o.push(y.lastSegment())}));const c=this.getFieldsMap(t);this.applyChanges(c,s,o)}delete(e){const t=this.field(e.popLast());Yd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Yd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Tl(t,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new os($u(this.value))}}function uT(n){const e=[];return Tl(n.fields,((t,s)=>{const o=new jn([t]);if(Yd(s)){const c=uT(s.mapValue).fields;if(c.length===0)e.push(o);else for(const f of c)e.push(o.child(f))}else e.push(o)})),new Rs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e,t,s,o,c,f,y){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=c,this.data=f,this.documentState=y}static newInvalidDocument(e){return new Un(e,0,Ke.min(),Ke.min(),Ke.min(),os.empty(),0)}static newFoundDocument(e,t,s,o){return new Un(e,1,t,Ke.min(),s,o,0)}static newNoDocument(e,t){return new Un(e,2,t,Ke.min(),Ke.min(),os.empty(),0)}static newUnknownDocument(e,t){return new Un(e,3,t,Ke.min(),Ke.min(),os.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=os.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=os.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,t){this.position=e,this.inclusive=t}}function _b(n,e,t){let s=0;for(let o=0;o<n.position.length;o++){const c=e[o],f=n.position[o];if(c.field.isKeyField()?s=Le.comparator(Le.fromName(f.referenceValue),t.key):s=Nc(f,t.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function vb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!fr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,t="asc"){this.field=e,this.dir=t}}function dP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{}class tn extends hT{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new mP(e,t,s):t==="array-contains"?new yP(e,s):t==="in"?new _P(e,s):t==="not-in"?new vP(e,s):t==="array-contains-any"?new xP(e,s):new tn(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new pP(e,s):new gP(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Nc(t,this.value)):t!==null&&wo(this.value)===wo(t)&&this.matchesComparison(Nc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return He(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ps extends hT{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ps(e,t)}matches(e){return dT(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function dT(n){return n.op==="and"}function fT(n){return fP(n)&&dT(n)}function fP(n){for(const e of n.filters)if(e instanceof Ps)return!1;return!0}function Bg(n){if(n instanceof tn)return n.field.canonicalString()+n.op.toString()+Rc(n.value);if(fT(n))return n.filters.map((e=>Bg(e))).join(",");{const e=n.filters.map((t=>Bg(t))).join(",");return`${n.op}(${e})`}}function mT(n,e){return n instanceof tn?(function(s,o){return o instanceof tn&&s.op===o.op&&s.field.isEqual(o.field)&&fr(s.value,o.value)})(n,e):n instanceof Ps?(function(s,o){return o instanceof Ps&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,f,y)=>c&&mT(f,o.filters[y])),!0):!1})(n,e):void He(19439)}function pT(n){return n instanceof tn?(function(t){return`${t.field.canonicalString()} ${t.op} ${Rc(t.value)}`})(n):n instanceof Ps?(function(t){return t.op.toString()+" {"+t.getFilters().map(pT).join(" ,")+"}"})(n):"Filter"}class mP extends tn{constructor(e,t,s){super(e,t,s),this.key=Le.fromName(s.referenceValue)}matches(e){const t=Le.comparator(e.key,this.key);return this.matchesComparison(t)}}class pP extends tn{constructor(e,t){super(e,"in",t),this.keys=gT("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class gP extends tn{constructor(e,t){super(e,"not-in",t),this.keys=gT("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function gT(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((s=>Le.fromName(s.referenceValue)))}class yP extends tn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ry(t)&&ih(t.arrayValue,this.value)}}class _P extends tn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ih(this.value.arrayValue,t)}}class vP extends tn{constructor(e,t){super(e,"not-in",t)}matches(e){if(ih(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ih(this.value.arrayValue,t)}}class xP extends tn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ry(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>ih(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e,t=null,s=[],o=[],c=null,f=null,y=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=f,this.endAt=y,this.Te=null}}function xb(n,e=null,t=[],s=[],o=null,c=null,f=null){return new bP(n,e,t,s,o,c,f)}function Cy(n){const e=Ye(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>Bg(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Xf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Rc(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Rc(s))).join(",")),e.Te=t}return e.Te}function Iy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!dP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!mT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!vb(n.startAt,e.startAt)&&vb(n.endAt,e.endAt)}function Hg(n){return Le.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,t=null,s=[],o=[],c=null,f="F",y=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=f,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function wP(n,e,t,s,o,c,f,y){return new Bc(n,e,t,s,o,c,f,y)}function jy(n){return new Bc(n)}function bb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function yT(n){return n.collectionGroup!==null}function Zu(n){const e=Ye(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),t.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let y=new dn(jn.comparator);return f.filters.forEach((v=>{v.getFlattenedFilters().forEach((x=>{x.isInequality()&&(y=y.add(x.field))}))})),y})(e).forEach((c=>{t.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new sh(c,s))})),t.has(jn.keyField().canonicalString())||e.Ie.push(new sh(jn.keyField(),s))}return e.Ie}function rr(n){const e=Ye(n);return e.Ee||(e.Ee=TP(e,Zu(n))),e.Ee}function TP(n,e){if(n.limitType==="F")return xb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new sh(o.field,c)}));const t=n.endAt?new yf(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new yf(n.startAt.position,n.startAt.inclusive):null;return xb(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function Fg(n,e){const t=n.filters.concat([e]);return new Bc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function _f(n,e,t){return new Bc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function em(n,e){return Iy(rr(n),rr(e))&&n.limitType===e.limitType}function _T(n){return`${Cy(rr(n))}|lt:${n.limitType}`}function gc(n){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>pT(o))).join(", ")}]`),Xf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>Rc(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>Rc(o))).join(",")),`Target(${s})`})(rr(n))}; limitType=${n.limitType})`}function tm(n,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):Le.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(n,e)&&(function(s,o){for(const c of Zu(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(n,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(n,e)&&(function(s,o){return!(s.startAt&&!(function(f,y,v){const x=_b(f,y,v);return f.inclusive?x<=0:x<0})(s.startAt,Zu(s),o)||s.endAt&&!(function(f,y,v){const x=_b(f,y,v);return f.inclusive?x>=0:x>0})(s.endAt,Zu(s),o))})(n,e)}function EP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function vT(n){return(e,t)=>{let s=!1;for(const o of Zu(n)){const c=SP(o,e,t);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function SP(n,e,t){const s=n.field.isKeyField()?Le.comparator(e.key,t.key):(function(c,f,y){const v=f.data.field(c),x=y.data.field(c);return v!==null&&x!==null?Nc(v,x):He(42886)})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return He(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Tl(this.inner,((t,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return nT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP=new qt(Le.comparator);function la(){return AP}const xT=new qt(Le.comparator);function Hu(...n){let e=xT;for(const t of n)e=e.insert(t.key,t);return e}function bT(n){let e=xT;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function ll(){return Ku()}function wT(){return Ku()}function Ku(){return new El((n=>n.toString()),((n,e)=>n.isEqual(e)))}const NP=new qt(Le.comparator),RP=new dn(Le.comparator);function ct(...n){let e=RP;for(const t of n)e=e.add(t);return e}const CP=new dn(lt);function IP(){return CP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mf(e)?"-0":e}}function TT(n){return{integerValue:""+n}}function jP(n,e){return sP(e)?TT(e):My(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(){this._=void 0}}function MP(n,e,t){return n instanceof vf?(function(o,c){const f={fields:{[rT]:{stringValue:sT},[oT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Ny(c)&&(c=Jf(c)),c&&(f.fields[aT]=c),{mapValue:f}})(t,e):n instanceof rh?ST(n,e):n instanceof ah?AT(n,e):(function(o,c){const f=ET(o,c),y=wb(f)+wb(o.Ae);return Ug(f)&&Ug(o.Ae)?TT(y):My(o.serializer,y)})(n,e)}function PP(n,e,t){return n instanceof rh?ST(n,e):n instanceof ah?AT(n,e):t}function ET(n,e){return n instanceof xf?(function(s){return Ug(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class vf extends nm{}class rh extends nm{constructor(e){super(),this.elements=e}}function ST(n,e){const t=NT(e);for(const s of n.elements)t.some((o=>fr(o,s)))||t.push(s);return{arrayValue:{values:t}}}class ah extends nm{constructor(e){super(),this.elements=e}}function AT(n,e){let t=NT(e);for(const s of n.elements)t=t.filter((o=>!fr(o,s)));return{arrayValue:{values:t}}}class xf extends nm{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function wb(n){return Qt(n.integerValue||n.doubleValue)}function NT(n){return Ry(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function OP(n,e){return n.field.isEqual(e.field)&&(function(s,o){return s instanceof rh&&o instanceof rh||s instanceof ah&&o instanceof ah?Ac(s.elements,o.elements,fr):s instanceof xf&&o instanceof xf?fr(s.Ae,o.Ae):s instanceof vf&&o instanceof vf})(n.transform,e.transform)}class kP{constructor(e,t){this.version=e,this.transformResults=t}}class ar{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ar}static exists(e){return new ar(void 0,e)}static updateTime(e){return new ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class im{}function RT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Py(n.key,ar.none()):new vh(n.key,n.data,ar.none());{const t=n.data,s=os.empty();let o=new dn(jn.comparator);for(let c of e.fields)if(!o.has(c)){let f=t.field(c);f===null&&c.length>1&&(c=c.popLast(),f=t.field(c)),f===null?s.delete(c):s.set(c,f),o=o.add(c)}return new Sl(n.key,s,new Rs(o.toArray()),ar.none())}}function DP(n,e,t){n instanceof vh?(function(o,c,f){const y=o.value.clone(),v=Eb(o.fieldTransforms,c,f.transformResults);y.setAll(v),c.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(n,e,t):n instanceof Sl?(function(o,c,f){if(!Wd(o.precondition,c))return void c.convertToUnknownDocument(f.version);const y=Eb(o.fieldTransforms,c,f.transformResults),v=c.data;v.setAll(CT(o)),v.setAll(y),c.convertToFoundDocument(f.version,v).setHasCommittedMutations()})(n,e,t):(function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,t)}function Yu(n,e,t,s){return n instanceof vh?(function(c,f,y,v){if(!Wd(c.precondition,f))return y;const x=c.value.clone(),w=Sb(c.fieldTransforms,v,f);return x.setAll(w),f.convertToFoundDocument(f.version,x).setHasLocalMutations(),null})(n,e,t,s):n instanceof Sl?(function(c,f,y,v){if(!Wd(c.precondition,f))return y;const x=Sb(c.fieldTransforms,v,f),w=f.data;return w.setAll(CT(c)),w.setAll(x),f.convertToFoundDocument(f.version,w).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(n,e,t,s):(function(c,f,y){return Wd(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):y})(n,e,t)}function LP(n,e){let t=null;for(const s of n.fieldTransforms){const o=e.data.field(s.field),c=ET(s.transform,o||null);c!=null&&(t===null&&(t=os.empty()),t.set(s.field,c))}return t||null}function Tb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ac(s,o,((c,f)=>OP(c,f)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class vh extends im{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Sl extends im{constructor(e,t,s,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function CT(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function Eb(n,e,t){const s=new Map;_t(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const c=n[o],f=c.transform,y=e.data.field(c.field);s.set(c.field,PP(f,y,t[o]))}return s}function Sb(n,e,t){const s=new Map;for(const o of n){const c=o.transform,f=t.data.field(o.field);s.set(o.field,MP(c,f,e))}return s}class Py extends im{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VP extends im{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&DP(c,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Yu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Yu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=wT();return this.mutations.forEach((o=>{const c=e.get(o.key),f=c.overlayedDocument;let y=this.applyToLocalView(f,c.mutatedFields);y=t.has(o.key)?null:y;const v=RT(f,y);v!==null&&s.set(o.key,v),f.isValidDocument()||f.convertToNoDocument(Ke.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ct())}isEqual(e){return this.batchId===e.batchId&&Ac(this.mutations,e.mutations,((t,s)=>Tb(t,s)))&&Ac(this.baseMutations,e.baseMutations,((t,s)=>Tb(t,s)))}}class Oy{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){_t(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return NP})();const c=e.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,s[f].version);return new Oy(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en,mt;function HP(n){switch(n){case fe.OK:return He(64938);case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0;default:return He(15467,{code:n})}}function IT(n){if(n===void 0)return oa("GRPC error has no .code"),fe.UNKNOWN;switch(n){case en.OK:return fe.OK;case en.CANCELLED:return fe.CANCELLED;case en.UNKNOWN:return fe.UNKNOWN;case en.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case en.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case en.INTERNAL:return fe.INTERNAL;case en.UNAVAILABLE:return fe.UNAVAILABLE;case en.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case en.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case en.NOT_FOUND:return fe.NOT_FOUND;case en.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case en.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case en.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case en.ABORTED:return fe.ABORTED;case en.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case en.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case en.DATA_LOSS:return fe.DATA_LOSS;default:return He(39323,{code:n})}}(mt=en||(en={}))[mt.OK=0]="OK",mt[mt.CANCELLED=1]="CANCELLED",mt[mt.UNKNOWN=2]="UNKNOWN",mt[mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mt[mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mt[mt.NOT_FOUND=5]="NOT_FOUND",mt[mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",mt[mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",mt[mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",mt[mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mt[mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mt[mt.ABORTED=10]="ABORTED",mt[mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",mt[mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",mt[mt.INTERNAL=13]="INTERNAL",mt[mt.UNAVAILABLE=14]="UNAVAILABLE",mt[mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP=new fo([4294967295,4294967295],0);function Ab(n){const e=FP().encode(n),t=new G1;return t.update(e),new Uint8Array(t.digest())}function Nb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new fo([t,s],0),new fo([o,c],0)]}class ky{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Fu(`Invalid padding: ${t}`);if(s<0)throw new Fu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Fu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Fu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=fo.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(fo.fromNumber(s)));return o.compare(qP)===1&&(o=new fo([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Ab(e),[s,o]=Nb(t);for(let c=0;c<this.hashCount;c++){const f=this.ye(s,o,c);if(!this.we(f))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new ky(c,o,t);return s.forEach((y=>f.insert(y))),f}insert(e){if(this.ge===0)return;const t=Ab(e),[s,o]=Nb(t);for(let c=0;c<this.hashCount;c++){const f=this.ye(s,o,c);this.Se(f)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Fu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,t,s,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,xh.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new sm(Ke.min(),o,new qt(lt),la(),ct())}}class xh{constructor(e,t,s,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new xh(s,t,ct(),ct(),ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class jT{constructor(e,t){this.targetId=e,this.Ce=t}}class MT{constructor(e,t,s=Mn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class Rb{constructor(){this.ve=0,this.Fe=Cb(),this.Me=Mn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ct(),t=ct(),s=ct();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:He(38017,{changeType:c})}})),new xh(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=Cb()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,_t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class GP{constructor(e){this.Ge=e,this.ze=new Map,this.je=la(),this.Je=kd(),this.He=kd(),this.Ye=new qt(lt)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:He(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const c=o.target;if(Hg(c))if(s===0){const f=new Le(c.path);this.et(t,f,Un.newNoDocument(f,Ke.min()))}else _t(s===1,20013,{expectedCount:s});else{const f=this._t(t);if(f!==s){const y=this.ut(e),v=y?this.ct(y,e,f):1;if(v!==0){this.it(t);const x=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,x)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=t;let f,y;try{f=bo(s).toUint8Array()}catch(v){if(v instanceof iT)return Sc("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new ky(f,o,c)}catch(v){return Sc(v instanceof Fu?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((c=>{const f=this.Ge.ht(),y=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(y)||(this.et(t,c,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((c,f)=>{const y=this.ot(f);if(y){if(c.current&&Hg(y.target)){const v=new Le(y.target.path);this.It(v).has(f)||this.Et(f,v)||this.et(f,v,Un.newNoDocument(v,e))}c.Be&&(t.set(f,c.ke()),c.qe())}}));let s=ct();this.He.forEach(((c,f)=>{let y=!0;f.forEachWhile((v=>{const x=this.ot(v);return!x||x.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(s=s.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(e)));const o=new sm(e,t,this.Ye,this.je,s);return this.je=la(),this.Je=kd(),this.He=kd(),this.Ye=new qt(lt),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Rb,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new dn(lt),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new dn(lt),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||je("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Rb),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function kd(){return new qt(Le.comparator)}function Cb(){return new qt(Le.comparator)}const $P={asc:"ASCENDING",desc:"DESCENDING"},ZP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KP={and:"AND",or:"OR"};class YP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function qg(n,e){return n.useProto3Json||Xf(e)?e:{value:e}}function bf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function WP(n,e){return bf(n,e.toTimestamp())}function or(n){return _t(!!n,49232),Ke.fromTimestamp((function(t){const s=xo(t);return new Pt(s.seconds,s.nanos)})(n))}function Dy(n,e){return Gg(n,e).canonicalString()}function Gg(n,e){const t=(function(o){return new It(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function OT(n){const e=It.fromString(n);return _t(zT(e),10190,{key:e.toString()}),e}function $g(n,e){return Dy(n.databaseId,e.path)}function ug(n,e){const t=OT(e);if(t.get(1)!==n.databaseId.projectId)throw new Re(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Re(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Le(DT(t))}function kT(n,e){return Dy(n.databaseId,e)}function QP(n){const e=OT(n);return e.length===4?It.emptyPath():DT(e)}function Zg(n){return new It(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function DT(n){return _t(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Ib(n,e,t){return{name:$g(n,e),fields:t.value.mapValue.fields}}function XP(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(x){return x==="NO_CHANGE"?0:x==="ADD"?1:x==="REMOVE"?2:x==="CURRENT"?3:x==="RESET"?4:He(39313,{state:x})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(x,w){return x.useProto3Json?(_t(w===void 0||typeof w=="string",58123),Mn.fromBase64String(w||"")):(_t(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Mn.fromUint8Array(w||new Uint8Array))})(n,e.targetChange.resumeToken),f=e.targetChange.cause,y=f&&(function(x){const w=x.code===void 0?fe.UNKNOWN:IT(x.code);return new Re(w,x.message||"")})(f);t=new MT(s,o,c,y||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=ug(n,s.document.name),c=or(s.document.updateTime),f=s.document.createTime?or(s.document.createTime):Ke.min(),y=new os({mapValue:{fields:s.document.fields}}),v=Un.newFoundDocument(o,c,f,y),x=s.targetIds||[],w=s.removedTargetIds||[];t=new Qd(x,w,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=ug(n,s.document),c=s.readTime?or(s.readTime):Ke.min(),f=Un.newNoDocument(o,c),y=s.removedTargetIds||[];t=new Qd([],y,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=ug(n,s.document),c=s.removedTargetIds||[];t=new Qd([],c,o,null)}else{if(!("filter"in e))return He(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,f=new BP(o,c),y=s.targetId;t=new jT(y,f)}}return t}function JP(n,e){let t;if(e instanceof vh)t={update:Ib(n,e.key,e.value)};else if(e instanceof Py)t={delete:$g(n,e.key)};else if(e instanceof Sl)t={update:Ib(n,e.key,e.data),updateMask:lO(e.fieldMask)};else{if(!(e instanceof VP))return He(16599,{Vt:e.type});t={verify:$g(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(c,f){const y=f.transform;if(y instanceof vf)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof rh)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof ah)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof xf)return{fieldPath:f.field.canonicalString(),increment:y.Ae};throw He(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:WP(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:He(27497)})(n,e.precondition)),t}function eO(n,e){return n&&n.length>0?(_t(e!==void 0,14353),n.map((t=>(function(o,c){let f=o.updateTime?or(o.updateTime):or(c);return f.isEqual(Ke.min())&&(f=or(c)),new kP(f,o.transformResults||[])})(t,e)))):[]}function tO(n,e){return{documents:[kT(n,e.path)]}}function nO(n,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=kT(n,o);const c=(function(x){if(x.length!==0)return VT(Ps.create(x,"and"))})(e.filters);c&&(t.structuredQuery.where=c);const f=(function(x){if(x.length!==0)return x.map((w=>(function(R){return{field:yc(R.field),direction:rO(R.dir)}})(w)))})(e.orderBy);f&&(t.structuredQuery.orderBy=f);const y=qg(n,e.limit);return y!==null&&(t.structuredQuery.limit=y),e.startAt&&(t.structuredQuery.startAt=(function(x){return{before:x.inclusive,values:x.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(x){return{before:!x.inclusive,values:x.position}})(e.endAt)),{ft:t,parent:o}}function iO(n){let e=QP(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){_t(s===1,65062);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let c=[];t.where&&(c=(function(A){const R=LT(A);return R instanceof Ps&&fT(R)?R.getFilters():[R]})(t.where));let f=[];t.orderBy&&(f=(function(A){return A.map((R=>(function(M){return new sh(_c(M.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(R)))})(t.orderBy));let y=null;t.limit&&(y=(function(A){let R;return R=typeof A=="object"?A.value:A,Xf(R)?null:R})(t.limit));let v=null;t.startAt&&(v=(function(A){const R=!!A.before,P=A.values||[];return new yf(P,R)})(t.startAt));let x=null;return t.endAt&&(x=(function(A){const R=!A.before,P=A.values||[];return new yf(P,R)})(t.endAt)),wP(e,o,f,c,y,"F",v,x)}function sO(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return He(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function LT(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=_c(t.unaryFilter.field);return tn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=_c(t.unaryFilter.field);return tn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=_c(t.unaryFilter.field);return tn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=_c(t.unaryFilter.field);return tn.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return He(61313);default:return He(60726)}})(n):n.fieldFilter!==void 0?(function(t){return tn.create(_c(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return He(58110);default:return He(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Ps.create(t.compositeFilter.filters.map((s=>LT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return He(1026)}})(t.compositeFilter.op))})(n):He(30097,{filter:n})}function rO(n){return $P[n]}function aO(n){return ZP[n]}function oO(n){return KP[n]}function yc(n){return{fieldPath:n.canonicalString()}}function _c(n){return jn.fromServerFormat(n.fieldPath)}function VT(n){return n instanceof tn?(function(t){if(t.op==="=="){if(yb(t.value))return{unaryFilter:{field:yc(t.field),op:"IS_NAN"}};if(gb(t.value))return{unaryFilter:{field:yc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(yb(t.value))return{unaryFilter:{field:yc(t.field),op:"IS_NOT_NAN"}};if(gb(t.value))return{unaryFilter:{field:yc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yc(t.field),op:aO(t.op),value:t.value}}})(n):n instanceof Ps?(function(t){const s=t.getFilters().map((o=>VT(o)));return s.length===1?s[0]:{compositeFilter:{op:oO(t.op),filters:s}}})(n):He(54877,{filter:n})}function lO(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function zT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,t,s,o,c=Ke.min(),f=Ke.min(),y=Mn.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new co(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e){this.yt=e}}function uO(n){const e=iO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?_f(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(){this.Cn=new dO}addToCollectionParentIndex(e,t){return this.Cn.add(t),pe.resolve()}getCollectionParents(e,t){return pe.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return pe.resolve()}deleteFieldIndex(e,t){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,t){return pe.resolve()}getDocumentsMatchingTarget(e,t){return pe.resolve(null)}getIndexType(e,t){return pe.resolve(0)}getFieldIndexes(e,t){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,t){return pe.resolve(vo.min())}getMinOffsetFromCollectionGroup(e,t){return pe.resolve(vo.min())}updateCollectionGroup(e,t,s){return pe.resolve()}updateIndexEntries(e,t){return pe.resolve()}}class dO{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new dn(It.comparator),c=!o.has(s);return this.index[t]=o.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new dn(It.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UT=41943040;class _i{static withCacheSize(e){return new _i(e,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_i.DEFAULT_COLLECTION_PERCENTILE=10,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_i.DEFAULT=new _i(UT,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_i.DISABLED=new _i(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Cc(0)}static cr(){return new Cc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="LruGarbageCollector",fO=1048576;function Pb([n,e],[t,s]){const o=lt(n,t);return o===0?lt(e,s):o}class mO{constructor(e){this.Ir=e,this.buffer=new dn(Pb),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Pb(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class pO{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){je(Mb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Uc(t)?je(Mb,"Ignoring IndexedDB error during garbage collection: ",t):await zc(t)}await this.Vr(3e5)}))}}class gO{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return pe.resolve(Qf.ce);const s=new mO(t);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(je("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(jb)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jb):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,c,f,y,v,x;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(s=A,y=Date.now(),this.removeTargets(e,s,t)))).next((A=>(c=A,v=Date.now(),this.removeOrphanedDocuments(e,s)))).next((A=>(x=Date.now(),pc()<=ot.DEBUG&&je("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-w}ms
	Determined least recently used ${o} in `+(y-f)+`ms
	Removed ${c} targets in `+(v-y)+`ms
	Removed ${A} documents in `+(x-v)+`ms
Total Duration: ${x-w}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A}))))}}function yO(n,e){return new gO(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(){this.changes=new El((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?pe.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&Yu(s.mutation,o,Rs.empty(),Pt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,ct()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=ct()){const o=ll();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((c=>{let f=Hu();return c.forEach(((y,v)=>{f=f.insert(y,v.overlayedDocument)})),f}))))}getOverlayedDocuments(e,t){const s=ll();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,ct())))}populateOverlays(e,t,s){const o=[];return s.forEach((c=>{t.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((f,y)=>{t.set(f,y)}))}))}computeViews(e,t,s,o){let c=la();const f=Ku(),y=(function(){return Ku()})();return t.forEach(((v,x)=>{const w=s.get(x.key);o.has(x.key)&&(w===void 0||w.mutation instanceof Sl)?c=c.insert(x.key,x):w!==void 0?(f.set(x.key,w.mutation.getFieldMask()),Yu(w.mutation,x,w.mutation.getFieldMask(),Pt.now())):f.set(x.key,Rs.empty())})),this.recalculateAndSaveOverlays(e,c).next((v=>(v.forEach(((x,w)=>f.set(x,w))),t.forEach(((x,w)=>y.set(x,new vO(w,f.get(x)??null)))),y)))}recalculateAndSaveOverlays(e,t){const s=Ku();let o=new qt(((f,y)=>f-y)),c=ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((f=>{for(const y of f)y.keys().forEach((v=>{const x=t.get(v);if(x===null)return;let w=s.get(v)||Rs.empty();w=y.applyToLocalView(x,w),s.set(v,w);const A=(o.get(y.batchId)||ct()).add(v);o=o.insert(y.batchId,A)}))})).next((()=>{const f=[],y=o.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),x=v.key,w=v.value,A=wT();w.forEach((R=>{if(!c.has(R)){const P=RT(t.get(R),s.get(R));P!==null&&A.set(R,P),c=c.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(e,x,A))}return pe.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(f){return Le.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):yT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-c.size):pe.resolve(ll());let y=eh,v=c;return f.next((x=>pe.forEach(x,((w,A)=>(y<A.largestBatchId&&(y=A.largestBatchId),c.get(w)?pe.resolve():this.remoteDocumentCache.getEntry(e,w).next((R=>{v=v.insert(w,R)}))))).next((()=>this.populateOverlays(e,x,c))).next((()=>this.computeViews(e,v,x,ct()))).next((w=>({batchId:y,changes:bT(w)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Le(t)).next((s=>{let o=Hu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const c=t.collectionGroup;let f=Hu();return this.indexManager.getCollectionParents(e,c).next((y=>pe.forEach(y,(v=>{const x=(function(A,R){return new Bc(R,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(t,v.child(c));return this.getDocumentsMatchingCollectionQuery(e,x,s,o).next((w=>{w.forEach(((A,R)=>{f=f.insert(A,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,c,o)))).next((f=>{c.forEach(((v,x)=>{const w=x.getKey();f.get(w)===null&&(f=f.insert(w,Un.newInvalidDocument(w)))}));let y=Hu();return f.forEach(((v,x)=>{const w=c.get(v);w!==void 0&&Yu(w.mutation,x,Rs.empty(),Pt.now()),tm(t,x)&&(y=y.insert(v,x))})),y}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return pe.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:or(o.createTime)}})(t)),pe.resolve()}getNamedQuery(e,t){return pe.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:uO(o.bundledQuery),readTime:or(o.readTime)}})(t)),pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(){this.overlays=new qt(Le.comparator),this.qr=new Map}getOverlay(e,t){return pe.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ll();return pe.forEach(t,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,c)=>{this.St(e,t,c)})),pe.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),pe.resolve()}getOverlaysForCollection(e,t,s){const o=ll(),c=t.length+1,f=new Le(t.child("")),y=this.overlays.getIteratorFrom(f);for(;y.hasNext();){const v=y.getNext().value,x=v.getKey();if(!t.isPrefixOf(x.path))break;x.path.length===c&&v.largestBatchId>s&&o.set(v.getKey(),v)}return pe.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let c=new qt(((x,w)=>x-w));const f=this.overlays.getIterator();for(;f.hasNext();){const x=f.getNext().value;if(x.getKey().getCollectionGroup()===t&&x.largestBatchId>s){let w=c.get(x.largestBatchId);w===null&&(w=ll(),c=c.insert(x.largestBatchId,w)),w.set(x.getKey(),x)}}const y=ll(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((x,w)=>y.set(x,w))),!(y.size()>=o)););return pe.resolve(y)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new UP(t,s));let c=this.qr.get(t);c===void 0&&(c=ct(),this.qr.set(t,c)),this.qr.set(t,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(){this.sessionToken=Mn.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(){this.Qr=new dn(Sn.$r),this.Ur=new dn(Sn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Sn(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new Sn(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new Le(new It([])),s=new Sn(t,e),o=new Sn(t,e+1),c=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),c.push(f.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Le(new It([])),s=new Sn(t,e),o=new Sn(t,e+1);let c=ct();return this.Ur.forEachInRange([s,o],(f=>{c=c.add(f.key)})),c}containsKey(e){const t=new Sn(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Sn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Le.comparator(e.key,t.key)||lt(e.Yr,t.Yr)}static Kr(e,t){return lt(e.Yr,t.Yr)||Le.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new dn(Sn.$r)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new zP(c,t,s,o);this.mutationQueue.push(f);for(const y of o)this.Zr=this.Zr.add(new Sn(y.key,c)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return pe.resolve(f)}lookupMutationBatch(e,t){return pe.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),c=o<0?0:o;return pe.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?Ay:this.tr-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Sn(t,0),o=new Sn(t,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(f=>{const y=this.Xr(f.Yr);c.push(y)})),pe.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new dn(lt);return t.forEach((o=>{const c=new Sn(o,0),f=new Sn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,f],(y=>{s=s.add(y.Yr)}))})),pe.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let c=s;Le.isDocumentKey(c)||(c=c.child(""));const f=new Sn(new Le(c),0);let y=new dn(lt);return this.Zr.forEachWhile((v=>{const x=v.key.path;return!!s.isPrefixOf(x)&&(x.length===o&&(y=y.add(v.Yr)),!0)}),f),pe.resolve(this.ti(y))}ti(e){const t=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){_t(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return pe.forEach(t.mutations,(o=>{const c=new Sn(o.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new Sn(t,0),o=this.Zr.firstAfterOrEqual(s);return pe.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e){this.ri=e,this.docs=(function(){return new qt(Le.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),c=o?o.size:0,f=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return pe.resolve(s?s.document.mutableCopy():Un.newInvalidDocument(t))}getEntries(e,t){let s=la();return t.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Un.newInvalidDocument(o))})),pe.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let c=la();const f=t.path,y=new Le(f.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:x,value:{document:w}}=v.getNext();if(!f.isPrefixOf(x.path))break;x.path.length>f.length+1||eP(JM(w),s)<=0||(o.has(w.key)||tm(t,w))&&(c=c.insert(w.key,w.mutableCopy()))}return pe.resolve(c)}getAllFromCollectionGroup(e,t,s,o){He(9500)}ii(e,t){return pe.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new AO(this)}getSize(e){return pe.resolve(this.size)}}class AO extends _O{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),pe.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e){this.persistence=e,this.si=new El((t=>Cy(t)),Iy),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.oi=0,this._i=new Ly,this.targetCount=0,this.ai=Cc.ur()}forEachTarget(e,t){return this.si.forEach(((s,o)=>t(o))),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),pe.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Cc(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,pe.resolve()}updateTargetData(e,t){return this.Pr(t),pe.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,t,s){let o=0;const c=[];return this.si.forEach(((f,y)=>{y.sequenceNumber<=t&&s.get(y.targetId)===null&&(this.si.delete(f),c.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),pe.waitFor(c).next((()=>o))}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return pe.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),pe.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach((f=>{c.push(o.markPotentiallyOrphaned(e,f))})),pe.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),pe.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return pe.resolve(s)}containsKey(e,t){return pe.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e,t){this.ui={},this.overlays={},this.ci=new Qf(0),this.li=!1,this.li=!0,this.hi=new TO,this.referenceDelegate=e(this),this.Pi=new NO(this),this.indexManager=new hO,this.remoteDocumentCache=(function(o){return new SO(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new cO(t),this.Ii=new bO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new wO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new EO(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){je("MemoryPersistence","Starting transaction:",e);const o=new RO(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,t){return pe.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class RO extends nP{constructor(e){super(),this.currentSequenceNumber=e}}class Vy{constructor(e){this.persistence=e,this.Ri=new Ly,this.Vi=null}static mi(e){return new Vy(e)}get fi(){if(this.Vi)return this.Vi;throw He(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),pe.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),pe.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),pe.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.fi,(s=>{const o=Le.fromPath(s);return this.gi(e,o).next((c=>{c||t.removeEntry(o,Ke.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return pe.or([()=>pe.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class wf{constructor(e,t){this.persistence=e,this.pi=new El((s=>rP(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=yO(this,t)}static mi(e,t){return new wf(e,t)}Ei(){}di(e){return pe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return pe.forEach(this.pi,((s,o)=>this.br(e,s,o).next((c=>c?pe.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,t).next((y=>{y||(s++,c.removeEntry(f,Ke.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),pe.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),pe.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),pe.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),pe.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Kd(e.data.value)),t}br(e,t,s){return pe.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return pe.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=ct(),o=ct();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new zy(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return wj()?8:iP(Hn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const c={result:null};return this.ys(e,t).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ws(e,t,o,s).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new CO;return this.Ss(e,t,f).next((y=>{if(c.result=y,this.Vs)return this.bs(e,t,f,y.size)}))})).next((()=>c.result))}bs(e,t,s,o){return s.documentReadCount<this.fs?(pc()<=ot.DEBUG&&je("QueryEngine","SDK will not create cache indexes for query:",gc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),pe.resolve()):(pc()<=ot.DEBUG&&je("QueryEngine","Query:",gc(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(pc()<=ot.DEBUG&&je("QueryEngine","The SDK decides to create cache indexes for query:",gc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rr(t))):pe.resolve())}ys(e,t){if(bb(t))return pe.resolve(null);let s=rr(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=_f(t,null,"F"),s=rr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const f=ct(...c);return this.ps.getDocuments(e,f).next((y=>this.indexManager.getMinOffset(e,s).next((v=>{const x=this.Ds(t,y);return this.Cs(t,x,f,v.readTime)?this.ys(e,_f(t,null,"F")):this.vs(e,x,t,v)}))))})))))}ws(e,t,s,o){return bb(t)||o.isEqual(Ke.min())?pe.resolve(null):this.ps.getDocuments(e,s).next((c=>{const f=this.Ds(t,c);return this.Cs(t,f,s,o)?pe.resolve(null):(pc()<=ot.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),gc(t)),this.vs(e,f,t,XM(o,eh)).next((y=>y)))}))}Ds(e,t){let s=new dn(vT(e));return t.forEach(((o,c)=>{tm(e,c)&&(s=s.add(c))})),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,t,s){return pc()<=ot.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",gc(t)),this.ps.getDocumentsMatchingQuery(e,t,vo.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((c=>(t.forEach((f=>{c=c.insert(f.key,f)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="LocalStore",jO=3e8;class MO{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new qt(lt),this.xs=new El((c=>Cy(c)),Iy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function PO(n,e,t,s){return new MO(n,e,t,s)}async function HT(n,e){const t=Ye(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((c=>{const f=[],y=[];let v=ct();for(const x of o){f.push(x.batchId);for(const w of x.mutations)v=v.add(w.key)}for(const x of c){y.push(x.batchId);for(const w of x.mutations)v=v.add(w.key)}return t.localDocuments.getDocuments(s,v).next((x=>({Ls:x,removedBatchIds:f,addedBatchIds:y})))}))}))}function OO(n,e){const t=Ye(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,v,x,w){const A=x.batch,R=A.keys();let P=pe.resolve();return R.forEach((M=>{P=P.next((()=>w.getEntry(v,M))).next((H=>{const V=x.docVersions.get(M);_t(V!==null,48541),H.version.compareTo(V)<0&&(A.applyToRemoteDocument(H,x),H.isValidDocument()&&(H.setReadTime(x.commitVersion),w.addEntry(H)))}))})),P.next((()=>y.mutationQueue.removeMutationBatch(v,A)))})(t,s,e,c).next((()=>c.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(y){let v=ct();for(let x=0;x<y.mutationResults.length;++x)y.mutationResults[x].transformResults.length>0&&(v=v.add(y.batch.mutations[x].key));return v})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function FT(n){const e=Ye(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function kO(n,e){const t=Ye(n),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const y=[];e.targetChanges.forEach(((w,A)=>{const R=o.get(A);if(!R)return;y.push(t.Pi.removeMatchingKeys(c,w.removedDocuments,A).next((()=>t.Pi.addMatchingKeys(c,w.addedDocuments,A))));let P=R.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?P=P.withResumeToken(Mn.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):w.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(w.resumeToken,s)),o=o.insert(A,P),(function(H,V,ce){return H.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=jO?!0:ce.addedDocuments.size+ce.modifiedDocuments.size+ce.removedDocuments.size>0})(R,P,w)&&y.push(t.Pi.updateTargetData(c,P))}));let v=la(),x=ct();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&y.push(t.persistence.referenceDelegate.updateLimboDocument(c,w))})),y.push(DO(c,f,e.documentUpdates).next((w=>{v=w.ks,x=w.qs}))),!s.isEqual(Ke.min())){const w=t.Pi.getLastRemoteSnapshotVersion(c).next((A=>t.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));y.push(w)}return pe.waitFor(y).next((()=>f.apply(c))).next((()=>t.localDocuments.getLocalViewOfDocuments(c,v,x))).next((()=>v))})).then((c=>(t.Ms=o,c)))}function DO(n,e,t){let s=ct(),o=ct();return t.forEach((c=>s=s.add(c))),e.getEntries(n,s).next((c=>{let f=la();return t.forEach(((y,v)=>{const x=c.get(y);v.isFoundDocument()!==x.isFoundDocument()&&(o=o.add(y)),v.isNoDocument()&&v.version.isEqual(Ke.min())?(e.removeEntry(y,v.readTime),f=f.insert(y,v)):!x.isValidDocument()||v.version.compareTo(x.version)>0||v.version.compareTo(x.version)===0&&x.hasPendingWrites?(e.addEntry(v),f=f.insert(y,v)):je(Uy,"Ignoring outdated watch update for ",y,". Current version:",x.version," Watch version:",v.version)})),{ks:f,qs:o}}))}function LO(n,e){const t=Ye(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Ay),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function VO(n,e){const t=Ye(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Pi.getTargetData(s,e).next((c=>c?(o=c,pe.resolve(o)):t.Pi.allocateTargetId(s).next((f=>(o=new co(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function Kg(n,e,t){const s=Ye(n),o=s.Ms.get(e),c=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",c,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Uc(f))throw f;je(Uy,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function Ob(n,e,t){const s=Ye(n);let o=Ke.min(),c=ct();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(v,x,w){const A=Ye(v),R=A.xs.get(w);return R!==void 0?pe.resolve(A.Ms.get(R)):A.Pi.getTargetData(x,w)})(s,f,rr(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,y.targetId).next((v=>{c=v}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,t?o:Ke.min(),t?c:ct()))).next((y=>(zO(s,EP(e),y),{documents:y,Qs:c})))))}function zO(n,e,t){let s=n.Os.get(e)||Ke.min();t.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),n.Os.set(e,s)}class kb{constructor(){this.activeTargetIds=IP()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UO{constructor(){this.Mo=new kb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new kb,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="ConnectivityMonitor";class Lb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){je(Db,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){je(Db,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dd=null;function Yg(){return Dd===null?Dd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dd++,"0x"+Dd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg="RestConnection",HO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class FO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===pf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,c){const f=Yg(),y=this.zo(e,t.toUriEncodedString());je(hg,`Sending RPC '${e}' ${f}:`,y,s);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,c);const{host:x}=new URL(y),w=bl(x);return this.Jo(e,y,v,s,w).then((A=>(je(hg,`Received RPC '${e}' ${f}: `,A),A)),(A=>{throw Sc(hg,`RPC '${e}' ${f} failed with error: `,A,"url: ",y,"request:",s),A}))}Ho(e,t,s,o,c,f){return this.Go(e,t,s,o,c)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Vc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}zo(e,t){const s=HO[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn="WebChannelConnection";class GO extends FO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,c){const f=Yg();return new Promise(((y,v)=>{const x=new $1;x.setWithCredentials(!0),x.listenOnce(Z1.COMPLETE,(()=>{try{switch(x.getLastErrorCode()){case Zd.NO_ERROR:const A=x.getResponseJson();je(Vn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(A)),y(A);break;case Zd.TIMEOUT:je(Vn,`RPC '${e}' ${f} timed out`),v(new Re(fe.DEADLINE_EXCEEDED,"Request time out"));break;case Zd.HTTP_ERROR:const R=x.getStatus();if(je(Vn,`RPC '${e}' ${f} failed with status:`,R,"response text:",x.getResponseText()),R>0){let P=x.getResponseJson();Array.isArray(P)&&(P=P[0]);const M=P==null?void 0:P.error;if(M&&M.status&&M.message){const H=(function(ce){const G=ce.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(G)>=0?G:fe.UNKNOWN})(M.status);v(new Re(H,M.message))}else v(new Re(fe.UNKNOWN,"Server responded with status "+x.getStatus()))}else v(new Re(fe.UNAVAILABLE,"Connection failed."));break;default:He(9055,{l_:e,streamId:f,h_:x.getLastErrorCode(),P_:x.getLastError()})}}finally{je(Vn,`RPC '${e}' ${f} completed.`)}}));const w=JSON.stringify(o);je(Vn,`RPC '${e}' ${f} sending request:`,o),x.send(t,"POST",w,s,15)}))}T_(e,t,s){const o=Yg(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=W1(),y=Y1(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},x=this.longPollingOptions.timeoutSeconds;x!==void 0&&(v.longPollingTimeout=Math.round(1e3*x)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,t,s),v.encodeInitMessageHeaders=!0;const w=c.join("");je(Vn,`Creating RPC '${e}' stream ${o}: ${w}`,v);const A=f.createWebChannel(w,v);this.I_(A);let R=!1,P=!1;const M=new qO({Yo:V=>{P?je(Vn,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(R||(je(Vn,`Opening RPC '${e}' stream ${o} transport.`),A.open(),R=!0),je(Vn,`RPC '${e}' stream ${o} sending:`,V),A.send(V))},Zo:()=>A.close()}),H=(V,ce,G)=>{V.listen(ce,(W=>{try{G(W)}catch(ve){setTimeout((()=>{throw ve}),0)}}))};return H(A,Bu.EventType.OPEN,(()=>{P||(je(Vn,`RPC '${e}' stream ${o} transport opened.`),M.o_())})),H(A,Bu.EventType.CLOSE,(()=>{P||(P=!0,je(Vn,`RPC '${e}' stream ${o} transport closed`),M.a_(),this.E_(A))})),H(A,Bu.EventType.ERROR,(V=>{P||(P=!0,Sc(Vn,`RPC '${e}' stream ${o} transport errored. Name:`,V.name,"Message:",V.message),M.a_(new Re(fe.UNAVAILABLE,"The operation could not be completed")))})),H(A,Bu.EventType.MESSAGE,(V=>{var ce;if(!P){const G=V.data[0];_t(!!G,16349);const W=G,ve=(W==null?void 0:W.error)||((ce=W[0])==null?void 0:ce.error);if(ve){je(Vn,`RPC '${e}' stream ${o} received error:`,ve);const le=ve.status;let xe=(function(D){const Z=en[D];if(Z!==void 0)return IT(Z)})(le),q=ve.message;xe===void 0&&(xe=fe.INTERNAL,q="Unknown error status: "+le+" with message "+ve.message),P=!0,M.a_(new Re(xe,q)),A.close()}else je(Vn,`RPC '${e}' stream ${o} received:`,G),M.u_(G)}})),H(y,K1.STAT_EVENT,(V=>{V.stat===Lg.PROXY?je(Vn,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===Lg.NOPROXY&&je(Vn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{M.__()}),0),M}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function dg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(n){return new YP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,t,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&je("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="PersistentStream";class GT{constructor(e,t,s,o,c,f,y,v){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qT(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===fe.RESOURCE_EXHAUSTED?(oa(t.toString()),oa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new Re(fe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return je(Vb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(je(Vb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $O extends GT{constructor(e,t,s,o,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,f),this.serializer=c}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=XP(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Ke.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?Ke.min():f.readTime?or(f.readTime):Ke.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=Zg(this.serializer),t.addTarget=(function(c,f){let y;const v=f.target;if(y=Hg(v)?{documents:tO(c,v)}:{query:nO(c,v).ft},y.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){y.resumeToken=PT(c,f.resumeToken);const x=qg(c,f.expectedCount);x!==null&&(y.expectedCount=x)}else if(f.snapshotVersion.compareTo(Ke.min())>0){y.readTime=bf(c,f.snapshotVersion.toTimestamp());const x=qg(c,f.expectedCount);x!==null&&(y.expectedCount=x)}return y})(this.serializer,e);const s=sO(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=Zg(this.serializer),t.removeTarget=e,this.q_(t)}}class ZO extends GT{constructor(e,t,s,o,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,f),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return _t(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_t(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){_t(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=eO(e.writeResults,e.commitTime),s=or(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Zg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>JP(this.serializer,s)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{}class YO extends KO{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Re(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Go(e,Gg(t,s),o,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Re(fe.UNKNOWN,c.toString())}))}Ho(e,t,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,y])=>this.connection.Ho(e,Gg(t,s),o,f,y,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Re(fe.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class WO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(oa(t),this.aa=!1):je("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl="RemoteStore";class QO{constructor(e,t,s,o,c){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Al(this)&&(je(vl,"Restarting streams for network reachability change."),await(async function(v){const x=Ye(v);x.Ea.add(4),await bh(x),x.Ra.set("Unknown"),x.Ea.delete(4),await am(x)})(this))}))})),this.Ra=new WO(s,o)}}async function am(n){if(Al(n))for(const e of n.da)await e(!0)}async function bh(n){for(const e of n.da)await e(!1)}function $T(n,e){const t=Ye(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),qy(t)?Fy(t):Hc(t).O_()&&Hy(t,e))}function By(n,e){const t=Ye(n),s=Hc(t);t.Ia.delete(e),s.O_()&&ZT(t,e),t.Ia.size===0&&(s.O_()?s.L_():Al(t)&&t.Ra.set("Unknown"))}function Hy(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Hc(n).Y_(e)}function ZT(n,e){n.Va.Ue(e),Hc(n).Z_(e)}function Fy(n){n.Va=new GP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Hc(n).start(),n.Ra.ua()}function qy(n){return Al(n)&&!Hc(n).x_()&&n.Ia.size>0}function Al(n){return Ye(n).Ea.size===0}function KT(n){n.Va=void 0}async function XO(n){n.Ra.set("Online")}async function JO(n){n.Ia.forEach(((e,t)=>{Hy(n,e)}))}async function ek(n,e){KT(n),qy(n)?(n.Ra.ha(e),Fy(n)):n.Ra.set("Unknown")}async function tk(n,e,t){if(n.Ra.set("Online"),e instanceof MT&&e.state===2&&e.cause)try{await(async function(o,c){const f=c.cause;for(const y of c.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,f),o.Ia.delete(y),o.Va.removeTarget(y))})(n,e)}catch(s){je(vl,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Tf(n,s)}else if(e instanceof Qd?n.Va.Ze(e):e instanceof jT?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ke.min()))try{const s=await FT(n.localStore);t.compareTo(s)>=0&&await(function(c,f){const y=c.Va.Tt(f);return y.targetChanges.forEach(((v,x)=>{if(v.resumeToken.approximateByteSize()>0){const w=c.Ia.get(x);w&&c.Ia.set(x,w.withResumeToken(v.resumeToken,f))}})),y.targetMismatches.forEach(((v,x)=>{const w=c.Ia.get(v);if(!w)return;c.Ia.set(v,w.withResumeToken(Mn.EMPTY_BYTE_STRING,w.snapshotVersion)),ZT(c,v);const A=new co(w.target,v,x,w.sequenceNumber);Hy(c,A)})),c.remoteSyncer.applyRemoteEvent(y)})(n,t)}catch(s){je(vl,"Failed to raise snapshot:",s),await Tf(n,s)}}async function Tf(n,e,t){if(!Uc(e))throw e;n.Ea.add(1),await bh(n),n.Ra.set("Offline"),t||(t=()=>FT(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{je(vl,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await am(n)}))}function YT(n,e){return e().catch((t=>Tf(n,t,e)))}async function om(n){const e=Ye(n),t=To(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ay;for(;nk(e);)try{const o=await LO(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,ik(e,o)}catch(o){await Tf(e,o)}WT(e)&&QT(e)}function nk(n){return Al(n)&&n.Ta.length<10}function ik(n,e){n.Ta.push(e);const t=To(n);t.O_()&&t.X_&&t.ea(e.mutations)}function WT(n){return Al(n)&&!To(n).x_()&&n.Ta.length>0}function QT(n){To(n).start()}async function sk(n){To(n).ra()}async function rk(n){const e=To(n);for(const t of n.Ta)e.ea(t.mutations)}async function ak(n,e,t){const s=n.Ta.shift(),o=Oy.from(s,e,t);await YT(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await om(n)}async function ok(n,e){e&&To(n).X_&&await(async function(s,o){if((function(f){return HP(f)&&f!==fe.ABORTED})(o.code)){const c=s.Ta.shift();To(s).B_(),await YT(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await om(s)}})(n,e),WT(n)&&QT(n)}async function zb(n,e){const t=Ye(n);t.asyncQueue.verifyOperationInProgress(),je(vl,"RemoteStore received new credentials");const s=Al(t);t.Ea.add(3),await bh(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await am(t)}async function lk(n,e){const t=Ye(n);e?(t.Ea.delete(2),await am(t)):e||(t.Ea.add(2),await bh(t),t.Ra.set("Unknown"))}function Hc(n){return n.ma||(n.ma=(function(t,s,o){const c=Ye(t);return c.sa(),new $O(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(n.datastore,n.asyncQueue,{Xo:XO.bind(null,n),t_:JO.bind(null,n),r_:ek.bind(null,n),H_:tk.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),qy(n)?Fy(n):n.Ra.set("Unknown")):(await n.ma.stop(),KT(n))}))),n.ma}function To(n){return n.fa||(n.fa=(function(t,s,o){const c=Ye(t);return c.sa(),new ZO(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:sk.bind(null,n),r_:ok.bind(null,n),ta:rk.bind(null,n),na:ak.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await om(n)):(await n.fa.stop(),n.Ta.length>0&&(je(vl,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,t,s,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new mo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,c){const f=Date.now()+s,y=new Gy(e,t,f,o,c);return y.start(s),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Re(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $y(n,e){if(oa("AsyncQueue",`${e}: ${n}`),Uc(n))return new Re(fe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{static emptySet(e){return new xc(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Le.comparator(t.key,s.key):(t,s)=>Le.comparator(t.key,s.key),this.keyedMap=Hu(),this.sortedSet=new qt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof xc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new xc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(){this.ga=new qt(Le.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):He(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Ic{constructor(e,t,s,o,c,f,y,v,x){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=x}static fromInitialDocuments(e,t,s,o,c){const f=[];return t.forEach((y=>{f.push({type:0,doc:y})})),new Ic(e,t,xc.emptySet(t),f,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&em(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class uk{constructor(){this.queries=Bb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Ye(t),c=o.queries;o.queries=Bb(),c.forEach(((f,y)=>{for(const v of y.Sa)v.onError(s)}))})(this,new Re(fe.ABORTED,"Firestore shutting down"))}}function Bb(){return new El((n=>_T(n)),em)}async function XT(n,e){const t=Ye(n);let s=3;const o=e.query;let c=t.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new ck,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await t.onListen(o,!0);break;case 1:c.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(f){const y=$y(f,`Initialization of query '${gc(e.query)}' failed`);return void e.onError(y)}t.queries.set(o,c),c.Sa.push(e),e.va(t.onlineState),c.wa&&e.Fa(c.wa)&&Zy(t)}async function JT(n,e){const t=Ye(n),s=e.query;let o=3;const c=t.queries.get(s);if(c){const f=c.Sa.indexOf(e);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function hk(n,e){const t=Ye(n);let s=!1;for(const o of e){const c=o.query,f=t.queries.get(c);if(f){for(const y of f.Sa)y.Fa(o)&&(s=!0);f.wa=o}}s&&Zy(t)}function dk(n,e,t){const s=Ye(n),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(t);s.queries.delete(e)}function Zy(n){n.Ca.forEach((e=>{e.next()}))}var Wg,Hb;(Hb=Wg||(Wg={})).Ma="default",Hb.Cache="cache";class eE{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ic(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Ic.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Wg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e){this.key=e}}class nE{constructor(e){this.key=e}}class fk{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ct(),this.mutatedKeys=ct(),this.eu=vT(e),this.tu=new xc(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new Ub,o=t?t.tu:this.tu;let c=t?t.mutatedKeys:this.mutatedKeys,f=o,y=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,x=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,A)=>{const R=o.get(w),P=tm(this.query,A)?A:null,M=!!R&&this.mutatedKeys.has(R.key),H=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let V=!1;R&&P?R.data.isEqual(P.data)?M!==H&&(s.track({type:3,doc:P}),V=!0):this.su(R,P)||(s.track({type:2,doc:P}),V=!0,(v&&this.eu(P,v)>0||x&&this.eu(P,x)<0)&&(y=!0)):!R&&P?(s.track({type:0,doc:P}),V=!0):R&&!P&&(s.track({type:1,doc:R}),V=!0,(v||x)&&(y=!0)),V&&(P?(f=f.add(P),c=H?c.add(w):c.delete(w)):(f=f.delete(w),c=c.delete(w)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const w=this.query.limitType==="F"?f.last():f.first();f=f.delete(w.key),c=c.delete(w.key),s.track({type:1,doc:w})}return{tu:f,iu:s,Cs:y,mutatedKeys:c}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((w,A)=>(function(P,M){const H=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return He(20277,{Rt:V})}};return H(P)-H(M)})(w.type,A.type)||this.eu(w.doc,A.doc))),this.ou(s),o=o??!1;const y=t&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,x=v!==this.Za;return this.Za=v,f.length!==0||x?{snapshot:new Ic(this.query,e.tu,c,f,e.mutatedKeys,v===0,x,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ub,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ct(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new nE(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new tE(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=ct();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ic.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ky="SyncEngine";class mk{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class pk{constructor(e){this.key=e,this.hu=!1}}class gk{constructor(e,t,s,o,c,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new El((y=>_T(y)),em),this.Iu=new Map,this.Eu=new Set,this.du=new qt(Le.comparator),this.Au=new Map,this.Ru=new Ly,this.Vu={},this.mu=new Map,this.fu=Cc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function yk(n,e,t=!0){const s=lE(n);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await iE(s,e,t,!0),o}async function _k(n,e){const t=lE(n);await iE(t,e,!0,!1)}async function iE(n,e,t,s){const o=await VO(n.localStore,rr(e)),c=o.targetId,f=n.sharedClientState.addLocalQueryTarget(c,t);let y;return s&&(y=await vk(n,e,c,f==="current",o.resumeToken)),n.isPrimaryClient&&t&&$T(n.remoteStore,o),y}async function vk(n,e,t,s,o){n.pu=(A,R,P)=>(async function(H,V,ce,G){let W=V.view.ru(ce);W.Cs&&(W=await Ob(H.localStore,V.query,!1).then((({documents:q})=>V.view.ru(q,W))));const ve=G&&G.targetChanges.get(V.targetId),le=G&&G.targetMismatches.get(V.targetId)!=null,xe=V.view.applyChanges(W,H.isPrimaryClient,ve,le);return qb(H,V.targetId,xe.au),xe.snapshot})(n,A,R,P);const c=await Ob(n.localStore,e,!0),f=new fk(e,c.Qs),y=f.ru(c.documents),v=xh.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",o),x=f.applyChanges(y,n.isPrimaryClient,v);qb(n,t,x.au);const w=new mk(e,t,f);return n.Tu.set(e,w),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),x.snapshot}async function xk(n,e,t){const s=Ye(n),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((f=>!em(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Kg(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&By(s.remoteStore,o.targetId),Qg(s,o.targetId)})).catch(zc)):(Qg(s,o.targetId),await Kg(s.localStore,o.targetId,!0))}async function bk(n,e){const t=Ye(n),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),By(t.remoteStore,s.targetId))}async function wk(n,e,t){const s=Ck(n);try{const o=await(function(f,y){const v=Ye(f),x=Pt.now(),w=y.reduce(((P,M)=>P.add(M.key)),ct());let A,R;return v.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let M=la(),H=ct();return v.Ns.getEntries(P,w).next((V=>{M=V,M.forEach(((ce,G)=>{G.isValidDocument()||(H=H.add(ce))}))})).next((()=>v.localDocuments.getOverlayedDocuments(P,M))).next((V=>{A=V;const ce=[];for(const G of y){const W=LP(G,A.get(G.key).overlayedDocument);W!=null&&ce.push(new Sl(G.key,W,uT(W.value.mapValue),ar.exists(!0)))}return v.mutationQueue.addMutationBatch(P,x,ce,y)})).next((V=>{R=V;const ce=V.applyToLocalDocumentSet(A,H);return v.documentOverlayCache.saveOverlays(P,V.batchId,ce)}))})).then((()=>({batchId:R.batchId,changes:bT(A)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,y,v){let x=f.Vu[f.currentUser.toKey()];x||(x=new qt(lt)),x=x.insert(y,v),f.Vu[f.currentUser.toKey()]=x})(s,o.batchId,t),await wh(s,o.changes),await om(s.remoteStore)}catch(o){const c=$y(o,"Failed to persist write");t.reject(c)}}async function sE(n,e){const t=Ye(n);try{const s=await kO(t.localStore,e);e.targetChanges.forEach(((o,c)=>{const f=t.Au.get(c);f&&(_t(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?_t(f.hu,14607):o.removedDocuments.size>0&&(_t(f.hu,42227),f.hu=!1))})),await wh(t,s,e)}catch(s){await zc(s)}}function Fb(n,e,t){const s=Ye(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((c,f)=>{const y=f.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(f,y){const v=Ye(f);v.onlineState=y;let x=!1;v.queries.forEach(((w,A)=>{for(const R of A.Sa)R.va(y)&&(x=!0)})),x&&Zy(v)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Tk(n,e,t){const s=Ye(n);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),c=o&&o.key;if(c){let f=new qt(Le.comparator);f=f.insert(c,Un.newNoDocument(c,Ke.min()));const y=ct().add(c),v=new sm(Ke.min(),new Map,new qt(lt),f,y);await sE(s,v),s.du=s.du.remove(c),s.Au.delete(e),Yy(s)}else await Kg(s.localStore,e,!1).then((()=>Qg(s,e,t))).catch(zc)}async function Ek(n,e){const t=Ye(n),s=e.batch.batchId;try{const o=await OO(t.localStore,e);aE(t,s,null),rE(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await wh(t,o)}catch(o){await zc(o)}}async function Sk(n,e,t){const s=Ye(n);try{const o=await(function(f,y){const v=Ye(f);return v.persistence.runTransaction("Reject batch","readwrite-primary",(x=>{let w;return v.mutationQueue.lookupMutationBatch(x,y).next((A=>(_t(A!==null,37113),w=A.keys(),v.mutationQueue.removeMutationBatch(x,A)))).next((()=>v.mutationQueue.performConsistencyCheck(x))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(x,w,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(x,w))).next((()=>v.localDocuments.getDocuments(x,w)))}))})(s.localStore,e);aE(s,e,t),rE(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await wh(s,o)}catch(o){await zc(o)}}function rE(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function aE(n,e,t){const s=Ye(n);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Qg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((s=>{n.Ru.containsKey(s)||oE(n,s)}))}function oE(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(By(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Yy(n))}function qb(n,e,t){for(const s of t)s instanceof tE?(n.Ru.addReference(s.key,e),Ak(n,s)):s instanceof nE?(je(Ky,"Document no longer in limbo: "+s.key),n.Ru.removeReference(s.key,e),n.Ru.containsKey(s.key)||oE(n,s.key)):He(19791,{wu:s})}function Ak(n,e){const t=e.key,s=t.path.canonicalString();n.du.get(t)||n.Eu.has(s)||(je(Ky,"New document in limbo: "+t),n.Eu.add(s),Yy(n))}function Yy(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Le(It.fromString(e)),s=n.fu.next();n.Au.set(s,new pk(t)),n.du=n.du.insert(t,s),$T(n.remoteStore,new co(rr(jy(t.path)),s,"TargetPurposeLimboResolution",Qf.ce))}}async function wh(n,e,t){const s=Ye(n),o=[],c=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((y,v)=>{f.push(s.pu(v,e,t).then((x=>{var w;if((x||t)&&s.isPrimaryClient){const A=x?!x.fromCache:(w=t==null?void 0:t.targetChanges.get(v.targetId))==null?void 0:w.current;s.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(x){o.push(x);const A=zy.As(v.targetId,x);c.push(A)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(v,x){const w=Ye(v);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>pe.forEach(x,(R=>pe.forEach(R.Es,(P=>w.persistence.referenceDelegate.addReference(A,R.targetId,P))).next((()=>pe.forEach(R.ds,(P=>w.persistence.referenceDelegate.removeReference(A,R.targetId,P)))))))))}catch(A){if(!Uc(A))throw A;je(Uy,"Failed to update sequence numbers: "+A)}for(const A of x){const R=A.targetId;if(!A.fromCache){const P=w.Ms.get(R),M=P.snapshotVersion,H=P.withLastLimboFreeSnapshotVersion(M);w.Ms=w.Ms.insert(R,H)}}})(s.localStore,c))}async function Nk(n,e){const t=Ye(n);if(!t.currentUser.isEqual(e)){je(Ky,"User change. New user:",e.toKey());const s=await HT(t.localStore,e);t.currentUser=e,(function(c,f){c.mu.forEach((y=>{y.forEach((v=>{v.reject(new Re(fe.CANCELLED,f))}))})),c.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await wh(t,s.Ls)}}function Rk(n,e){const t=Ye(n),s=t.Au.get(e);if(s&&s.hu)return ct().add(s.key);{let o=ct();const c=t.Iu.get(e);if(!c)return o;for(const f of c){const y=t.Tu.get(f);o=o.unionWith(y.view.nu)}return o}}function lE(n){const e=Ye(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=sE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Tk.bind(null,e),e.Pu.H_=hk.bind(null,e.eventManager),e.Pu.yu=dk.bind(null,e.eventManager),e}function Ck(n){const e=Ye(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ek.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Sk.bind(null,e),e}class Ef{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return PO(this.persistence,new IO,e.initialUser,this.serializer)}Cu(e){return new BT(Vy.mi,this.serializer)}Du(e){return new UO}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ef.provider={build:()=>new Ef};class Ik extends Ef{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){_t(this.persistence.referenceDelegate instanceof wf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new pO(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?_i.withCacheSize(this.cacheSizeBytes):_i.DEFAULT;return new BT((s=>wf.mi(s,t)),this.serializer)}}class Xg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Fb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Nk.bind(null,this.syncEngine),await lk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new uk})()}createDatastore(e){const t=rm(e.databaseInfo.databaseId),s=(function(c){return new GO(c)})(e.databaseInfo);return(function(c,f,y,v){return new YO(c,f,y,v)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,c,f,y){return new QO(s,o,c,f,y)})(this.localStore,this.datastore,e.asyncQueue,(t=>Fb(this.syncEngine,t,0)),(function(){return Lb.v()?new Lb:new BO})())}createSyncEngine(e,t){return(function(o,c,f,y,v,x,w){const A=new gk(o,c,f,y,v,x);return w&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const c=Ye(o);je(vl,"RemoteStore shutting down."),c.Ea.add(5),await bh(c),c.Aa.shutdown(),c.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}Xg.provider={build:()=>new Xg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):oa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo="FirestoreClient";class jk{constructor(e,t,s,o,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=zn.UNAUTHENTICATED,this.clientId=Sy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async f=>{je(Eo,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(je(Eo,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=$y(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function fg(n,e){n.asyncQueue.verifyOperationInProgress(),je(Eo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async o=>{s.isEqual(o)||(await HT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Gb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Mk(n);je(Eo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>zb(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,o)=>zb(e.remoteStore,o))),n._onlineComponents=e}async function Mk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){je(Eo,"Using user provided OfflineComponentProvider");try{await fg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===fe.FAILED_PRECONDITION||o.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Sc("Error using user provided cache. Falling back to memory cache: "+t),await fg(n,new Ef)}}else je(Eo,"Using default OfflineComponentProvider"),await fg(n,new Ik(void 0));return n._offlineComponents}async function uE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(je(Eo,"Using user provided OnlineComponentProvider"),await Gb(n,n._uninitializedComponentsProvider._online)):(je(Eo,"Using default OnlineComponentProvider"),await Gb(n,new Xg))),n._onlineComponents}function Pk(n){return uE(n).then((e=>e.syncEngine))}async function Jg(n){const e=await uE(n),t=e.eventManager;return t.onListen=yk.bind(null,e.syncEngine),t.onUnlisten=xk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=_k.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=bk.bind(null,e.syncEngine),t}function Ok(n,e,t={}){const s=new mo;return n.asyncQueue.enqueueAndForget((async()=>(function(c,f,y,v,x){const w=new cE({next:R=>{w.Nu(),f.enqueueAndForget((()=>JT(c,A))),R.fromCache&&v.source==="server"?x.reject(new Re(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):x.resolve(R)},error:R=>x.reject(R)}),A=new eE(y,w,{includeMetadataChanges:!0,qa:!0});return XT(c,A)})(await Jg(n),n.asyncQueue,e,t,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="firestore.googleapis.com",Zb=!0;class Kb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Re(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dE,this.ssl=Zb}else this.host=e.host,this.ssl=e.ssl??Zb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=UT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fO)throw new Re(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hE(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Re(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Re(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Re(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lm{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Re(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Re(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new UM;switch(s.type){case"firstParty":return new qM(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Re(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=$b.get(t);s&&(je("ComponentProvider","Removing Datastore"),$b.delete(t),s.terminate())})(this),Promise.resolve()}}function kk(n,e,t,s={}){var x;n=ia(n,lm);const o=bl(e),c=n._getSettings(),f={...c,emulatorOptions:n._getEmulatorOptions()},y=`${e}:${t}`;o&&(vy(`https://${y}`),xy("Firestore",!0)),c.host!==dE&&c.host!==y&&Sc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:y,ssl:o,emulatorOptions:s};if(!gl(v,f)&&(n._setSettings(v),s.mockUserToken)){let w,A;if(typeof s.mockUserToken=="string")w=s.mockUserToken,A=zn.MOCK_USER;else{w=z1(s.mockUserToken,(x=n._app)==null?void 0:x.options.projectId);const R=s.mockUserToken.sub||s.mockUserToken.user_id;if(!R)throw new Re(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new zn(R)}n._authCredentials=new BM(new X1(w,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ha(this.firestore,e,this._query)}}class sn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new po(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}toJSON(){return{type:sn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(_h(t,sn._jsonSchema))return new sn(e,s||null,new Le(It.fromString(t.referencePath)))}}sn._jsonSchemaVersion="firestore/documentReference/1.0",sn._jsonSchema={type:nn("string",sn._jsonSchemaVersion),referencePath:nn("string")};class po extends ha{constructor(e,t,s){super(e,t,jy(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new Le(e))}withConverter(e){return new po(this.firestore,e,this._path)}}function Du(n,e,...t){if(n=bi(n),J1("collection","path",e),n instanceof lm){const s=It.fromString(e,...t);return ob(s),new po(n,null,s)}{if(!(n instanceof sn||n instanceof po))throw new Re(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(It.fromString(e,...t));return ob(s),new po(n.firestore,null,s)}}function Ld(n,e,...t){if(n=bi(n),arguments.length===1&&(e=Sy.newId()),J1("doc","path",e),n instanceof lm){const s=It.fromString(e,...t);return ab(s),new sn(n,null,new Le(s))}{if(!(n instanceof sn||n instanceof po))throw new Re(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(It.fromString(e,...t));return ab(s),new sn(n.firestore,n instanceof po?n.converter:null,new Le(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="AsyncQueue";class Wb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qT(this,"async_queue_retry"),this._c=()=>{const s=dg();s&&je(Yb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=dg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=dg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new mo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Uc(e))throw e;je(Yb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,oa("INTERNAL UNHANDLED ERROR: ",Qb(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Gy.createAndSchedule(this,e,t,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&He(47125,{Pc:Qb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Qb(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(n){return(function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1})(n,["next","error","complete"])}class jc extends lm{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Wb,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Wb(e),this._firestoreClient=void 0,await e}}}function Dk(n,e){const t=typeof n=="object"?n:Ty(),s=typeof n=="string"?n:pf,o=Yf(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=D1("firestore");c&&kk(o,...c)}return o}function Wy(n){if(n._terminated)throw new Re(fe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Lk(n),n._firestoreClient}function Lk(n){var s,o,c;const e=n._freezeSettings(),t=(function(y,v,x,w){return new lP(y,v,x,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,hE(w.experimentalLongPollingOptions),w.useFetchStreams,w.isUsingEmulator)})(n._databaseId,((s=n._app)==null?void 0:s.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new jk(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(y){const v=y==null?void 0:y._online.build();return{_offline:y==null?void 0:y._offline.build(v),_online:v}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ls(Mn.fromBase64String(e))}catch(t){throw new Re(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ls(Mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ls._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_h(e,ls._jsonSchema))return ls.fromBase64String(e.bytes)}}ls._jsonSchemaVersion="firestore/bytes/1.0",ls._jsonSchema={type:nn("string",ls._jsonSchemaVersion),bytes:nn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Re(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return lt(this._lat,e._lat)||lt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:lr._jsonSchemaVersion}}static fromJSON(e){if(_h(e,lr._jsonSchema))return new lr(e.latitude,e.longitude)}}lr._jsonSchemaVersion="firestore/geoPoint/1.0",lr._jsonSchema={type:nn("string",lr._jsonSchemaVersion),latitude:nn("number"),longitude:nn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:cr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_h(e,cr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new cr(e.vectorValues);throw new Re(fe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}cr._jsonSchemaVersion="firestore/vectorValue/1.0",cr._jsonSchema={type:nn("string",cr._jsonSchemaVersion),vectorValues:nn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk=/^__.*__$/;class zk{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Sl(e,this.data,this.fieldMask,t,this.fieldTransforms):new vh(e,this.data,t,this.fieldTransforms)}}function mE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw He(40011,{Ac:n})}}class Xy{constructor(e,t,s,o,c,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Xy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Sf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(mE(this.Ac)&&Vk.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Uk{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||rm(e)}Cc(e,t,s,o=!1){return new Xy({Ac:e,methodName:t,Dc:s,path:jn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pE(n){const e=n._freezeSettings(),t=rm(n._databaseId);return new Uk(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Bk(n,e,t,s,o,c={}){const f=n.Cc(c.merge||c.mergeFields?2:0,e,t,o);_E("Data must be an object, but it was:",f,s);const y=gE(s,f);let v,x;if(c.merge)v=new Rs(f.fieldMask),x=f.fieldTransforms;else if(c.mergeFields){const w=[];for(const A of c.mergeFields){const R=Fk(e,A,t);if(!f.contains(R))throw new Re(fe.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);Gk(w,R)||w.push(R)}v=new Rs(w),x=f.fieldTransforms.filter((A=>v.covers(A.field)))}else v=null,x=f.fieldTransforms;return new zk(new os(y),v,x)}function Hk(n,e,t,s=!1){return Jy(t,n.Cc(s?4:3,e))}function Jy(n,e){if(yE(n=bi(n)))return _E("Unsupported field value:",e,n),gE(n,e);if(n instanceof fE)return(function(s,o){if(!mE(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let f=0;for(const y of s){let v=Jy(y,o.wc(f));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),f++}return{arrayValue:{values:c}}})(n,e)}return(function(s,o){if((s=bi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return jP(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Pt.fromDate(s);return{timestampValue:bf(o.serializer,c)}}if(s instanceof Pt){const c=new Pt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:bf(o.serializer,c)}}if(s instanceof lr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ls)return{bytesValue:PT(o.serializer,s._byteString)};if(s instanceof sn){const c=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Dy(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof cr)return(function(f,y){return{mapValue:{fields:{[lT]:{stringValue:cT},[gf]:{arrayValue:{values:f.toArray().map((x=>{if(typeof x!="number")throw y.Sc("VectorValues must only contain numeric values.");return My(y.serializer,x)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Wf(s)}`)})(n,e)}function gE(n,e){const t={};return nT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tl(n,((s,o)=>{const c=Jy(o,e.mc(s));c!=null&&(t[s]=c)})),{mapValue:{fields:t}}}function yE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Pt||n instanceof lr||n instanceof ls||n instanceof sn||n instanceof fE||n instanceof cr)}function _E(n,e,t){if(!yE(t)||!eT(t)){const s=Wf(t);throw s==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+s)}}function Fk(n,e,t){if((e=bi(e))instanceof Qy)return e._internalPath;if(typeof e=="string")return vE(n,e);throw Sf("Field path arguments must be of type string or ",n,!1,void 0,t)}const qk=new RegExp("[~\\*/\\[\\]]");function vE(n,e,t){if(e.search(qk)>=0)throw Sf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Qy(...e.split("."))._internalPath}catch{throw Sf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Sf(n,e,t,s,o){const c=s&&!s.isEmpty(),f=o!==void 0;let y=`Function ${e}() called with invalid data`;t&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(c||f)&&(v+=" (found",c&&(v+=` in field ${s}`),f&&(v+=` in document ${o}`),v+=")"),new Re(fe.INVALID_ARGUMENT,y+n+v)}function Gk(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,t,s,o,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $k(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(cm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class $k extends xE{data(){return super.data()}}function cm(n,e){return typeof e=="string"?vE(n,e):e instanceof Qy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Re(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class e_{}class t_ extends e_{}function Lu(n,e,...t){let s=[];e instanceof e_&&s.push(e),s=s.concat(t),(function(c){const f=c.filter((v=>v instanceof n_)).length,y=c.filter((v=>v instanceof um)).length;if(f>1||f>0&&y>0)throw new Re(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)n=o._apply(n);return n}class um extends t_{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new um(e,t,s)}_apply(e){const t=this._parse(e);return wE(e._query,t),new ha(e.firestore,e.converter,Fg(e._query,t))}_parse(e){const t=pE(e.firestore);return(function(c,f,y,v,x,w,A){let R;if(x.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new Re(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){ew(A,w);const M=[];for(const H of A)M.push(Jb(v,c,H));R={arrayValue:{values:M}}}else R=Jb(v,c,A)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||ew(A,w),R=Hk(y,f,A,w==="in"||w==="not-in");return tn.create(x,w,R)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function tr(n,e,t){const s=e,o=cm("where",n);return um._create(o,s,t)}class n_ extends e_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n_(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:Ps.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,c){let f=o;const y=c.getFlattenedFilters();for(const v of y)wE(f,v),f=Fg(f,v)})(e._query,t),new ha(e.firestore,e.converter,Fg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class i_ extends t_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new i_(e,t)}_apply(e){const t=(function(o,c,f){if(o.startAt!==null)throw new Re(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Re(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new sh(c,f)})(e._query,this._field,this._direction);return new ha(e.firestore,e.converter,(function(o,c){const f=o.explicitOrderBy.concat([c]);return new Bc(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function mg(n,e="asc"){const t=e,s=cm("orderBy",n);return i_._create(s,t)}class s_ extends t_{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new s_(e,t,s)}_apply(e){return new ha(e.firestore,e.converter,_f(e._query,this._limit,this._limitType))}}function pg(n){return QM("limit",n),s_._create("limit",n,"F")}function Jb(n,e,t){if(typeof(t=bi(t))=="string"){if(t==="")throw new Re(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yT(e)&&t.indexOf("/")!==-1)throw new Re(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(It.fromString(t));if(!Le.isDocumentKey(s))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return pb(n,new Le(s))}if(t instanceof sn)return pb(n,t._key);throw new Re(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wf(t)}.`)}function ew(n,e){if(!Array.isArray(n)||n.length===0)throw new Re(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wE(n,e){const t=(function(o,c){for(const f of o)for(const y of f.getFlattenedFilters())if(c.indexOf(y.op)>=0)return y.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Re(fe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Re(fe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Zk{convertValue(e,t="none"){switch(wo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw He(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Tl(e,((o,c)=>{s[o]=this.convertValue(c,t)})),s}convertVectorValue(e){var s,o,c;const t=(c=(o=(s=e.fields)==null?void 0:s[gf].arrayValue)==null?void 0:o.values)==null?void 0:c.map((f=>Qt(f.doubleValue)));return new cr(t)}convertGeoPoint(e){return new lr(Qt(e.latitude),Qt(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Jf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(th(e));default:return null}}convertTimestamp(e){const t=xo(e);return new Pt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=It.fromString(e);_t(zT(s),9688,{name:e});const o=new nh(s.get(1),s.get(3)),c=new Le(s.popFirst(5));return o.isEqual(t)||oa(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(n,e,t){let s;return s=n?n.toFirestore(e):e,s}class qu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dl extends xE{constructor(e,t,s,o,c,f){super(e,t,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Xd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(cm("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Re(fe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=dl._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}dl._jsonSchemaVersion="firestore/documentSnapshot/1.0",dl._jsonSchema={type:nn("string",dl._jsonSchemaVersion),bundleSource:nn("string","DocumentSnapshot"),bundleName:nn("string"),bundle:nn("string")};class Xd extends dl{data(e={}){return super.data(e)}}class fl{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new qu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Xd(this._firestore,this._userDataWriter,s.key,s,new qu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Re(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((y=>{const v=new Xd(o._firestore,o._userDataWriter,y.doc.key,y.doc,new qu(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const v=new Xd(o._firestore,o._userDataWriter,y.doc.key,y.doc,new qu(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let x=-1,w=-1;return y.type!==0&&(x=f.indexOf(y.doc.key),f=f.delete(y.doc.key)),y.type!==1&&(f=f.add(y.doc),w=f.indexOf(y.doc.key)),{type:Yk(y.type),doc:v,oldIndex:x,newIndex:w}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Re(fe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Sy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(t.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Yk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return He(61501,{type:n})}}fl._jsonSchemaVersion="firestore/querySnapshot/1.0",fl._jsonSchema={type:nn("string",fl._jsonSchemaVersion),bundleSource:nn("string","QuerySnapshot"),bundleName:nn("string"),bundle:nn("string")};class r_ extends Zk{constructor(e){super(),this.firestore=e}convertBytes(e){return new ls(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,t)}}function Vd(n){n=ia(n,ha);const e=ia(n.firestore,jc),t=Wy(e),s=new r_(e);return bE(n._query),Ok(t,n._query).then((o=>new fl(e,s,n,o)))}function tw(n,e,t){n=ia(n,sn);const s=ia(n.firestore,jc),o=Kk(n.converter,e);return TE(s,[Bk(pE(s),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,ar.none())])}function nw(n){return TE(ia(n.firestore,jc),[new Py(n._key,ar.none())])}function Wk(n,...e){var v,x,w;n=bi(n);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Xb(e[s])||(t=e[s++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Xb(e[s])){const A=e[s];e[s]=(v=A.next)==null?void 0:v.bind(A),e[s+1]=(x=A.error)==null?void 0:x.bind(A),e[s+2]=(w=A.complete)==null?void 0:w.bind(A)}let c,f,y;if(n instanceof sn)f=ia(n.firestore,jc),y=jy(n._key.path),c={next:A=>{e[s]&&e[s](Qk(f,n,A))},error:e[s+1],complete:e[s+2]};else{const A=ia(n,ha);f=ia(A.firestore,jc),y=A._query;const R=new r_(f);c={next:P=>{e[s]&&e[s](new fl(f,R,A,P))},error:e[s+1],complete:e[s+2]},bE(n._query)}return(function(R,P,M,H){const V=new cE(H),ce=new eE(P,V,M);return R.asyncQueue.enqueueAndForget((async()=>XT(await Jg(R),ce))),()=>{V.Nu(),R.asyncQueue.enqueueAndForget((async()=>JT(await Jg(R),ce)))}})(Wy(f),y,o,c)}function TE(n,e){return(function(s,o){const c=new mo;return s.asyncQueue.enqueueAndForget((async()=>wk(await Pk(s),o,c))),c.promise})(Wy(n),e)}function Qk(n,e,t){const s=t.docs.get(e._key),o=new r_(n);return new dl(n,o,e._key,s,new qu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Vc=o})(wl),yl(new _o("firestore",((s,{instanceIdentifier:o,options:c})=>{const f=s.getProvider("app").getImmediate(),y=new jc(new HM(s.getProvider("auth-internal")),new GM(f,s.getProvider("app-check-internal")),(function(x,w){if(!Object.prototype.hasOwnProperty.apply(x.options,["projectId"]))throw new Re(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nh(x.options.projectId,w)})(f,o),f);return c={useFetchStreams:t,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),sr(nb,ib,e),sr(nb,ib,"esm2020")})();var Xk="firebase",Jk="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sr(Xk,Jk,"app");function EE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eD=EE,SE=new gh("auth","Firebase",EE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af=new by("@firebase/auth");function tD(n,...e){Af.logLevel<=ot.WARN&&Af.warn(`Auth (${wl}): ${n}`,...e)}function Jd(n,...e){Af.logLevel<=ot.ERROR&&Af.error(`Auth (${wl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(n,...e){throw a_(n,...e)}function ur(n,...e){return a_(n,...e)}function AE(n,e,t){const s={...eD(),[e]:t};return new gh("auth","Firebase",s).create(e,{appName:n.name})}function ml(n){return AE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function a_(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return SE.create(n,...e)}function $e(n,e,...t){if(!n)throw a_(e,...t)}function Jr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Jd(e),new Error(e)}function ua(n,e){n||Jr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function nD(){return iw()==="http:"||iw()==="https:"}function iw(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nD()||vj()||"connection"in navigator)?navigator.onLine:!0}function sD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,t){this.shortDelay=e,this.longDelay=t,ua(t>e,"Short delay should be less than long delay!"),this.isMobile=gj()||xj()}get(){return iD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(n,e){ua(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],oD=new Th(3e4,6e4);function l_(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Fc(n,e,t,s,o={}){return RE(n,o,async()=>{let c={},f={};s&&(e==="GET"?f=s:c={body:JSON.stringify(s)});const y=yh({key:n.config.apiKey,...f}).slice(1),v=await n._getAdditionalHeaders();v["Content-Type"]="application/json",n.languageCode&&(v["X-Firebase-Locale"]=n.languageCode);const x={method:e,headers:v,...c};return _j()||(x.referrerPolicy="no-referrer"),n.emulatorConfig&&bl(n.emulatorConfig.host)&&(x.credentials="include"),NE.fetch()(await CE(n,n.config.apiHost,t,y),x)})}async function RE(n,e,t){n._canInitEmulator=!1;const s={...rD,...e};try{const o=new cD(n),c=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw zd(n,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const y=c.ok?f.errorMessage:f.error.message,[v,x]=y.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw zd(n,"credential-already-in-use",f);if(v==="EMAIL_EXISTS")throw zd(n,"email-already-in-use",f);if(v==="USER_DISABLED")throw zd(n,"user-disabled",f);const w=s[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(x)throw AE(n,w,x);ca(n,w)}}catch(o){if(o instanceof gr)throw o;ca(n,"network-request-failed",{message:String(o)})}}async function lD(n,e,t,s,o={}){const c=await Fc(n,e,t,s,o);return"mfaPendingCredential"in c&&ca(n,"multi-factor-auth-required",{_serverResponse:c}),c}async function CE(n,e,t,s){const o=`${e}${t}?${s}`,c=n,f=c.config.emulator?o_(n.config,o):`${n.config.apiScheme}://${o}`;return aD.includes(t)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}class cD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(ur(this.auth,"network-request-failed")),oD.get())})}}function zd(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=ur(n,e,s);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uD(n,e){return Fc(n,"POST","/v1/accounts:delete",e)}async function Nf(n,e){return Fc(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hD(n,e=!1){const t=bi(n),s=await t.getIdToken(e),o=c_(s);$e(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c==null?void 0:c.sign_in_provider;return{claims:o,token:s,authTime:Wu(gg(o.auth_time)),issuedAtTime:Wu(gg(o.iat)),expirationTime:Wu(gg(o.exp)),signInProvider:f||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function gg(n){return Number(n)*1e3}function c_(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return Jd("JWT malformed, contained fewer than 3 sections"),null;try{const o=O1(t);return o?JSON.parse(o):(Jd("Failed to decode base64 JWT payload"),null)}catch(o){return Jd("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function sw(n){const e=c_(n);return $e(e,"internal-error"),$e(typeof e.exp<"u","internal-error"),$e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oh(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof gr&&dD(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function dD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wu(this.lastLoginAt),this.creationTime=Wu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rf(n){var A;const e=n.auth,t=await n.getIdToken(),s=await oh(n,Nf(e,{idToken:t}));$e(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const c=(A=o.providerUserInfo)!=null&&A.length?IE(o.providerUserInfo):[],f=pD(n.providerData,c),y=n.isAnonymous,v=!(n.email&&o.passwordHash)&&!(f!=null&&f.length),x=y?v:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new ty(o.createdAt,o.lastLoginAt),isAnonymous:x};Object.assign(n,w)}async function mD(n){const e=bi(n);await Rf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pD(n,e){return[...n.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function IE(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gD(n,e){const t=await RE(n,{},async()=>{const s=yh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=n.config,f=await CE(n,o,"/v1/token",`key=${c}`),y=await n._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:y,body:s};return n.emulatorConfig&&bl(n.emulatorConfig.host)&&(v.credentials="include"),NE.fetch()(f,v)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function yD(n,e){return Fc(n,"POST","/v2/accounts:revokeToken",l_(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$e(e.idToken,"internal-error"),$e(typeof e.idToken<"u","internal-error"),$e(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){$e(e.length!==0,"internal-error");const t=sw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:($e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:c}=await gD(e,t);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:c}=t,f=new bc;return s&&($e(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&($e(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),c&&($e(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bc,this.toJSON())}_performRefresh(){return Jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(n,e){$e(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Cs{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new fD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ty(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await oh(this,this.stsTokenManager.getToken(this.auth,e));return $e(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return hD(this,e)}reload(){return mD(this)}_assign(e){this!==e&&($e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Cs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){$e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Rf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ns(this.auth.app))return Promise.reject(ml(this.auth));const e=await this.getIdToken();return await oh(this,uD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,c=t.phoneNumber??void 0,f=t.photoURL??void 0,y=t.tenantId??void 0,v=t._redirectEventId??void 0,x=t.createdAt??void 0,w=t.lastLoginAt??void 0,{uid:A,emailVerified:R,isAnonymous:P,providerData:M,stsTokenManager:H}=t;$e(A&&H,e,"internal-error");const V=bc.fromJSON(this.name,H);$e(typeof A=="string",e,"internal-error"),io(s,e.name),io(o,e.name),$e(typeof R=="boolean",e,"internal-error"),$e(typeof P=="boolean",e,"internal-error"),io(c,e.name),io(f,e.name),io(y,e.name),io(v,e.name),io(x,e.name),io(w,e.name);const ce=new Cs({uid:A,auth:e,email:o,emailVerified:R,displayName:s,isAnonymous:P,photoURL:f,phoneNumber:c,tenantId:y,stsTokenManager:V,createdAt:x,lastLoginAt:w});return M&&Array.isArray(M)&&(ce.providerData=M.map(G=>({...G}))),v&&(ce._redirectEventId=v),ce}static async _fromIdTokenResponse(e,t,s=!1){const o=new bc;o.updateFromServerResponse(t);const c=new Cs({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Rf(c),c}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];$e(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?IE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),y=new bc;y.updateFromIdToken(s);const v=new Cs({uid:o.localId,auth:e,stsTokenManager:y,isAnonymous:f}),x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new ty(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(v,x),v}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw=new Map;function ea(n){ua(n instanceof Function,"Expected a class definition");let e=rw.get(n);return e?(ua(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,rw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}jE.type="NONE";const aw=jE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(n,e,t){return`firebase:${n}:${e}:${t}`}class wc{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=ef(this.userKey,o.apiKey,c),this.fullPersistenceKey=ef("persistence",o.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Nf(this.auth,{idToken:e}).catch(()=>{});return t?Cs._fromGetAccountInfoResponse(this.auth,t,e):null}return Cs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new wc(ea(aw),e,s);const o=(await Promise.all(t.map(async x=>{if(await x._isAvailable())return x}))).filter(x=>x);let c=o[0]||ea(aw);const f=ef(s,e.config.apiKey,e.name);let y=null;for(const x of t)try{const w=await x._get(f);if(w){let A;if(typeof w=="string"){const R=await Nf(e,{idToken:w}).catch(()=>{});if(!R)break;A=await Cs._fromGetAccountInfoResponse(e,R,w)}else A=Cs._fromJSON(e,w);x!==c&&(y=A),c=x;break}}catch{}const v=o.filter(x=>x._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new wc(c,e,s):(c=v[0],y&&await c._set(f,y.toJSON()),await Promise.all(t.map(async x=>{if(x!==c)try{await x._remove(f)}catch{}})),new wc(c,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ME(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(LE(e))return"Blackberry";if(VE(e))return"Webos";if(PE(e))return"Safari";if((e.includes("chrome/")||OE(e))&&!e.includes("edge/"))return"Chrome";if(DE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function ME(n=Hn()){return/firefox\//i.test(n)}function PE(n=Hn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function OE(n=Hn()){return/crios\//i.test(n)}function kE(n=Hn()){return/iemobile/i.test(n)}function DE(n=Hn()){return/android/i.test(n)}function LE(n=Hn()){return/blackberry/i.test(n)}function VE(n=Hn()){return/webos/i.test(n)}function u_(n=Hn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function _D(n=Hn()){var e;return u_(n)&&!!((e=window.navigator)!=null&&e.standalone)}function vD(){return bj()&&document.documentMode===10}function zE(n=Hn()){return u_(n)||DE(n)||VE(n)||LE(n)||/windows phone/i.test(n)||kE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(n,e=[]){let t;switch(n){case"Browser":t=ow(Hn());break;case"Worker":t=`${ow(Hn())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${wl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=c=>new Promise((f,y)=>{try{const v=e(c);f(v)}catch(v){y(v)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bD(n,e={}){return Fc(n,"GET","/v2/passwordPolicy",l_(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=6;class TD{constructor(e){var s;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??wD,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lw(this),this.idTokenSubscription=new lw(this),this.beforeStateQueue=new xD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ea(t)),this._initializationPromise=this.queue(async()=>{var s,o,c;if(!this._deleted&&(this.persistenceManager=await wc.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Nf(this,{idToken:e}),s=await Cs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var c;if(Ns(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(y=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(y,y))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(c=this.redirectUser)==null?void 0:c._redirectEventId,y=s==null?void 0:s._redirectEventId,v=await this.tryRedirectSignIn(e);(!f||f===y)&&(v!=null&&v.user)&&(s=v.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(f){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return $e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Rf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ns(this.app))return Promise.reject(ml(this));const t=e?bi(e):null;return t&&$e(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&$e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ns(this.app)?Promise.reject(ml(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ns(this.app)?Promise.reject(ml(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ea(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bD(this),t=new TD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gh("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await yD(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ea(e)||this._popupRedirectResolver;$e(t,this,"argument-error"),this.redirectPersistenceManager=await wc.create(this,[ea(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let f=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if($e(y,this,"internal-error"),y.then(()=>{f||c(this.currentUser)}),typeof t=="function"){const v=e.addObserver(t,s,o);return()=>{f=!0,v()}}else{const v=e.addObserver(t);return()=>{f=!0,v()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var t;if(Ns(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&tD(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function h_(n){return bi(n)}class lw{constructor(e){this.auth=e,this.observer=null,this.addObserver=Cj(t=>this.observer=t)}get next(){return $e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SD(n){d_=n}function AD(n){return d_.loadJS(n)}function ND(){return d_.gapiScript}function RD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(n,e){const t=Yf(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),c=t.getOptions();if(gl(c,e??{}))return o;ca(o,"already-initialized")}return t.initialize({options:e})}function ID(n,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(ea);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function jD(n,e,t){const s=h_(n);$e(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=BE(e),{host:f,port:y}=MD(e),v=y===null?"":`:${y}`,x={url:`${c}//${f}${v}/`},w=Object.freeze({host:f,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){$e(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),$e(gl(x,s.config.emulator)&&gl(w,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=x,s.emulatorConfig=w,s.settings.appVerificationDisabledForTesting=!0,bl(f)?(vy(`${c}//${f}${v}`),xy("Auth",!0)):PD()}function BE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function MD(n){const e=BE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:cw(s.substr(c.length+1))}}else{const[c,f]=s.split(":");return{host:c,port:cw(f)}}}function cw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function PD(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Jr("not implemented")}_getIdTokenResponse(e){return Jr("not implemented")}_linkToIdToken(e,t){return Jr("not implemented")}_getReauthenticationResolver(e){return Jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tc(n,e){return lD(n,"POST","/v1/accounts:signInWithIdp",l_(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD="http://localhost";class xl extends HE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new xl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ca("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=t;if(!s||!o)return null;const f=new xl(s,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const t=this.buildRequest();return Tc(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Tc(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Tc(e,t)}buildRequest(){const e={requestUri:OD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=yh(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh extends FE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends Eh{constructor(){super("facebook.com")}static credential(e){return xl._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ro.credential(e.oauthAccessToken)}catch{return null}}}ro.FACEBOOK_SIGN_IN_METHOD="facebook.com";ro.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends Eh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return xl._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return ao.credential(t,s)}catch{return null}}}ao.GOOGLE_SIGN_IN_METHOD="google.com";ao.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends Eh{constructor(){super("github.com")}static credential(e){return xl._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oo.credential(e.oauthAccessToken)}catch{return null}}}oo.GITHUB_SIGN_IN_METHOD="github.com";oo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo extends Eh{constructor(){super("twitter.com")}static credential(e,t){return xl._fromParams({providerId:lo.PROVIDER_ID,signInMethod:lo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return lo.credentialFromTaggedObject(e)}static credentialFromError(e){return lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return lo.credential(t,s)}catch{return null}}}lo.TWITTER_SIGN_IN_METHOD="twitter.com";lo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const c=await Cs._fromIdTokenResponse(e,s,o),f=uw(s);return new Mc({user:c,providerId:f,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=uw(s);return new Mc({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function uw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf extends gr{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Cf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Cf(e,t,s,o)}}function qE(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Cf._fromErrorAndOperation(n,c,e,s):c})}async function kD(n,e,t=!1){const s=await oh(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Mc._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(n,e,t=!1){const{auth:s}=n;if(Ns(s.app))return Promise.reject(ml(s));const o="reauthenticate";try{const c=await oh(n,qE(s,o,e,n),t);$e(c.idToken,s,"internal-error");const f=c_(c.idToken);$e(f,s,"internal-error");const{sub:y}=f;return $e(n.uid===y,s,"user-mismatch"),Mc._forOperation(n,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&ca(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LD(n,e,t=!1){if(Ns(n.app))return Promise.reject(ml(n));const s="signIn",o=await qE(n,s,e),c=await Mc._fromIdTokenResponse(n,s,o);return t||await n._updateCurrentUser(c.user),c}function VD(n,e,t,s){return bi(n).onIdTokenChanged(e,t,s)}function zD(n,e,t){return bi(n).beforeAuthStateChanged(e,t)}const If="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(If,"1"),this.storage.removeItem(If),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=1e3,BD=10;class $E extends GE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((f,y,v)=>{this.notifyListeners(f,v)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!t&&this.localCache[s]===f||this.notifyListeners(s,f)},c=this.storage.getItem(s);vD()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,BD):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},UD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}$E.type="LOCAL";const HD=$E;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE extends GE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ZE.type="SESSION";const KE=ZE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new hm(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:c}=t.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const y=Array.from(f).map(async x=>x(t.origin,c)),v=await FD(y);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:v})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((y,v)=>{const x=f_("",20);o.port1.start();const w=setTimeout(()=>{v(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const R=A;if(R.data.eventId===x)switch(R.data.status){case"ack":clearTimeout(w),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(R.data.response);break;default:clearTimeout(w),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:x,data:t},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(){return window}function GD(n){hr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(){return typeof hr().WorkerGlobalScope<"u"&&typeof hr().importScripts=="function"}async function $D(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZD(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function KD(){return YE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="firebaseLocalStorageDb",YD=1,jf="firebaseLocalStorage",QE="fbase_key";class Sh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function dm(n,e){return n.transaction([jf],e?"readwrite":"readonly").objectStore(jf)}function WD(){const n=indexedDB.deleteDatabase(WE);return new Sh(n).toPromise()}function ny(){const n=indexedDB.open(WE,YD);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(jf,{keyPath:QE})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(jf)?e(s):(s.close(),await WD(),e(await ny()))})})}async function hw(n,e,t){const s=dm(n,!0).put({[QE]:e,value:t});return new Sh(s).toPromise()}async function QD(n,e){const t=dm(n,!1).get(e),s=await new Sh(t).toPromise();return s===void 0?null:s.value}function dw(n,e){const t=dm(n,!0).delete(e);return new Sh(t).toPromise()}const XD=800,JD=3;class XE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ny(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>JD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return YE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hm._getInstance(KD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,s;if(this.activeServiceWorker=await $D(),!this.activeServiceWorker)return;this.sender=new qD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ZD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ny();return await hw(e,If,"1"),await dw(e,If),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>hw(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>QD(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>dw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=dm(o,!1).getAll();return new Sh(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XE.type="LOCAL";const e4=XE;new Th(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(n,e){return e?ea(e):($e(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_ extends HE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Tc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Tc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function n4(n){return LD(n.auth,new m_(n),n.bypassAuthState)}function i4(n){const{auth:e,user:t}=n;return $e(t,e,"internal-error"),DD(t,new m_(n),n.bypassAuthState)}async function s4(n){const{auth:e,user:t}=n;return $e(t,e,"internal-error"),kD(t,new m_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,t,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:c,error:f,type:y}=e;if(f){this.reject(f);return}const v={auth:this.auth,requestUri:t,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(v))}catch(x){this.reject(x)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return n4;case"linkViaPopup":case"linkViaRedirect":return s4;case"reauthViaPopup":case"reauthViaRedirect":return i4;default:ca(this.auth,"internal-error")}}resolve(e){ua(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ua(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=new Th(2e3,1e4);class vc extends JE{constructor(e,t,s,o,c){super(e,t,o,c),this.provider=s,this.authWindow=null,this.pollId=null,vc.currentPopupAction&&vc.currentPopupAction.cancel(),vc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $e(e,this.auth,"internal-error"),e}async onExecution(){ua(this.filter.length===1,"Popup operations only handle one event");const e=f_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if((s=(t=this.authWindow)==null?void 0:t.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,r4.get())};e()}}vc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4="pendingRedirect",tf=new Map;class o4 extends JE{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=tf.get(this.auth._key());if(!e){try{const s=await l4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}tf.set(this.auth._key(),e)}return this.bypassAuthState||tf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function l4(n,e){const t=h4(e),s=u4(n);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function c4(n,e){tf.set(n._key(),e)}function u4(n){return ea(n._redirectPersistence)}function h4(n){return ef(a4,n.config.apiKey,n.name)}async function d4(n,e,t=!1){if(Ns(n.app))return Promise.reject(ml(n));const s=h_(n),o=t4(s,e),f=await new o4(s,o,t).execute();return f&&!t&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=600*1e3;class m4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!p4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!eS(e)){const o=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";t.onError(ur(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=f4&&this.cachedEventUids.clear(),this.cachedEventUids.has(fw(e))}saveEventToCache(e){this.cachedEventUids.add(fw(e)),this.lastProcessedEventTime=Date.now()}}function fw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function eS({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function p4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g4(n,e={}){return Fc(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_4=/^https?/;async function v4(n){if(n.config.emulator)return;const{authorizedDomains:e}=await g4(n);for(const t of e)try{if(x4(t))return}catch{}ca(n,"unauthorized-domain")}function x4(n){const e=ey(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const f=new URL(n);return f.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&f.hostname===s}if(!_4.test(t))return!1;if(y4.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=new Th(3e4,6e4);function mw(){const n=hr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function w4(n){return new Promise((e,t)=>{var o,c,f;function s(){mw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mw(),t(ur(n,"network-request-failed"))},timeout:b4.get()})}if((c=(o=hr().gapi)==null?void 0:o.iframes)!=null&&c.Iframe)e(gapi.iframes.getContext());else if((f=hr().gapi)!=null&&f.load)s();else{const y=RD("iframefcb");return hr()[y]=()=>{gapi.load?s():t(ur(n,"network-request-failed"))},AD(`${ND()}?onload=${y}`).catch(v=>t(v))}}).catch(e=>{throw nf=null,e})}let nf=null;function T4(n){return nf=nf||w4(n),nf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=new Th(5e3,15e3),S4="__/auth/iframe",A4="emulator/auth/iframe",N4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},R4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function C4(n){const e=n.config;$e(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?o_(e,A4):`https://${n.config.authDomain}/${S4}`,s={apiKey:e.apiKey,appName:n.name,v:wl},o=R4.get(n.config.apiHost);o&&(s.eid=o);const c=n._getFrameworks();return c.length&&(s.fw=c.join(",")),`${t}?${yh(s).slice(1)}`}async function I4(n){const e=await T4(n),t=hr().gapi;return $e(t,n,"internal-error"),e.open({where:document.body,url:C4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:N4,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const f=ur(n,"network-request-failed"),y=hr().setTimeout(()=>{c(f)},E4.get());function v(){hr().clearTimeout(y),o(s)}s.ping(v).then(v,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},M4=500,P4=600,O4="_blank",k4="http://localhost";class pw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function D4(n,e,t,s=M4,o=P4){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let y="";const v={...j4,width:s.toString(),height:o.toString(),top:c,left:f},x=Hn().toLowerCase();t&&(y=OE(x)?O4:t),ME(x)&&(e=e||k4,v.scrollbars="yes");const w=Object.entries(v).reduce((R,[P,M])=>`${R}${P}=${M},`,"");if(_D(x)&&y!=="_self")return L4(e||"",y),new pw(null);const A=window.open(e||"",y,w);$e(A,n,"popup-blocked");try{A.focus()}catch{}return new pw(A)}function L4(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4="__/auth/handler",z4="emulator/auth/handler",U4=encodeURIComponent("fac");async function gw(n,e,t,s,o,c){$e(n.config.authDomain,n,"auth-domain-config-required"),$e(n.config.apiKey,n,"invalid-api-key");const f={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:wl,eventId:o};if(e instanceof FE){e.setDefaultLanguage(n.languageCode),f.providerId=e.providerId||"",Rj(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,A]of Object.entries({}))f[w]=A}if(e instanceof Eh){const w=e.getScopes().filter(A=>A!=="");w.length>0&&(f.scopes=w.join(","))}n.tenantId&&(f.tid=n.tenantId);const y=f;for(const w of Object.keys(y))y[w]===void 0&&delete y[w];const v=await n._getAppCheckToken(),x=v?`#${U4}=${encodeURIComponent(v)}`:"";return`${B4(n)}?${yh(y).slice(1)}${x}`}function B4({config:n}){return n.emulator?o_(n,z4):`https://${n.authDomain}/${V4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg="webStorageSupport";class H4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KE,this._completeRedirectFn=d4,this._overrideRedirectResult=c4}async _openPopup(e,t,s,o){var f;ua((f=this.eventManagers[e._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const c=await gw(e,t,s,ey(),o);return D4(e,c,f_())}async _openRedirect(e,t,s,o){await this._originValidation(e);const c=await gw(e,t,s,ey(),o);return GD(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:c}=this.eventManagers[t];return o?Promise.resolve(o):(ua(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await I4(e),s=new m4(e);return t.register("authEvent",o=>($e(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(yg,{type:yg},o=>{var f;const c=(f=o==null?void 0:o[0])==null?void 0:f[yg];c!==void 0&&t(!!c),ca(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=v4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return zE()||PE()||u_()}}const F4=H4;var yw="@firebase/auth",_w="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){$e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $4(n){yl(new _o("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:y}=s.options;$e(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const v={apiKey:f,authDomain:y,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UE(n)},x=new ED(s,o,c,v);return ID(x,t),x},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),yl(new _o("auth-internal",e=>{const t=h_(e.getProvider("auth").getImmediate());return(s=>new q4(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),sr(yw,_w,G4(n)),sr(yw,_w,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4=300,K4=V1("authIdTokenMaxAge")||Z4;let vw=null;const Y4=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>K4)return;const o=t==null?void 0:t.token;vw!==o&&(vw=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function W4(n=Ty()){const e=Yf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=CD(n,{popupRedirectResolver:F4,persistence:[e4,HD,KE]}),s=V1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const f=Y4(c.toString());zD(t,f,()=>f(t.currentUser)),VD(t,y=>f(y))}}const o=k1("auth");return o&&jD(t,`http://${o}`),t}function Q4(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}SD({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=o=>{const c=ur("internal-error");c.customData=o,t(c)},s.type="text/javascript",s.charset="UTF-8",Q4().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$4("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="firebasestorage.googleapis.com",X4="storageBucket",J4=120*1e3,e3=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends gr{constructor(e,t,s=0){super(_g(e),`Firebase Storage: ${t} (${_g(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return _g(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var mr;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(mr||(mr={}));function _g(n){return"storage/"+n}function t3(){const n="An unknown error occurred, please check the error payload for server response.";return new yr(mr.UNKNOWN,n)}function n3(){return new yr(mr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function i3(){return new yr(mr.CANCELED,"User canceled the upload/download.")}function s3(n){return new yr(mr.INVALID_URL,"Invalid URL '"+n+"'.")}function r3(n){return new yr(mr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function xw(n){return new yr(mr.INVALID_ARGUMENT,n)}function nS(){return new yr(mr.APP_DELETED,"The Firebase app was deleted.")}function a3(n){return new yr(mr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=Is.makeFromUrl(e,t)}catch{return new Is(e,"")}if(s.path==="")return s;throw r3(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function c(ve){ve.path.charAt(ve.path.length-1)==="/"&&(ve.path_=ve.path_.slice(0,-1))}const f="(/(.*))?$",y=new RegExp("^gs://"+o+f,"i"),v={bucket:1,path:3};function x(ve){ve.path_=decodeURIComponent(ve.path)}const w="v[A-Za-z0-9_]+",A=t.replace(/[.]/g,"\\."),R="(/([^?#]*).*)?$",P=new RegExp(`^https?://${A}/${w}/b/${o}/o${R}`,"i"),M={bucket:1,path:3},H=t===tS?"(?:storage.googleapis.com|storage.cloud.google.com)":t,V="([^?#]*)",ce=new RegExp(`^https?://${H}/${o}/${V}`,"i"),W=[{regex:y,indices:v,postModify:c},{regex:P,indices:M,postModify:x},{regex:ce,indices:{bucket:1,path:2},postModify:x}];for(let ve=0;ve<W.length;ve++){const le=W[ve],xe=le.regex.exec(e);if(xe){const q=xe[le.indices.bucket];let O=xe[le.indices.path];O||(O=""),s=new Is(q,O),le.postModify(s);break}}if(s==null)throw s3(e);return s}}class o3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(n,e,t){let s=1,o=null,c=null,f=!1,y=0;function v(){return y===2}let x=!1;function w(...V){x||(x=!0,e.apply(null,V))}function A(V){o=setTimeout(()=>{o=null,n(P,v())},V)}function R(){c&&clearTimeout(c)}function P(V,...ce){if(x){R();return}if(V){R(),w.call(null,V,...ce);return}if(v()||f){R(),w.call(null,V,...ce);return}s<64&&(s*=2);let W;y===1?(y=2,W=0):W=(s+Math.random())*1e3,A(W)}let M=!1;function H(V){M||(M=!0,R(),!x&&(o!==null?(V||(y=2),clearTimeout(o),A(0)):V||(y=1)))}return A(0),c=setTimeout(()=>{f=!0,H(!0)},t),H}function c3(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(n){return n!==void 0}function bw(n,e,t,s){if(s<e)throw xw(`Invalid value for '${n}'. Expected ${e} or greater.`);if(s>t)throw xw(`Invalid value for '${n}'. Expected ${t} or less.`)}function h3(n){const e=encodeURIComponent;let t="?";for(const s in n)if(n.hasOwnProperty(s)){const o=e(s)+"="+e(n[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var Mf;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Mf||(Mf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,c=e.indexOf(n)!==-1;return t||o||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e,t,s,o,c,f,y,v,x,w,A,R=!0,P=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=f,this.callback_=y,this.errorCallback_=v,this.timeout_=x,this.progressCallback_=w,this.connectionFactory_=A,this.retry=R,this.isUsingEmulator=P,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,H)=>{this.resolve_=M,this.reject_=H,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Ud(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const f=y=>{const v=y.loaded,x=y.lengthComputable?y.total:-1;this.progressCallback_!==null&&this.progressCallback_(v,x)};this.progressCallback_!==null&&c.addUploadProgressListener(f),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(f),this.pendingConnection_=null;const y=c.getErrorCode()===Mf.NO_ERROR,v=c.getStatus();if(!y||d3(v,this.additionalRetryCodes_)&&this.retry){const w=c.getErrorCode()===Mf.ABORT;s(!1,new Ud(!1,null,w));return}const x=this.successCodes_.indexOf(v)!==-1;s(!0,new Ud(x,c))})},t=(s,o)=>{const c=this.resolve_,f=this.reject_,y=o.connection;if(o.wasSuccessCode)try{const v=this.callback_(y,y.getResponse());u3(v)?c(v):c()}catch(v){f(v)}else if(y!==null){const v=t3();v.serverResponse=y.getErrorText(),this.errorCallback_?f(this.errorCallback_(y,v)):f(v)}else if(o.canceled){const v=this.appDelete_?nS():i3();f(v)}else{const v=n3();f(v)}};this.canceled_?t(!1,new Ud(!1,null,!0)):this.backoffId_=l3(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&c3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ud{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function m3(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function p3(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function g3(n,e){e&&(n["X-Firebase-GMPID"]=e)}function y3(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function _3(n,e,t,s,o,c,f=!0,y=!1){const v=h3(n.urlParams),x=n.url+v,w=Object.assign({},n.headers);return g3(w,e),m3(w,t),p3(w,c),y3(w,s),new f3(x,n.method,w,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,f,y)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function x3(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,t){this._service=e,t instanceof Is?this._location=t:this._location=Is.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Pf(e,t)}get root(){const e=new Is(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return x3(this._location.path)}get storage(){return this._service}get parent(){const e=v3(this._location.path);if(e===null)return null;const t=new Is(this._location.bucket,e);return new Pf(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw a3(e)}}function ww(n,e){const t=e==null?void 0:e[X4];return t==null?null:Is.makeFromBucketSpec(t,n)}function b3(n,e,t,s={}){n.host=`${e}:${t}`;const o=bl(e);o&&(vy(`https://${n.host}/b`),xy("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:c}=s;c&&(n._overrideAuthToken=typeof c=="string"?c:z1(c,n.app.options.projectId))}class w3{constructor(e,t,s,o,c,f=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=f,this._bucket=null,this._host=tS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=J4,this._maxUploadRetryTime=e3,this._requests=new Set,o!=null?this._bucket=Is.makeFromBucketSpec(o,this._host):this._bucket=ww(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Is.makeFromBucketSpec(this._url,e):this._bucket=ww(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){bw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){bw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Ns(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Pf(this,e)}_makeRequest(e,t,s,o,c=!0){if(this._deleted)return new o3(nS());{const f=_3(e,this._appId,s,o,t,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const Tw="@firebase/storage",Ew="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="storage";function T3(n=Ty(),e){n=bi(n);const s=Yf(n,iS).getImmediate({identifier:e}),o=D1("storage");return o&&E3(s,...o),s}function E3(n,e,t,s={}){b3(n,e,t,s)}function S3(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),s=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new w3(t,s,o,e,wl)}function A3(){yl(new _o(iS,S3,"PUBLIC").setMultipleInstances(!0)),sr(Tw,Ew,""),sr(Tw,Ew,"esm2020")}A3();const N3={apiKey:"AIzaSyDpMc5FqjK_tTqGIheS8LNZIXyL9-rufqo",authDomain:"taranga-ocean-hazard-monitor.firebaseapp.com",projectId:"taranga-ocean-hazard-monitor",storageBucket:"taranga-ocean-hazard-monitor.firebasestorage.app",messagingSenderId:"663332665279",appId:"1:663332665279:web:19fa3ae9129668d941d30a"},p_=H1(N3);W4(p_);const Qr=Dk(p_);T3(p_);class R3{constructor(){this.collectionName="syntheticReports",this.socialMediaCollection="socialMediaPosts",this.listeners=new Map}async saveSyntheticReport(e){try{const t=`synthetic_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,s={id:t,...e,savedAt:new Date().toISOString(),isSynthetic:!0,source:"synthetic_generator"};await tw(Ld(Qr,this.collectionName,t),s);const o={...s,content:s.content,platform:s.platform,author:s.author,timestamp:s.timestamp,processedAt:new Date().toISOString(),sentiment:s.sentiment,keywords:s.keywords,relevanceScore:s.relevanceScore,isHazardRelated:!0,engagement:s.engagement,location:s.location,isSynthetic:!0,syntheticMetadata:{hazardType:s.hazardType,severity:s.severity,generatedAt:s.generatedAt}};return await tw(Ld(Qr,this.socialMediaCollection,t),o),console.log(`✅ Synthetic report saved to database: ${t}`),{reportId:t,dbReport:s,socialMediaReport:o}}catch(t){throw console.error("❌ Error saving synthetic report:",t),new Error(`Failed to save synthetic report: ${t.message}`)}}async saveMultipleSyntheticReports(e){try{const t=[];console.log(`💾 Saving ${e.length} synthetic reports to database...`);for(const s of e){const o=await this.saveSyntheticReport(s);t.push(o)}return console.log(`✅ Successfully saved ${t.length} synthetic reports`),t}catch(t){throw console.error("❌ Error saving multiple synthetic reports:",t),new Error(`Failed to save multiple synthetic reports: ${t.message}`)}}async getSyntheticReports(e={}){try{let t=Du(Qr,this.collectionName);const s=[];e.hazardType&&s.push(tr("hazardType","==",e.hazardType)),e.severity&&s.push(tr("severity","==",e.severity)),e.platform&&s.push(tr("platform","==",e.platform)),e.location&&s.push(tr("location.name","==",e.location)),e.startDate&&s.push(tr("generatedAt",">=",e.startDate)),e.endDate&&s.push(tr("generatedAt","<=",e.endDate)),s.push(mg("generatedAt","desc")),e.limit&&s.push(pg(e.limit)),t=Lu(t,...s);const o=await Vd(t),c=[];return o.forEach(f=>{c.push({id:f.id,...f.data()})}),c}catch(t){throw console.error("❌ Error fetching synthetic reports:",t),new Error(`Failed to fetch synthetic reports: ${t.message}`)}}async getSyntheticReportStats(e="24h"){try{const t=new Date,s=new Date;switch(e){case"1h":s.setHours(t.getHours()-1);break;case"24h":s.setDate(t.getDate()-1);break;case"7d":s.setDate(t.getDate()-7);break;case"30d":s.setDate(t.getDate()-30);break;default:s.setDate(t.getDate()-1)}const o=Lu(Du(Qr,this.collectionName),tr("generatedAt",">=",s.toISOString()),mg("generatedAt","desc")),c=await Vd(o),f=[];c.forEach(v=>f.push(v.data()));const y={total:f.length,byHazardType:{},bySeverity:{},byPlatform:{},bySentiment:{},timeRange:e,generatedAt:new Date().toISOString()};return f.forEach(v=>{var P;const x=v.hazardType||"unknown";y.byHazardType[x]=(y.byHazardType[x]||0)+1;const w=v.severity||"unknown";y.bySeverity[w]=(y.bySeverity[w]||0)+1;const A=v.platform||"unknown";y.byPlatform[A]=(y.byPlatform[A]||0)+1;const R=((P=v.sentiment)==null?void 0:P.label)||"unknown";y.bySentiment[R]=(y.bySentiment[R]||0)+1}),y}catch(t){throw console.error("❌ Error fetching synthetic report stats:",t),new Error(`Failed to fetch synthetic report stats: ${t.message}`)}}async deleteSyntheticReport(e){try{return await nw(Ld(Qr,this.collectionName,e)),await nw(Ld(Qr,this.socialMediaCollection,e)),console.log(`✅ Synthetic report deleted: ${e}`),!0}catch(t){throw console.error("❌ Error deleting synthetic report:",t),new Error(`Failed to delete synthetic report: ${t.message}`)}}async cleanupOldReports(e=30){try{const t=new Date;t.setDate(t.getDate()-e);const s=Lu(Du(Qr,this.collectionName),tr("generatedAt","<",t.toISOString())),o=await Vd(s),c=[];o.forEach(f=>{c.push({id:f.id,data:f.data()})}),console.log(`🧹 Found ${c.length} old synthetic reports to clean up`);for(const f of c)await this.deleteSyntheticReport(f.id);return{deleted:c.length,cutoffDate:t.toISOString()}}catch(t){throw console.error("❌ Error cleaning up old reports:",t),new Error(`Failed to cleanup old reports: ${t.message}`)}}subscribeToSyntheticReports(e,t={}){try{let s=Du(Qr,this.collectionName);const o=[];t.hazardType&&o.push(tr("hazardType","==",t.hazardType)),t.severity&&o.push(tr("severity","==",t.severity)),o.push(mg("generatedAt","desc")),t.limit&&o.push(pg(t.limit)),s=Lu(s,...o);const c=Wk(s,y=>{const v=[];y.forEach(x=>{v.push({id:x.id,...x.data()})}),e(v)},y=>{console.error("❌ Error in synthetic reports subscription:",y)}),f=`synthetic_reports_${Date.now()}`;return this.listeners.set(f,c),f}catch(s){throw console.error("❌ Error subscribing to synthetic reports:",s),new Error(`Failed to subscribe to synthetic reports: ${s.message}`)}}unsubscribeFromSyntheticReports(e){try{const t=this.listeners.get(e);return t?(t(),this.listeners.delete(e),console.log(`✅ Unsubscribed from synthetic reports: ${e}`),!0):!1}catch(t){throw console.error("❌ Error unsubscribing from synthetic reports:",t),new Error(`Failed to unsubscribe from synthetic reports: ${t.message}`)}}async getConnectionStatus(){try{const e=Lu(Du(Qr,this.collectionName),pg(1));return await Vd(e),{connected:!0,collection:this.collectionName,timestamp:new Date().toISOString()}}catch(e){return{connected:!1,error:e.message,timestamp:new Date().toISOString()}}}}const Vu=new R3,sl={syntheticReports:{isEnabled:!1,generationInterval:null,reportCount:0,startGeneration(n=5,e=3){if(this.isEnabled){console.warn("Synthetic report generation is already enabled");return}return this.isEnabled=!0,console.log(`Starting synthetic report generation: ${e} posts every ${n} minutes`),this.generationInterval=setInterval(()=>{const t=ig.generateMultiplePosts(e);this.reportCount+=t.length,window.socket&&t.forEach(s=>{window.socket.emit("synthetic-social-media-post",s)}),console.log(`Generated ${t.length} synthetic reports. Total: ${this.reportCount}`)},n*60*1e3),this.generationInterval},stopGeneration(){this.generationInterval&&(clearInterval(this.generationInterval),this.generationInterval=null),this.isEnabled=!1,console.log(`Stopped synthetic report generation. Total generated: ${this.reportCount}`)},async generateReports(n=5,e={}){try{const t=ig.generateMultiplePosts(n,e);return this.reportCount+=t.length,await Vu.saveMultipleSyntheticReports(t),window.socket&&t.forEach(s=>{window.socket.emit("synthetic-social-media-post",s)}),console.log(`✅ Generated and saved ${t.length} synthetic reports to database`),t}catch(t){throw console.error("❌ Error generating synthetic reports:",t),t}},getStats(){return{isEnabled:this.isEnabled,reportCount:this.reportCount,isGenerating:this.generationInterval!==null}},async generateHazardScenario(n,e,t="high",s=3){const o={hazardType:n,severity:t,location:typeof e=="string"?ig.config.locations.find(c=>c.name.toLowerCase()===e.toLowerCase()):e};return await this.generateReports(s,o)},async getSyntheticReportsFromDatabase(n={}){try{return await Vu.getSyntheticReports(n)}catch(e){throw console.error("❌ Error fetching synthetic reports from database:",e),e}},async getSyntheticReportStatsFromDatabase(n="24h"){try{return await Vu.getSyntheticReportStats(n)}catch(e){throw console.error("❌ Error fetching synthetic report stats from database:",e),e}},async cleanupOldSyntheticReports(n=30){try{return await Vu.cleanupOldReports(n)}catch(e){throw console.error("❌ Error cleaning up old synthetic reports:",e),e}},async getDatabaseConnectionStatus(){try{return await Vu.getConnectionStatus()}catch(n){return console.error("❌ Error checking database connection:",n),{connected:!1,error:n.message}}}}},C3=()=>{const[n,e]=U.useState({}),[t,s]=U.useState(null);U.useEffect(()=>{(()=>{const v=sl.syntheticReports.getStats();e(v)})()},[]);const o=()=>{const y=sl.syntheticReports.startGeneration(5,3);s(y),e(sl.syntheticReports.getStats())},c=()=>{sl.syntheticReports.stopGeneration(),s(null),e(sl.syntheticReports.getStats())},f=async()=>{await sl.syntheticReports.generateReports(5),e(sl.syntheticReports.getStats())};return d.jsxs("div",{className:"card",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Synthetic Report Generator"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("p",{children:["Status: ",n.isGenerating?"Running":"Stopped"]}),d.jsxs("p",{children:["Reports Generated: ",n.reportCount]}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{onClick:o,disabled:n.isGenerating,className:"btn-primary",children:"Start Generation"}),d.jsx("button",{onClick:c,disabled:!n.isGenerating,className:"btn-secondary",children:"Stop Generation"}),d.jsx("button",{onClick:f,className:"btn-secondary",children:"Generate 5 Reports"})]})]})]})},I3=({user:n})=>{const[e,t]=U.useState([]),[s,o]=U.useState({}),[c,f]=U.useState(""),[y,v]=U.useState("24h"),[x,w]=U.useState("all");U.useEffect(()=>dr.subscribe((H,V)=>{t(H),o(dr.getStatistics()),f(new Date().toLocaleTimeString())}),[]);const A=[{platform:"Twitter",mentions:247,sentiment:.3,trend:"+15%"},{platform:"Facebook",mentions:156,sentiment:.1,trend:"+8%"},{platform:"Instagram",mentions:89,sentiment:.6,trend:"+22%"},{platform:"YouTube",mentions:34,sentiment:.4,trend:"+5%"}],R=[{title:"Cyclone Pattern Analysis",description:"Seasonal cyclone frequency shows 23% increase compared to last year",priority:"high",timeframe:"30 days"},{title:"Coastal Erosion Trends",description:"Gujarat coastline showing accelerated erosion rates in 3 districts",priority:"medium",timeframe:"90 days"},{title:"Public Response Effectiveness",description:"Early warning system response time improved by 18%",priority:"low",timeframe:"60 days"}],P=M=>{console.log(`Generating ${M} report...`)};return d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Analytics & Intelligence Center"}),d.jsx("p",{className:"text-gray-600 mt-2",children:"Data-driven insights for ocean hazard patterns and trends"}),d.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[d.jsx(Xr,{className:"w-4 h-4 text-green-500"}),d.jsx("span",{className:"text-sm text-green-600",children:"Real-time Analysis Active"}),d.jsxs("span",{className:"text-sm text-gray-500",children:["• Last updated ",c]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:"text-sm text-gray-500",children:"Analysis Scope"}),d.jsx("div",{className:"text-lg font-semibold text-gray-900",children:"Pan-India Coastal"}),d.jsx("div",{className:"text-sm text-gray-600",children:"All Maritime States"})]})]})}),d.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Sg,{className:"w-4 h-4 text-gray-500"}),d.jsxs("select",{value:y,onChange:M=>v(M.target.value),className:"input text-sm",children:[d.jsx("option",{value:"24h",children:"Last 24 Hours"}),d.jsx("option",{value:"7d",children:"Last 7 Days"}),d.jsx("option",{value:"30d",children:"Last 30 Days"}),d.jsx("option",{value:"90d",children:"Last 90 Days"}),d.jsx("option",{value:"1y",children:"Last Year"})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(yo,{className:"w-4 h-4 text-gray-500"}),d.jsxs("select",{value:x,onChange:M=>w(M.target.value),className:"input text-sm",children:[d.jsx("option",{value:"all",children:"All Regions"}),d.jsx("option",{value:"west",children:"West Coast"}),d.jsx("option",{value:"east",children:"East Coast"}),d.jsx("option",{value:"south",children:"Southern Coast"}),d.jsx("option",{value:"islands",children:"Island Territories"})]})]}),d.jsxs("button",{className:"btn-primary flex items-center space-x-2",children:[d.jsx(s1,{className:"w-4 h-4"}),d.jsx("span",{children:"Export Data"})]}),d.jsxs("button",{className:"btn-secondary flex items-center space-x-2",children:[d.jsx(o1,{className:"w-4 h-4"}),d.jsx("span",{children:"Share Report"})]})]})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Total Reports"}),d.jsx(lf,{className:"w-5 h-5 text-blue-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:s.total||0}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(cl,{className:"w-4 h-4 text-green-500"}),d.jsx("p",{className:"text-green-600 text-sm",children:"+12% from last period"})]})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Pattern Recognition"}),d.jsx(af,{className:"w-5 h-5 text-purple-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:"87%"}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Accuracy rate"})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Social Mentions"}),d.jsx(uf,{className:"w-5 h-5 text-orange-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:"526"}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(cl,{className:"w-4 h-4 text-green-500"}),d.jsx("p",{className:"text-green-600 text-sm",children:"+18% today"})]})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Response Time"}),d.jsx(of,{className:"w-5 h-5 text-green-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"8.3m"}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Average analysis time"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Hazard Trends"}),d.jsx("button",{className:"btn-secondary",children:"Detailed View"})]}),d.jsx("div",{className:"space-y-4",children:Object.entries(s.byType||{}).map(([M,H],V)=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:`w-3 h-3 rounded-full ${M==="cyclone"?"bg-red-500":M==="flood"?"bg-blue-500":M==="tsunami"?"bg-purple-500":"bg-gray-500"}`}),d.jsx("span",{className:"font-medium text-gray-900 capitalize",children:M})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:"font-bold text-gray-900",children:H}),d.jsx("div",{className:"text-sm text-gray-500",children:"reports"})]})]},V))})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Social Media Insights"}),d.jsx("button",{className:"btn-secondary",children:"Monitor Live"})]}),d.jsx("div",{className:"space-y-4",children:A.map((M,H)=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(cf,{className:"w-5 h-5 text-blue-500"}),d.jsx("span",{className:"font-medium text-gray-900",children:M.platform})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{className:"font-bold text-gray-900",children:M.mentions}),d.jsx("span",{className:`text-sm px-2 py-1 rounded-full ${M.sentiment>.3?"bg-green-100 text-green-800":M.sentiment>0?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:M.sentiment>.3?"Positive":M.sentiment>0?"Neutral":"Negative"})]}),d.jsx("div",{className:"text-sm text-green-600",children:M.trend})]})]},H))})]})]}),d.jsxs("div",{className:"card",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Key Insights & Recommendations"}),d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:R.map((M,H)=>d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsx("h4",{className:"font-semibold text-gray-900",children:M.title}),d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${M.priority==="high"?"bg-red-100 text-red-800":M.priority==="medium"?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"}`,children:M.priority.toUpperCase()})]}),d.jsx("p",{className:"text-sm text-gray-600 mb-3",children:M.description}),d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsx("span",{className:"text-gray-500",children:M.timeframe}),d.jsx("button",{className:"text-blue-600 hover:text-blue-700 font-medium",children:"View Details"})]})]},H))})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"card",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Quick Analysis Tools"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("button",{onClick:()=>P("trend"),className:"w-full btn-primary flex items-center justify-center space-x-3 py-3",children:[d.jsx(cl,{className:"w-5 h-5"}),d.jsx("span",{children:"Generate Trend Report"})]}),d.jsxs("button",{onClick:()=>P("prediction"),className:"w-full btn-secondary flex items-center justify-center space-x-3 py-3",children:[d.jsx(py,{className:"w-5 h-5"}),d.jsx("span",{children:"Predictive Analysis"})]}),d.jsxs("button",{onClick:()=>P("social"),className:"w-full btn-secondary flex items-center justify-center space-x-3 py-3",children:[d.jsx(uf,{className:"w-5 h-5"}),d.jsx("span",{children:"Social Media Report"})]}),d.jsxs("button",{onClick:()=>P("comparison"),className:"w-full btn-secondary flex items-center justify-center space-x-3 py-3",children:[d.jsx(af,{className:"w-5 h-5"}),d.jsx("span",{children:"Comparative Analysis"})]})]})]}),d.jsx("div",{className:"card",children:d.jsx(C3,{})}),d.jsxs("div",{className:"card",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Data Sources Status"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-semibold text-green-800",children:"Citizen Reports"}),d.jsx("div",{className:"text-sm text-green-600",children:"Real-time feed active"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Xr,{className:"w-4 h-4 text-green-600"}),d.jsx("span",{className:"text-green-600 font-medium",children:"Online"})]})]}),d.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-semibold text-green-800",children:"Weather Services"}),d.jsx("div",{className:"text-sm text-green-600",children:"IMD integration"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Xr,{className:"w-4 h-4 text-green-600"}),d.jsx("span",{className:"text-green-600 font-medium",children:"Synced"})]})]}),d.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-semibold text-blue-800",children:"Social Media APIs"}),d.jsx("div",{className:"text-sm text-blue-600",children:"Multi-platform monitoring"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Xr,{className:"w-4 h-4 text-blue-600"}),d.jsx("span",{className:"text-blue-600 font-medium",children:"Monitoring"})]})]}),d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-semibold text-gray-800",children:"Satellite Data"}),d.jsx("div",{className:"text-sm text-gray-600",children:"ISRO feed"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(of,{className:"w-4 h-4 text-gray-600"}),d.jsx("span",{className:"text-gray-600 font-medium",children:"Scheduled"})]})]})]})]})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Analytics Map View"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{className:"btn-secondary",children:"Heat Map"}),d.jsx("button",{className:"btn-secondary",children:"Cluster View"}),d.jsx("button",{className:"btn-secondary",children:"Timeline"})]})]}),d.jsx("div",{className:"h-96",children:d.jsx(hh,{height:"384px",showControls:!0})})]})]})},j3=({user:n})=>{const[e,t]=U.useState([]),[s,o]=U.useState({}),[c,f]=U.useState(""),[y,v]=U.useState({api:"healthy",database:"healthy",storage:"healthy",monitoring:"healthy"});U.useEffect(()=>dr.subscribe((M,H)=>{t(M),o(dr.getStatistics()),f(new Date().toLocaleTimeString())}),[]);const x={active:12456,new_today:23,citizens:14230,officials:1245,analysts:287,admins:85},w={uptime:"99.97%",response_time:"145ms",cpu_usage:"23%",memory_usage:"67%",storage_usage:"34%",daily_requests:"2.4M"},A=[{time:"10 min ago",event:"Multiple failed login attempts detected",severity:"medium",action:"Auto-blocked IP for 1 hour"},{time:"2 hours ago",event:"Unusual API request pattern from citizen app",severity:"low",action:"Monitoring increased"},{time:"1 day ago",event:"Database backup completed successfully",severity:"info",action:"Routine maintenance"}],R=P=>{console.log(`Executing system action: ${P}`)};return d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"System Administration Center"}),d.jsx("p",{className:"text-gray-600 mt-2",children:"Complete system oversight and management for Taranga Ocean Monitor"}),d.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[d.jsx(Xr,{className:"w-4 h-4 text-green-500"}),d.jsx("span",{className:"text-sm text-green-600",children:"All Systems Operational"}),d.jsxs("span",{className:"text-sm text-gray-500",children:["• Last health check ",c]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:"text-sm text-gray-500",children:"Admin Level"}),d.jsx("div",{className:"text-lg font-semibold text-gray-900",children:"Super Administrator"}),d.jsx("div",{className:"text-sm text-gray-600",children:"Full System Access"})]})]})}),d.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"System Health Status"}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:`w-3 h-3 rounded-full ${y.api==="healthy"?"bg-green-500":"bg-red-500"}`}),d.jsx("span",{className:"text-sm font-medium",children:"API Services"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:`w-3 h-3 rounded-full ${y.database==="healthy"?"bg-green-500":"bg-red-500"}`}),d.jsx("span",{className:"text-sm font-medium",children:"Database"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:`w-3 h-3 rounded-full ${y.storage==="healthy"?"bg-green-500":"bg-red-500"}`}),d.jsx("span",{className:"text-sm font-medium",children:"Storage"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:`w-3 h-3 rounded-full ${y.monitoring==="healthy"?"bg-green-500":"bg-red-500"}`}),d.jsx("span",{className:"text-sm font-medium",children:"Monitoring"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"System Uptime"}),d.jsx(iC,{className:"w-5 h-5 text-green-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:w.uptime}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Last 30 days"})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Active Users"}),d.jsx(ul,{className:"w-5 h-5 text-blue-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:x.active.toLocaleString()}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(cl,{className:"w-4 h-4 text-green-500"}),d.jsxs("p",{className:"text-green-600 text-sm",children:["+",x.new_today," today"]})]})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Response Time"}),d.jsx(of,{className:"w-5 h-5 text-orange-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:w.response_time}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Average API response"})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Daily Requests"}),d.jsx(af,{className:"w-5 h-5 text-purple-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:w.daily_requests}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(cl,{className:"w-4 h-4 text-green-500"}),d.jsx("p",{className:"text-green-600 text-sm",children:"+8% from yesterday"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"User Management"}),d.jsx("button",{className:"btn-secondary",children:"Manage All"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[d.jsx("div",{className:"text-2xl font-bold text-blue-600",children:x.citizens.toLocaleString()}),d.jsx("div",{className:"text-sm text-blue-800",children:"Citizens"})]}),d.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[d.jsx("div",{className:"text-2xl font-bold text-green-600",children:x.officials.toLocaleString()}),d.jsx("div",{className:"text-sm text-green-800",children:"Officials"})]}),d.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg",children:[d.jsx("div",{className:"text-2xl font-bold text-purple-600",children:x.analysts}),d.jsx("div",{className:"text-sm text-purple-800",children:"Analysts"})]}),d.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg",children:[d.jsx("div",{className:"text-2xl font-bold text-orange-600",children:x.admins}),d.jsx("div",{className:"text-sm text-orange-800",children:"Admins"})]})]}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsxs("button",{className:"btn-primary flex-1 flex items-center justify-center space-x-2",children:[d.jsx(xC,{className:"w-4 h-4"}),d.jsx("span",{children:"Approve Users"})]}),d.jsxs("button",{className:"btn-secondary flex-1 flex items-center justify-center space-x-2",children:[d.jsx(wC,{className:"w-4 h-4"}),d.jsx("span",{children:"Review Flagged"})]})]})]})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Security Alerts"}),d.jsx("button",{className:"btn-secondary",children:"Security Center"})]}),d.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:A.map((P,M)=>d.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:`w-2 h-2 rounded-full ${P.severity==="medium"?"bg-orange-500":P.severity==="low"?"bg-yellow-500":"bg-blue-500"}`}),d.jsx("span",{className:"font-medium text-gray-900 text-sm",children:P.event})]}),d.jsx("span",{className:"text-xs text-gray-500",children:P.time})]}),d.jsx("p",{className:"text-xs text-gray-600",children:P.action})]},M))})]})]}),d.jsxs("div",{className:"card",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"System Performance Metrics"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"CPU Usage"}),d.jsx("span",{className:"text-sm font-medium text-gray-900",children:w.cpu_usage})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:w.cpu_usage}})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Memory Usage"}),d.jsx("span",{className:"text-sm font-medium text-gray-900",children:w.memory_usage})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:w.memory_usage}})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Storage Usage"}),d.jsx("span",{className:"text-sm font-medium text-gray-900",children:w.storage_usage})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:w.storage_usage}})})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"card",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"System Operations"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("button",{onClick:()=>R("backup"),className:"w-full btn-primary flex items-center justify-center space-x-3 py-3",children:[d.jsx(s1,{className:"w-5 h-5"}),d.jsx("span",{children:"Backup System"})]}),d.jsxs("button",{onClick:()=>R("update"),className:"w-full btn-secondary flex items-center justify-center space-x-3 py-3",children:[d.jsx(r1,{className:"w-5 h-5"}),d.jsx("span",{children:"System Update"})]}),d.jsxs("button",{onClick:()=>R("maintenance"),className:"w-full btn-secondary flex items-center justify-center space-x-3 py-3",children:[d.jsx(Ag,{className:"w-5 h-5"}),d.jsx("span",{children:"Maintenance Mode"})]}),d.jsxs("button",{onClick:()=>R("logs"),className:"w-full btn-secondary flex items-center justify-center space-x-3 py-3",children:[d.jsx(py,{className:"w-5 h-5"}),d.jsx("span",{children:"View System Logs"})]})]})]}),d.jsxs("div",{className:"card",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Database Management"}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"bg-green-50 p-3 rounded-lg",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-semibold text-green-800",children:"Production DB"}),d.jsx("div",{className:"text-sm text-green-600",children:"Healthy • Auto-backup enabled"})]}),d.jsx(NR,{className:"w-5 h-5 text-green-600"})]})}),d.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-semibold text-blue-800",children:"Analytics DB"}),d.jsx("div",{className:"text-sm text-blue-600",children:"Synced • Real-time processing"})]}),d.jsx(af,{className:"w-5 h-5 text-blue-600"})]})}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{className:"btn-secondary flex-1 text-sm",children:"Optimize"}),d.jsx("button",{className:"btn-secondary flex-1 text-sm",children:"Monitor"})]})]})]}),d.jsxs("div",{className:"card",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Security Center"}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"bg-green-50 p-3 rounded-lg",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-semibold text-green-800",children:"SSL Certificate"}),d.jsx("div",{className:"text-sm text-green-600",children:"Valid • Expires in 87 days"})]}),d.jsx(BR,{className:"w-5 h-5 text-green-600"})]})}),d.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-semibold text-blue-800",children:"API Security"}),d.jsx("div",{className:"text-sm text-blue-600",children:"Rate limiting active"})]}),d.jsx(Xu,{className:"w-5 h-5 text-blue-600"})]})}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{className:"btn-secondary flex-1 text-sm",children:"Audit"}),d.jsx("button",{className:"btn-secondary flex-1 text-sm",children:"Policies"})]})]})]})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"System Coverage Map"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{className:"btn-secondary",children:"Infrastructure View"}),d.jsx("button",{className:"btn-secondary",children:"Usage Analytics"})]})]}),d.jsx("div",{className:"h-96",children:d.jsx(hh,{height:"384px",showControls:!0})})]})]})},M3=({onClose:n,onSubmit:e})=>{const[t,s]=U.useState({title:"",type:"",severity:"",description:"",location:{latitude:"",longitude:"",address:""},contact:{name:"",phone:"",email:""}}),[o,c]=U.useState(1),[f,y]=U.useState([]),[v,x]=U.useState(!1),[w,A]=U.useState(!1),R=[{value:"cyclone",label:"Cyclone/Storm",icon:"🌀"},{value:"flood",label:"Coastal Flooding",icon:"🌊"},{value:"tsunami",label:"Tsunami Warning",icon:"🌊"},{value:"erosion",label:"Coastal Erosion",icon:"🏔️"},{value:"pollution",label:"Ocean Pollution",icon:"🛢️"},{value:"wildlife",label:"Marine Wildlife Issue",icon:"🐟"},{value:"navigation",label:"Navigation Hazard",icon:"⚓"},{value:"other",label:"Other",icon:"❓"}],P=[{value:"low",label:"Low",color:"bg-green-100 text-green-800",description:"Minor concern, no immediate danger"},{value:"medium",label:"Medium",color:"bg-yellow-100 text-yellow-800",description:"Moderate risk, attention needed"},{value:"high",label:"High",color:"bg-orange-100 text-orange-800",description:"Significant risk, urgent action required"},{value:"critical",label:"Critical",color:"bg-red-100 text-red-800",description:"Immediate danger to life/property"}],M=()=>{A(!0),navigator.geolocation&&navigator.geolocation.getCurrentPosition(le=>{s(xe=>({...xe,location:{...xe.location,latitude:le.coords.latitude.toString(),longitude:le.coords.longitude.toString()}})),A(!1)},le=>{console.error("Error getting location:",le),A(!1)})},H=le=>{if(le.target.files){const xe=Array.from(le.target.files).slice(0,3-f.length);y(q=>[...q,...xe])}},V=le=>{y(xe=>xe.filter((q,O)=>O!==le))},ce=async le=>{le.preventDefault(),!(!G(1)||!G(2)||!G(3))&&(x(!0),setTimeout(()=>{const xe={...t,id:Date.now().toString(),timestamp:new Date().toISOString(),images:f.length,status:"pending"};e==null||e(xe),x(!1),n==null||n()},2e3))},G=le=>{switch(le){case 1:return!!(t.type&&t.severity&&t.title.trim()&&t.description.trim());case 2:return!!(t.location.latitude&&t.location.longitude);case 3:return!!(t.contact.name.trim()&&t.contact.phone.trim());default:return!1}},W=()=>{G(o)&&c(le=>Math.min(le+1,3))},ve=()=>c(le=>Math.max(le-1,1));return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden animate-fade-in-scale",children:[d.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-orange-500 text-white p-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(js,{className:"w-8 h-8"}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold",children:"Report Ocean Hazard"}),d.jsx("p",{className:"text-red-100",children:"Help protect our coastal communities"})]})]}),d.jsx("button",{onClick:n,className:"text-white hover:text-red-200 transition-colors",children:d.jsx(Ax,{className:"w-6 h-6"})})]}),d.jsx("div",{className:"mt-6 flex items-center space-x-2",children:[1,2,3].map(le=>d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold transition-all ${le<=o?"bg-white text-red-500":"bg-red-400 text-red-100"}`,children:le<o?d.jsx(Hf,{className:"w-4 h-4"}):le}),le<3&&d.jsx("div",{className:`h-1 w-16 mx-2 rounded-full transition-all ${le<o?"bg-white":"bg-red-400"}`})]},le))})]}),d.jsxs("form",{onSubmit:ce,className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[o===1&&d.jsx("div",{className:"space-y-6 animate-fade-in-up",children:d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Hazard Information"}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"What type of ocean hazard are you reporting? *"}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:R.map(le=>d.jsxs("button",{type:"button",onClick:()=>s(xe=>({...xe,type:le.value})),className:`p-4 rounded-lg border-2 transition-all text-center hover:shadow-md ${t.type===le.value?"border-red-500 bg-red-50 text-red-700":"border-gray-200 hover:border-red-300"}`,children:[d.jsx("div",{className:"text-2xl mb-2",children:le.icon}),d.jsx("div",{className:"text-sm font-medium",children:le.label})]},le.value))})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Severity Level *"}),d.jsx("div",{className:"space-y-3",children:P.map(le=>d.jsxs("label",{className:`flex items-start p-4 rounded-lg border-2 cursor-pointer transition-all ${t.severity===le.value?"border-red-500 bg-red-50":"border-gray-200 hover:border-red-300"}`,children:[d.jsx("input",{type:"radio",name:"severity",value:le.value,checked:t.severity===le.value,onChange:xe=>s(q=>({...q,severity:xe.target.value})),className:"mt-1 mr-3"}),d.jsxs("div",{children:[d.jsx("div",{className:"flex items-center space-x-3",children:d.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${le.color}`,children:le.label})}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:le.description})]})]},le.value))})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Brief Title *"}),d.jsx("input",{type:"text",value:t.title,onChange:le=>s(xe=>({...xe,title:le.target.value})),placeholder:"e.g., Large waves causing coastal flooding",className:"input",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Detailed Description *"}),d.jsx("textarea",{value:t.description,onChange:le=>s(xe=>({...xe,description:le.target.value})),placeholder:"Provide detailed information about the hazard, including what you observed, when it started, and any impacts...",rows:6,className:"input resize-none",required:!0})]})]})}),o===2&&d.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Location & Evidence"}),d.jsxs("div",{className:"card-feature",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[d.jsx(yo,{className:"w-6 h-6 text-blue-600"}),d.jsx("h4",{className:"text-lg font-semibold",children:"Hazard Location"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("button",{type:"button",onClick:M,disabled:w,className:"btn-secondary flex items-center space-x-2",children:[d.jsx(yo,{className:"w-4 h-4"}),d.jsx("span",{children:w?"Getting location...":"Use Current Location"}),w&&d.jsx("div",{className:"loading"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Latitude"}),d.jsx("input",{type:"text",value:t.location.latitude,onChange:le=>s(xe=>({...xe,location:{...xe.location,latitude:le.target.value}})),placeholder:"19.0760",className:"input"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Longitude"}),d.jsx("input",{type:"text",value:t.location.longitude,onChange:le=>s(xe=>({...xe,location:{...xe.location,longitude:le.target.value}})),placeholder:"72.8777",className:"input"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Address/Landmark"}),d.jsx("input",{type:"text",value:t.location.address,onChange:le=>s(xe=>({...xe,location:{...xe.location,address:le.target.value}})),placeholder:"e.g., Marine Drive, Mumbai or nearest landmark",className:"input"})]})]})]}),d.jsxs("div",{className:"card-feature",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[d.jsx(xR,{className:"w-6 h-6 text-green-600"}),d.jsx("h4",{className:"text-lg font-semibold",children:"Photo Evidence (Optional)"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Upload up to 3 photos to help authorities assess the situation"}),f.length<3&&d.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-green-400 transition-colors",children:[d.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:H,className:"hidden",id:"image-upload"}),d.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[d.jsx(_C,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Click to upload photos"}),d.jsx("p",{className:"text-xs text-gray-500",children:"JPG, PNG up to 5MB each"})]})]}),f.length>0&&d.jsx("div",{className:"grid grid-cols-3 gap-4",children:f.map((le,xe)=>d.jsxs("div",{className:"relative group",children:[d.jsx("img",{src:URL.createObjectURL(le),alt:`Upload ${xe+1}`,className:"w-full h-24 object-cover rounded-lg"}),d.jsx("button",{type:"button",onClick:()=>V(xe),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsx(Ax,{className:"w-3 h-3"})})]},xe))})]})]})]}),o===3&&d.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Contact Information"}),d.jsxs("div",{className:"card-feature",children:[d.jsx("p",{className:"text-gray-600 mb-6",children:"Your contact information helps authorities reach you for follow-up questions or updates. This information is kept confidential and used only for official purposes."}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name *"}),d.jsx("input",{type:"text",value:t.contact.name,onChange:le=>s(xe=>({...xe,contact:{...xe.contact,name:le.target.value}})),className:"input",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone Number *"}),d.jsx("input",{type:"tel",value:t.contact.phone,onChange:le=>s(xe=>({...xe,contact:{...xe.contact,phone:le.target.value}})),placeholder:"+91 98765 43210",className:"input",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),d.jsx("input",{type:"email",value:t.contact.email,onChange:le=>s(xe=>({...xe,contact:{...xe.contact,email:le.target.value}})),placeholder:"your.email@example.com",className:"input"})]})]}),d.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx(js,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),d.jsxs("div",{className:"text-sm text-blue-800",children:[d.jsx("p",{className:"font-semibold mb-1",children:"Important:"}),d.jsxs("ul",{className:"space-y-1 text-blue-700",children:[d.jsx("li",{children:"• Your report will be reviewed by authorities within 30 minutes"}),d.jsx("li",{children:"• You may be contacted for additional information"}),d.jsx("li",{children:"• False reports may result in legal consequences"})]})]})]})})]})]}),d.jsxs("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-gray-200",children:[d.jsx("div",{className:"flex space-x-3",children:o>1&&d.jsx("button",{type:"button",onClick:ve,className:"btn-secondary",children:"Previous"})}),d.jsxs("div",{className:"text-sm text-gray-500",children:["Step ",o," of 3"]}),d.jsx("div",{className:"flex space-x-3",children:o<3?d.jsx("button",{type:"button",onClick:W,disabled:!G(o),className:`btn-primary ${G(o)?"":"opacity-50 cursor-not-allowed"}`,title:G(o)?"":"Please fill in all required fields",children:"Next Step"}):d.jsxs("button",{type:"submit",disabled:v||!G(1)||!G(2)||!G(3),className:`btn-error flex items-center space-x-2 ${!G(1)||!G(2)||!G(3)?"opacity-50 cursor-not-allowed":""}`,title:!G(1)||!G(2)||!G(3)?"Please complete all required fields":"",children:[v&&d.jsx("div",{className:"loading"}),d.jsx(tC,{className:"w-4 h-4"}),d.jsx("span",{children:v?"Submitting...":"Submit Report"})]})})]})]})]})})},P3=({user:n})=>{const[e,t]=U.useState("profile"),[s,o]=U.useState({profile:{name:(n==null?void 0:n.name)||"",email:(n==null?void 0:n.email)||"",phone:"",location:"Mumbai, Maharashtra",bio:""},notifications:{email:!0,sms:!0,push:!0,criticalAlerts:!0,weeklyReports:!1,socialMediaMentions:!0,volunteerOpportunities:!1},privacy:{profileVisible:!0,locationSharing:!1,dataAnalytics:!0,thirdPartySharing:!1},preferences:{theme:"light",language:"en",mapProvider:"leaflet",defaultView:"dashboard",alertRadius:"50"}}),[c,f]=U.useState(!1),[y,v]=U.useState("idle"),x=async()=>{f(!0),v("idle"),setTimeout(()=>{v("success"),f(!1),setTimeout(()=>v("idle"),3e3)},1500)},w=(R,P,M)=>{o(H=>({...H,[R]:{...H[R],[P]:M}}))},A=[{id:"profile",label:"Profile",icon:Jp},{id:"notifications",label:"Notifications",icon:Eg},{id:"privacy",label:"Privacy & Security",icon:Xu},{id:"preferences",label:"Preferences",icon:Ag}];return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"}),d.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your account preferences and privacy settings"})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[d.jsx("div",{className:"lg:col-span-1",children:d.jsx("div",{className:"card space-y-1",children:A.map(R=>{const P=R.icon;return d.jsxs("button",{onClick:()=>t(R.id),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-all text-left ${e===R.id?"bg-blue-50 border border-blue-200 text-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[d.jsx(P,{className:"w-5 h-5"}),d.jsx("span",{className:"font-medium",children:R.label})]},R.id)})})}),d.jsx("div",{className:"lg:col-span-3",children:d.jsxs("div",{className:"card-feature",children:[e==="profile"&&d.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[d.jsx(Jp,{className:"w-6 h-6 text-blue-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"Profile Information"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),d.jsx("input",{type:"text",value:s.profile.name,onChange:R=>w("profile","name",R.target.value),className:"input"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),d.jsx("input",{type:"email",value:s.profile.email,onChange:R=>w("profile","email",R.target.value),className:"input"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone Number"}),d.jsx("input",{type:"tel",value:s.profile.phone,onChange:R=>w("profile","phone",R.target.value),placeholder:"+91 98765 43210",className:"input"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Location"}),d.jsx("input",{type:"text",value:s.profile.location,onChange:R=>w("profile","location",R.target.value),className:"input"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Bio"}),d.jsx("textarea",{value:s.profile.bio,onChange:R=>w("profile","bio",R.target.value),placeholder:"Tell us about yourself...",rows:4,className:"input resize-none"})]}),d.jsx("div",{className:"p-4 bg-blue-50 rounded-lg",children:d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx(Jp,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),d.jsxs("div",{className:"text-sm text-blue-800",children:[d.jsx("p",{className:"font-semibold mb-1",children:"Profile Verification"}),d.jsx("p",{className:"text-blue-700",children:"Keep your profile information up-to-date to ensure you receive important alerts and can be contacted during emergency situations."})]})]})})]}),e==="notifications"&&d.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[d.jsx(Eg,{className:"w-6 h-6 text-green-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"Notification Preferences"})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"card",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Alert Methods"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(FR,{className:"w-5 h-5 text-blue-500"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-900",children:"Email Notifications"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Receive alerts via email"})]})]}),d.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:s.notifications.email,onChange:R=>w("notifications","email",R.target.checked),className:"sr-only peer"}),d.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(al,{className:"w-5 h-5 text-green-500"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-900",children:"SMS Alerts"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Critical alerts via SMS"})]})]}),d.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:s.notifications.sms,onChange:R=>w("notifications","sms",R.target.checked),className:"sr-only peer"}),d.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(lC,{className:"w-5 h-5 text-purple-500"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-900",children:"Push Notifications"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Real-time app notifications"})]})]}),d.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:s.notifications.push,onChange:R=>w("notifications","push",R.target.checked),className:"sr-only peer"}),d.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),d.jsxs("div",{className:"card",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Alert Types"}),d.jsx("div",{className:"space-y-4",children:[{key:"criticalAlerts",label:"Critical Hazard Alerts",desc:"Immediate danger notifications",required:!0},{key:"weeklyReports",label:"Weekly Summary Reports",desc:"Weekly hazard activity summary"},{key:"socialMediaMentions",label:"Social Media Monitoring",desc:"Relevant social media alerts"},{key:"volunteerOpportunities",label:"Volunteer Opportunities",desc:"New volunteer opportunities in your area"}].map(R=>d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("p",{className:"font-medium text-gray-900",children:R.label}),R.required&&d.jsx("span",{className:"px-2 py-1 text-xs font-semibold bg-red-100 text-red-800 rounded-full",children:"Required"})]}),d.jsx("p",{className:"text-sm text-gray-500",children:R.desc})]}),d.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:s.notifications[R.key],onChange:P=>w("notifications",R.key,P.target.checked),disabled:R.required,className:"sr-only peer"}),d.jsx("div",{className:`w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600 ${R.required?"opacity-50":""}`})]})]},R.key))})]})]})]}),e==="privacy"&&d.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[d.jsx(Xu,{className:"w-6 h-6 text-red-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"Privacy & Security"})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"card",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Data Privacy"}),d.jsx("div",{className:"space-y-4",children:[{key:"profileVisible",label:"Public Profile",desc:"Make your profile visible to other users"},{key:"locationSharing",label:"Location Sharing",desc:"Share your location for better emergency response"},{key:"dataAnalytics",label:"Usage Analytics",desc:"Help improve the platform with anonymous usage data"},{key:"thirdPartySharing",label:"Third-party Data Sharing",desc:"Share anonymized data with research partners"}].map(R=>d.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-900",children:R.label}),d.jsx("p",{className:"text-sm text-gray-500",children:R.desc})]}),d.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:s.privacy[R.key],onChange:P=>w("privacy",R.key,P.target.checked),className:"sr-only peer"}),d.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]},R.key))})]}),d.jsx("div",{className:"p-4 bg-amber-50 rounded-lg",children:d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx(js,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),d.jsxs("div",{className:"text-sm text-amber-800",children:[d.jsx("p",{className:"font-semibold mb-1",children:"Important Security Notice"}),d.jsx("p",{className:"text-amber-700",children:"Your safety is our priority. Location sharing is recommended for faster emergency response, but you maintain full control over your privacy settings."})]})]})})]})]}),e==="preferences"&&d.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[d.jsx(Ag,{className:"w-6 h-6 text-purple-600"}),d.jsx("h2",{className:"text-xl font-semibold",children:"App Preferences"})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"card",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Appearance"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Theme"}),d.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"light",label:"Light",icon:dC},{value:"dark",label:"Dark",icon:ZR},{value:"auto",label:"Auto",icon:cf}].map(R=>{const P=R.icon;return d.jsxs("button",{onClick:()=>w("preferences","theme",R.value),className:`flex flex-col items-center p-4 rounded-lg border-2 transition-all ${s.preferences.theme===R.value?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-200 hover:border-purple-300"}`,children:[d.jsx(P,{className:"w-6 h-6 mb-2"}),d.jsx("span",{className:"text-sm font-medium",children:R.label})]},R.value)})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Language"}),d.jsxs("select",{value:s.preferences.language,onChange:R=>w("preferences","language",R.target.value),className:"input",children:[d.jsx("option",{value:"en",children:"English"}),d.jsx("option",{value:"hi",children:"हिन्दी (Hindi)"}),d.jsx("option",{value:"bn",children:"বাংলা (Bengali)"}),d.jsx("option",{value:"te",children:"తెలుగు (Telugu)"}),d.jsx("option",{value:"ta",children:"தமிழ் (Tamil)"}),d.jsx("option",{value:"mr",children:"मराठी (Marathi)"})]})]})]})]}),d.jsxs("div",{className:"card",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Map & Location"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Map Provider"}),d.jsxs("select",{value:s.preferences.mapProvider,onChange:R=>w("preferences","mapProvider",R.target.value),className:"input",children:[d.jsx("option",{value:"leaflet",children:"OpenStreetMap (Leaflet)"}),d.jsx("option",{value:"google",children:"Google Maps"}),d.jsx("option",{value:"mapbox",children:"Mapbox"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Alert Radius (km)"}),d.jsx("input",{type:"range",min:"10",max:"100",value:s.preferences.alertRadius,onChange:R=>w("preferences","alertRadius",R.target.value),className:"w-full"}),d.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[d.jsx("span",{children:"10 km"}),d.jsxs("span",{className:"font-medium",children:[s.preferences.alertRadius," km"]}),d.jsx("span",{children:"100 km"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Default Dashboard View"}),d.jsxs("select",{value:s.preferences.defaultView,onChange:R=>w("preferences","defaultView",R.target.value),className:"input",children:[d.jsx("option",{value:"dashboard",children:"Overview Dashboard"}),d.jsx("option",{value:"map",children:"Hazard Map"}),d.jsx("option",{value:"reports",children:"Recent Reports"})]})]})]})]})]})]}),d.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200 mt-8",children:[d.jsx("div",{className:"flex items-center space-x-2",children:y==="success"&&d.jsxs("div",{className:"flex items-center space-x-2 text-green-600 animate-fade-in-scale",children:[d.jsx(Hf,{className:"w-5 h-5"}),d.jsx("span",{className:"text-sm font-medium",children:"Settings saved successfully"})]})}),d.jsxs("button",{onClick:x,disabled:c,className:"btn-primary flex items-center space-x-2",children:[c&&d.jsx("div",{className:"loading"}),d.jsx(XR,{className:"w-4 h-4"}),d.jsx("span",{children:c?"Saving...":"Save Changes"})]})]})]})})]})]})},O3=({user:n})=>{const[e,t]=U.useState(null),[s,o]=U.useState(""),[c,f]=U.useState(null),[y,v]=U.useState("one-time"),[x,w]=U.useState(!1),A=[{id:"1",title:"Cyclone Yaas Relief Fund",description:"Emergency relief for coastal communities affected by Cyclone Yaas in West Bengal and Odisha.",target:5e5,raised:387500,donors:1245,daysLeft:8,image:"https://via.placeholder.com/300x200/3B82F6/FFFFFF?text=Relief+Campaign",location:"West Bengal & Odisha",urgent:!0,category:"relief"},{id:"2",title:"Coast Guard Rescue Equipment",description:"Help us purchase modern rescue equipment for coast guard operations in Gujarat maritime region.",target:75e4,raised:234e3,donors:567,daysLeft:22,image:"https://via.placeholder.com/300x200/3B82F6/FFFFFF?text=Relief+Campaign",location:"Gujarat Coast",urgent:!1,category:"equipment"},{id:"3",title:"Ocean Research Initiative",description:"Support research on changing ocean patterns and their impact on coastal communities.",target:3e5,raised:198750,donors:892,daysLeft:15,image:"https://via.placeholder.com/300x200/3B82F6/FFFFFF?text=Relief+Campaign",location:"Pan-India",urgent:!1,category:"research"},{id:"4",title:"Community Warning Systems",description:"Install early warning systems in remote coastal villages across Kerala and Karnataka.",target:45e4,raised:123e3,donors:334,daysLeft:30,image:"https://via.placeholder.com/300x200/3B82F6/FFFFFF?text=Relief+Campaign",location:"Kerala & Karnataka",urgent:!0,category:"community"}],R=[500,1e3,2500,5e3,1e4],P=()=>{(e||parseInt(s))&&c&&setTimeout(()=>{w(!0),setTimeout(()=>w(!1),5e3)},2e3)},M=G=>({relief:Uu,equipment:Xp,research:cf,community:ul})[G]||Uu,H=G=>({relief:"bg-red-100 text-red-700",equipment:"bg-blue-100 text-blue-700",research:"bg-green-100 text-green-700",community:"bg-purple-100 text-purple-700"})[G]||"bg-gray-100 text-gray-700",V=A.reduce((G,W)=>G+W.raised,0),ce=A.reduce((G,W)=>G+W.donors,0);return d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"bg-gradient-to-r from-red-500 to-pink-500 text-white rounded-xl p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold",children:"Support Ocean Safety"}),d.jsx("p",{className:"text-red-100 mt-2",children:"Help protect coastal communities and marine ecosystems"})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:"text-sm text-red-100",children:"Total Raised"}),d.jsxs("div",{className:"text-2xl font-bold",children:["₹",(V/1e5).toFixed(1),"L"]}),d.jsxs("div",{className:"text-sm text-red-100",children:[ce," donors"]})]})]})}),x&&d.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 animate-fade-in-scale",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Hf,{className:"w-6 h-6 text-green-600"}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-green-800",children:"Thank you for your donation!"}),d.jsx("p",{className:"text-green-700",children:"Your contribution will help protect coastal communities."})]})]})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Active Campaigns"}),d.jsx(Xp,{className:"w-5 h-5 text-blue-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:A.length}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Seeking support"})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Urgent Needs"}),d.jsx(Uu,{className:"w-5 h-5 text-red-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:A.filter(G=>G.urgent).length}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Need immediate help"})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Communities Helped"}),d.jsx(ul,{className:"w-5 h-5 text-green-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"127"}),d.jsx("p",{className:"text-gray-500 text-sm",children:"This year"})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Impact Score"}),d.jsx(uC,{className:"w-5 h-5 text-yellow-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-yellow-600 mb-2",children:"4.8"}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Donor satisfaction"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsx("div",{className:"lg:col-span-2",children:d.jsxs("div",{className:"card",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Active Campaigns"}),d.jsx("div",{className:"space-y-6",children:A.map(G=>{const W=M(G.category),ve=G.raised/G.target*100;return d.jsxs("div",{className:`border-2 rounded-xl p-6 transition-all cursor-pointer hover:shadow-lg ${c===G.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,onClick:()=>f(G.id),children:[d.jsxs("div",{className:"flex items-start justify-between mb-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:G.title}),G.urgent&&d.jsx("span",{className:"px-2 py-1 text-xs font-semibold bg-red-100 text-red-800 rounded-full",children:"Urgent"}),d.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${H(G.category)}`,children:G.category})]}),d.jsx("p",{className:"text-gray-600 mb-3",children:G.description}),d.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mb-4",children:[d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(yo,{className:"w-4 h-4"}),d.jsx("span",{children:G.location})]}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(Sg,{className:"w-4 h-4"}),d.jsxs("span",{children:[G.daysLeft," days left"]})]}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(ul,{className:"w-4 h-4"}),d.jsxs("span",{children:[G.donors," donors"]})]})]})]}),d.jsx(W,{className:"w-8 h-8 text-blue-600 ml-4 flex-shrink-0"})]}),d.jsxs("div",{className:"mb-4",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsxs("span",{className:"text-sm text-gray-600",children:["₹",(G.raised/1e3).toFixed(0),"k raised of ₹",(G.target/1e3).toFixed(0),"k goal"]}),d.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[ve.toFixed(0),"%"]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:"h-2 rounded-full bg-gradient-to-r from-blue-500 to-green-500 transition-all duration-300",style:{width:`${Math.min(ve,100)}%`}})})]})]},G.id)})})]})}),d.jsx("div",{className:"lg:col-span-1",children:d.jsxs("div",{className:"card-feature sticky top-6",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[d.jsx(LR,{className:"w-6 h-6 text-green-600"}),d.jsx("h3",{className:"text-xl font-semibold",children:"Make a Donation"})]}),!c&&d.jsxs("div",{className:"text-center py-8",children:[d.jsx(Xp,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Select a campaign to donate"})]}),c&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Donation Type"}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("button",{onClick:()=>v("one-time"),className:`p-3 rounded-lg border-2 transition-all text-center ${y==="one-time"?"border-green-500 bg-green-50 text-green-700":"border-gray-200 hover:border-green-300"}`,children:[d.jsx(i1,{className:"w-5 h-5 mx-auto mb-1"}),d.jsx("span",{className:"text-sm font-medium",children:"One-time"})]}),d.jsxs("button",{onClick:()=>v("monthly"),className:`p-3 rounded-lg border-2 transition-all text-center ${y==="monthly"?"border-green-500 bg-green-50 text-green-700":"border-gray-200 hover:border-green-300"}`,children:[d.jsx(Sg,{className:"w-5 h-5 mx-auto mb-1"}),d.jsx("span",{className:"text-sm font-medium",children:"Monthly"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Select Amount"}),d.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4",children:R.map(G=>d.jsx("button",{onClick:()=>{t(G),o("")},className:`p-3 rounded-lg border-2 transition-all text-center ${e===G?"border-green-500 bg-green-50 text-green-700":"border-gray-200 hover:border-green-300"}`,children:d.jsxs("span",{className:"text-sm font-medium",children:["₹",G]})},G))}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Custom Amount"}),d.jsx("input",{type:"number",value:s,onChange:G=>{o(G.target.value),t(null)},placeholder:"Enter amount",className:"input"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Payment Method"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"flex items-center p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",children:[d.jsx("input",{type:"radio",name:"payment",value:"card",className:"mr-3",defaultChecked:!0}),d.jsx(SR,{className:"w-5 h-5 mr-2 text-blue-600"}),d.jsx("span",{className:"font-medium",children:"Credit/Debit Card"})]}),d.jsxs("label",{className:"flex items-center p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",children:[d.jsx("input",{type:"radio",name:"payment",value:"upi",className:"mr-3"}),d.jsx("span",{className:"w-5 h-5 mr-2 bg-purple-600 rounded text-white flex items-center justify-center text-xs font-bold",children:"₹"}),d.jsx("span",{className:"font-medium",children:"UPI"})]}),d.jsxs("label",{className:"flex items-center p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",children:[d.jsx("input",{type:"radio",name:"payment",value:"netbanking",className:"mr-3"}),d.jsx(cf,{className:"w-5 h-5 mr-2 text-green-600"}),d.jsx("span",{className:"font-medium",children:"Net Banking"})]})]})]}),d.jsx("div",{className:"p-4 bg-blue-50 rounded-lg",children:d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx(cl,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),d.jsxs("div",{className:"text-sm text-blue-800",children:[d.jsx("p",{className:"font-semibold mb-1",children:"Your Impact"}),d.jsxs("p",{className:"text-blue-700",children:["₹",e||s||"0"," can help provide emergency supplies for ",Math.floor((e||parseInt(s)||0)/500)||0," families"]})]})]})}),d.jsxs("button",{onClick:P,disabled:!c||!e&&!s,className:"w-full btn-success py-4 text-lg font-semibold",children:[d.jsx(Uu,{className:"w-5 h-5 mr-2"}),"Donate ₹",e||s||"0"]}),d.jsxs("div",{className:"text-xs text-gray-500 text-center",children:[d.jsx("p",{children:"🔒 Secure payment • 80G tax exemption available"}),d.jsx("p",{children:"Managed by certified NGO partners"})]})]})]})})]})]})},k3=({user:n})=>{const[e,t]=U.useState([]),[s,o]=U.useState(!0),[c,f]=U.useState({platform:"all",sentiment:"all",timeframe:"24h",relevance:"high"}),[y,v]=U.useState(""),[x,w]=U.useState(!1),A=[{id:"1",platform:"twitter",author:"@MumbaiWeather",content:"High tide alert! Coastal areas experiencing unusual wave patterns. Marine Drive witnessing higher than normal waves. Authorities advising caution for beachgoers. #MumbaiTide #CoastalAlert #SafetyFirst",timestamp:new Date(Date.now()-7200*1e3),engagement:{likes:234,shares:89,comments:45},sentiment:"negative",relevanceScore:95,location:"Mumbai, Maharashtra",verified:!0,hashtags:["MumbaiTide","CoastalAlert","SafetyFirst"],mentions:[]},{id:"2",platform:"facebook",author:"Gujarat Coast Guard",content:"Coast Guard vessels on high alert following reports of unusual sea conditions off Dwarka coast. All fishing vessels advised to return to nearest harbor immediately. Weather department monitoring situation closely.",timestamp:new Date(Date.now()-14400*1e3),engagement:{likes:156,shares:234,comments:67},sentiment:"neutral",relevanceScore:92,location:"Dwarka, Gujarat",verified:!0,hashtags:[],mentions:["GujaratCoastGuard"]},{id:"3",platform:"instagram",author:"@chennai_beaches",content:"Beautiful morning at Marina Beach! Crystal clear waters and gentle waves. Perfect weather for a beach walk. Thanks to @chennai_corporation for keeping our beaches clean! 🌊☀️ #ChennaiBeaches #MarinaBech #BeachLife",timestamp:new Date(Date.now()-360*60*1e3),engagement:{likes:567,shares:23,comments:89},sentiment:"positive",relevanceScore:45,location:"Chennai, Tamil Nadu",verified:!1,hashtags:["ChennaiBeaches","MarinaBech","BeachLife"],mentions:["chennai_corporation"]},{id:"4",platform:"twitter",author:"@KeralaAlerts",content:"⚠️ CYCLONE WATCH: Meteorological department issues cyclone alert for Kerala coast. Expected to intensify over next 48 hours. Fishermen advised against venturing into sea. Emergency helplines activated. Stay safe! #CycloneAlert #KeralaWeather",timestamp:new Date(Date.now()-480*60*1e3),engagement:{likes:445,shares:678,comments:123},sentiment:"negative",relevanceScore:98,location:"Kerala",verified:!0,hashtags:["CycloneAlert","KeralaWeather"],mentions:[]},{id:"5",platform:"youtube",author:"Indian Ocean Research",content:"New study reveals changing ocean current patterns in the Arabian Sea. Our latest research shows significant shifts that could affect monsoon patterns and coastal ecosystems. Watch our detailed analysis.",timestamp:new Date(Date.now()-720*60*1e3),engagement:{likes:1234,shares:156,comments:89},sentiment:"neutral",relevanceScore:87,location:"Pan-India",verified:!0,hashtags:["OceanResearch","ArabianSea","ClimateChange"],mentions:[]}];U.useEffect(()=>{o(!0),setTimeout(()=>{const G=A.filter(W=>{if(c.platform!=="all"&&W.platform!==c.platform||c.sentiment!=="all"&&W.sentiment!==c.sentiment)return!1;let ve=24;c.timeframe.includes("h")?ve=parseInt(c.timeframe.replace(/[^0-9]/g,""))||24:c.timeframe.includes("d")&&(ve=(parseInt(c.timeframe.replace(/[^0-9]/g,""))||1)*24);const le=new Date(Date.now()-ve*60*60*1e3);return!(W.timestamp<le)});t(G),o(!1)},1500)},[c]);const R=()=>{w(!0),setTimeout(()=>{const G=A.map((W,ve)=>({...W,id:`refresh_${Date.now()}_${ve}`,timestamp:new Date(Date.now()-Math.random()*36e5),engagement:{likes:Math.floor(Math.random()*1e3)+W.engagement.likes,shares:Math.floor(Math.random()*500)+W.engagement.shares,comments:Math.floor(Math.random()*200)+W.engagement.comments}}));t(G),w(!1)},1e3)},P=e.filter(G=>!(c.platform!=="all"&&G.platform!==c.platform||c.sentiment!=="all"&&G.sentiment!==c.sentiment||y&&!G.content.toLowerCase().includes(y.toLowerCase()))),M=G=>({twitter:"𝕏",facebook:"📘",instagram:"📷",youtube:"📺"})[G]||"🌐",H=G=>{switch(G){case"positive":return"text-green-600 bg-green-100";case"negative":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},V=G=>G>=90?"text-red-600 bg-red-100":G>=70?"text-orange-600 bg-orange-100":G>=50?"text-yellow-600 bg-yellow-100":"text-gray-600 bg-gray-100",ce={totalPosts:P.length,highRelevance:P.filter(G=>G.relevanceScore>=70).length,sentimentBreakdown:{positive:P.filter(G=>G.sentiment==="positive").length,negative:P.filter(G=>G.sentiment==="negative").length,neutral:P.filter(G=>G.sentiment==="neutral").length},platformBreakdown:{twitter:P.filter(G=>G.platform==="twitter").length,facebook:P.filter(G=>G.platform==="facebook").length,instagram:P.filter(G=>G.platform==="instagram").length,youtube:P.filter(G=>G.platform==="youtube").length}};return d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Social Media Monitoring"}),d.jsx("p",{className:"text-gray-600 mt-2",children:"Real-time social media intelligence for ocean hazard detection"})]}),d.jsxs("button",{onClick:R,disabled:x,className:"btn-primary flex items-center space-x-2",children:[d.jsx(r1,{className:`w-4 h-4 ${x?"animate-spin":""}`}),d.jsx("span",{children:"Refresh"})]})]})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Total Posts"}),d.jsx(uf,{className:"w-5 h-5 text-blue-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:ce.totalPosts}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Last 24 hours"})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"High Priority"}),d.jsx(js,{className:"w-5 h-5 text-red-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:ce.highRelevance}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Needs attention"})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Sentiment"}),d.jsx(cl,{className:"w-5 h-5 text-green-500"})]}),d.jsxs("div",{className:"flex space-x-2 text-sm",children:[d.jsxs("span",{className:"text-green-600 font-semibold",children:[ce.sentimentBreakdown.positive,"+"]}),d.jsxs("span",{className:"text-gray-600",children:[ce.sentimentBreakdown.neutral,"="]}),d.jsxs("span",{className:"text-red-600 font-semibold",children:[ce.sentimentBreakdown.negative,"-"]})]}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Positive trending"})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-gray-600 font-medium",children:"Engagement"}),d.jsx(ul,{className:"w-5 h-5 text-purple-500"})]}),d.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:P.reduce((G,W)=>G+W.engagement.likes+W.engagement.shares,0)}),d.jsx("p",{className:"text-gray-500 text-sm",children:"Total interactions"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"lg:col-span-1",children:[d.jsxs("div",{className:"card space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Filters"}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Search"}),d.jsxs("div",{className:"relative",children:[d.jsx(a1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),d.jsx("input",{type:"text",value:y,onChange:G=>v(G.target.value),placeholder:"Search posts...",className:"input pl-10"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Platform"}),d.jsxs("select",{value:c.platform,onChange:G=>f(W=>({...W,platform:G.target.value})),className:"input",children:[d.jsx("option",{value:"all",children:"All Platforms"}),d.jsx("option",{value:"twitter",children:"Twitter"}),d.jsx("option",{value:"facebook",children:"Facebook"}),d.jsx("option",{value:"instagram",children:"Instagram"}),d.jsx("option",{value:"youtube",children:"YouTube"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Sentiment"}),d.jsxs("select",{value:c.sentiment,onChange:G=>f(W=>({...W,sentiment:G.target.value})),className:"input",children:[d.jsx("option",{value:"all",children:"All Sentiment"}),d.jsx("option",{value:"positive",children:"Positive"}),d.jsx("option",{value:"neutral",children:"Neutral"}),d.jsx("option",{value:"negative",children:"Negative"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Timeframe"}),d.jsxs("select",{value:c.timeframe,onChange:G=>f(W=>({...W,timeframe:G.target.value})),className:"input",children:[d.jsx("option",{value:"24h",children:"Last 24 Hours"}),d.jsx("option",{value:"7d",children:"Last 7 Days"}),d.jsx("option",{value:"30d",children:"Last 30 Days"})]})]})]}),d.jsxs("div",{className:"card mt-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Platform Activity"}),d.jsx("div",{className:"space-y-3",children:Object.entries(ce.platformBreakdown).map(([G,W])=>d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{className:"text-lg",children:M(G)}),d.jsx("span",{className:"font-medium capitalize",children:G})]}),d.jsx("span",{className:"font-bold text-gray-900",children:W})]},G))})]})]}),d.jsx("div",{className:"lg:col-span-3",children:d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Live Social Feed"}),d.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[d.jsx(py,{className:"w-4 h-4"}),d.jsxs("span",{children:["Monitoring ",P.length," posts"]})]})]}),s?d.jsx("div",{className:"space-y-4",children:[1,2,3].map(G=>d.jsx("div",{className:"animate-pulse",children:d.jsxs("div",{className:"flex space-x-4",children:[d.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full"}),d.jsxs("div",{className:"flex-1 space-y-2",children:[d.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),d.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),d.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]})},G))}):d.jsx("div",{className:"space-y-6 max-h-[800px] overflow-y-auto",children:P.map(G=>d.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[d.jsxs("div",{className:"flex items-start justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-lg",children:M(G.platform)})}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{className:"font-semibold text-gray-900",children:G.author}),G.verified&&d.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-white text-xs",children:"✓"})})]}),d.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[d.jsx("span",{children:new Date(G.timestamp).toLocaleString()}),G.location&&d.jsxs(d.Fragment,{children:[d.jsx("span",{children:"•"}),d.jsx(yo,{className:"w-3 h-3"}),d.jsx("span",{children:G.location})]})]})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${H(G.sentiment)}`,children:G.sentiment}),d.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${V(G.relevanceScore)}`,children:[G.relevanceScore,"% relevant"]})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("p",{className:"text-gray-900 leading-relaxed",children:G.content}),G.hashtags.length>0&&d.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:G.hashtags.map(W=>d.jsxs("span",{className:"text-blue-600 text-sm font-medium",children:["#",W]},W))})]}),d.jsxs("div",{className:"flex items-center justify-between text-gray-500 text-sm border-t border-gray-100 pt-4",children:[d.jsxs("div",{className:"flex items-center space-x-6",children:[d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(Uu,{className:"w-4 h-4"}),d.jsx("span",{children:G.engagement.likes})]}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(o1,{className:"w-4 h-4"}),d.jsx("span",{children:G.engagement.shares})]}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(uf,{className:"w-4 h-4"}),d.jsx("span",{children:G.engagement.comments})]})]}),d.jsxs("button",{className:"flex items-center space-x-1 text-blue-600 hover:text-blue-700 font-medium",children:[d.jsx(jR,{className:"w-4 h-4"}),d.jsx("span",{children:"View Original"})]})]})]},G.id))})]})})]})]})},D3=({user:n,onLogout:e})=>{const[t,s]=ta.useState(`${n.role}-dashboard`);return d.jsxs("div",{className:"min-h-screen relative",children:[d.jsx("header",{className:"bg-white border-b border-gray-200",children:d.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:d.jsx("span",{className:"text-white font-bold text-lg",children:"🌊"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Taranga Ocean Monitor"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Advanced Hazard Detection System"})]})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-sm font-medium text-gray-900",children:n.fullName}),d.jsx("p",{className:"text-xs text-blue-600 uppercase tracking-wide",children:n.role})]}),d.jsx("button",{onClick:e,className:"btn-secondary px-4 py-2 text-sm font-medium",children:"Logout"})]})]})})}),d.jsxs("div",{className:"relative z-10 flex min-h-screen",children:[d.jsx("nav",{className:"w-64 md:w-72 lg:w-80 bg-white border-r border-gray-200 p-4 sm:p-6 flex-shrink-0",children:d.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[d.jsx(yi,{active:t===`${n.role}-dashboard`,onClick:()=>s(`${n.role}-dashboard`),icon:"🏠",label:"Dashboard"}),n.role==="citizen"&&d.jsxs(d.Fragment,{children:[d.jsx(yi,{onClick:()=>s("report-hazard"),icon:"📝",label:"Report Hazard"}),d.jsx(yi,{onClick:()=>s("hazard-map"),icon:"🗺️",label:"Hazard Map"}),d.jsx(yi,{onClick:()=>s("donations"),icon:"💰",label:"Donate"})]}),n.role==="analyst"&&d.jsxs(d.Fragment,{children:[d.jsx(yi,{onClick:()=>s("analytics"),icon:"📊",label:"Analytics"}),d.jsx(yi,{onClick:()=>s("social-media"),icon:"📱",label:"Social Media"}),d.jsx(yi,{onClick:()=>s("reports"),icon:"📋",label:"Reports"})]}),n.role==="official"&&d.jsxs(d.Fragment,{children:[d.jsx(yi,{onClick:()=>s("emergency"),icon:"🚨",label:"Emergency Response"}),d.jsx(yi,{onClick:()=>s("volunteers"),icon:"👥",label:"Volunteers"}),d.jsx(yi,{onClick:()=>s("resources"),icon:"📦",label:"Resources"})]}),(n.role==="admin"||n.role==="Admin")&&d.jsxs(d.Fragment,{children:[d.jsx(yi,{onClick:()=>s("system-admin"),icon:"⚙️",label:"System Admin"}),d.jsx(yi,{onClick:()=>s("user-management"),icon:"👤",label:"Users"}),d.jsx(yi,{onClick:()=>s("analytics"),icon:"📊",label:"Analytics"})]}),d.jsx(yi,{onClick:()=>s("settings"),icon:"⚙️",label:"Settings"})]})}),d.jsx("main",{className:"flex-1 bg-gray-50 overflow-x-auto",children:d.jsx("div",{className:"min-h-screen w-full p-4 sm:p-6 lg:p-8",children:d.jsx("div",{className:"max-w-full",children:d.jsx(L3,{currentView:t,user:n})})})})]})]})},yi=({active:n,onClick:e,icon:t,label:s})=>d.jsxs("button",{onClick:e,className:`w-full flex items-center space-x-2 sm:space-x-3 px-3 sm:px-4 py-2 sm:py-3 rounded-lg transition-all duration-200 text-left ${n?"bg-blue-50 border border-blue-200 text-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[d.jsx("span",{className:"text-base sm:text-lg flex-shrink-0",children:t}),d.jsx("span",{className:"font-medium text-sm sm:text-base truncate",children:s})]}),L3=({currentView:n,user:e})=>{if(n===`${e.role}-dashboard`)switch(e.role){case"citizen":return d.jsx(Nx,{user:e});case"official":return d.jsx(ij,{user:e});case"analyst":return d.jsx(I3,{user:e});case"admin":case"Admin":return d.jsx(j3,{user:e});default:return d.jsx(Nx,{user:e})}return n==="hazard-map"?d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Interactive Hazard Map"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Real-time visualization of ocean hazards across India's coastline."}),d.jsx(hh,{height:"600px"})]}):n==="report-hazard"?d.jsx(M3,{onClose:()=>{},onSubmit:t=>console.log("Report submitted:",t)}):n==="donations"?d.jsx(O3,{user:e}):n==="settings"?d.jsx(P3,{user:e}):n==="social-media"?d.jsx(k3,{user:e}):d.jsx("div",{children:d.jsxs("div",{className:"card text-center py-12",children:[d.jsx("div",{className:"text-6xl mb-4",children:"🚧"}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:n.replace("-"," ").replace(/\b\w/g,t=>t.toUpperCase())}),d.jsx("p",{className:"text-gray-600 mb-6",children:"This feature is being developed with advanced capabilities."}),d.jsxs("div",{className:"text-left max-w-md mx-auto",children:[d.jsx("h4",{className:"text-lg font-semibold text-blue-600 mb-3",children:"Coming Soon:"}),d.jsx("ul",{className:"space-y-2 text-gray-700",children:V3(n).map((t,s)=>d.jsxs("li",{className:"flex items-center space-x-2",children:[d.jsx("span",{className:"text-blue-600",children:"•"}),d.jsx("span",{children:t})]},s))})]})]})})},V3=n=>({"report-hazard":["Real-time GPS location","Photo/video uploads","AI-powered categorization"],"hazard-map":["Interactive 3D visualization","Real-time updates","Predictive modeling"],analytics:["Advanced data visualization","Machine learning insights","Custom reports"],"social-media":["Sentiment analysis","Real-time monitoring","Automated alerts"],emergency:["Automated response protocols","Resource optimization","Team coordination"],volunteers:["Skill-based matching","Real-time tracking","Performance analytics"]})[n]||["Enhanced functionality","Real-time updates","Advanced analytics"],z3=()=>{const[n,e]=ta.useState(null),[t,s]=ta.useState(!0);ta.useEffect(()=>{const c=localStorage.getItem("user"),f=localStorage.getItem("token");if(c&&f)try{const y=JSON.parse(c);e(y)}catch{localStorage.clear()}s(!1)},[]);const o=()=>{e(null),localStorage.clear()};return t?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"loading mb-4"}),d.jsx("p",{className:"text-slate-400",children:"Initializing Taranga System..."})]})}):d.jsx(HN,{children:d.jsxs("div",{className:"app-container",children:[d.jsx(U2,{position:"top-right",toastOptions:{duration:4e3,style:{background:"var(--background-card)",color:"var(--foreground)",border:"1px solid var(--border)",borderRadius:"var(--radius)",backdropFilter:"blur(10px)"}}}),d.jsxs(vN,{children:[d.jsx(xg,{path:"/",element:n?d.jsx(D3,{user:n,onLogout:o}):d.jsx(yx,{to:"/login",replace:!0})}),d.jsx(xg,{path:"/login",element:n?d.jsx(yx,{to:"/",replace:!0}):d.jsx(B2,{})})]})]})})};CA.createRoot(document.getElementById("root")).render(d.jsx(ta.StrictMode,{children:d.jsx(z3,{})}));
